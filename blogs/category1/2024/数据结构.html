<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据结构 | blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="陌小阳的博客">
    <meta name="description" content="this is my blog">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.47a191c6.css" as="style"><link rel="preload" href="/assets/js/app.c8e3a0f1.js" as="script"><link rel="preload" href="/assets/js/3.1f40c1f2.js" as="script"><link rel="preload" href="/assets/js/1.fd77260d.js" as="script"><link rel="preload" href="/assets/js/20.13402627.js" as="script"><link rel="prefetch" href="/assets/js/10.27468c1b.js"><link rel="prefetch" href="/assets/js/11.02b03c80.js"><link rel="prefetch" href="/assets/js/12.15f74c8b.js"><link rel="prefetch" href="/assets/js/13.93844b51.js"><link rel="prefetch" href="/assets/js/14.645c3afc.js"><link rel="prefetch" href="/assets/js/15.54763910.js"><link rel="prefetch" href="/assets/js/16.7ce4fb83.js"><link rel="prefetch" href="/assets/js/17.2a6c8b67.js"><link rel="prefetch" href="/assets/js/18.5af2a41f.js"><link rel="prefetch" href="/assets/js/19.8a6002cd.js"><link rel="prefetch" href="/assets/js/21.72517caa.js"><link rel="prefetch" href="/assets/js/22.b9eb4d25.js"><link rel="prefetch" href="/assets/js/4.51d906d3.js"><link rel="prefetch" href="/assets/js/5.2b3573cc.js"><link rel="prefetch" href="/assets/js/6.b8c0fc1c.js"><link rel="prefetch" href="/assets/js/7.d62414bd.js"><link rel="prefetch" href="/assets/js/8.69f56ef7.js"><link rel="prefetch" href="/assets/js/9.d4a50642.js">
    <link rel="stylesheet" href="/assets/css/0.styles.47a191c6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>blog</h3> <p class="description" data-v-59e6cb88>this is my blog</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>mo_xiao_yang</span>
          
        <!---->
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/C++/" class="nav-link"><i class="undefined"></i>
  C++
</a></li><li class="dropdown-item"><!----> <a href="/categories/else/" class="nav-link"><i class="undefined"></i>
  else
</a></li><li class="dropdown-item"><!----> <a href="/categories/Redis/" class="nav-link"><i class="undefined"></i>
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/categories/Computer Fundamentals/" class="nav-link"><i class="undefined"></i>
  Computer Fundamentals
</a></li><li class="dropdown-item"><!----> <a href="/categories/CMake/" class="nav-link"><i class="undefined"></i>
  CMake
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/moyangsun" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/moyangsun/md_notebook" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  md文档仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/pikaqiu.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    mo_xiao_yang
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>12</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>5</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/C++/" class="nav-link"><i class="undefined"></i>
  C++
</a></li><li class="dropdown-item"><!----> <a href="/categories/else/" class="nav-link"><i class="undefined"></i>
  else
</a></li><li class="dropdown-item"><!----> <a href="/categories/Redis/" class="nav-link"><i class="undefined"></i>
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/categories/Computer Fundamentals/" class="nav-link"><i class="undefined"></i>
  Computer Fundamentals
</a></li><li class="dropdown-item"><!----> <a href="/categories/CMake/" class="nav-link"><i class="undefined"></i>
  CMake
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/moyangsun" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/moyangsun/md_notebook" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  md文档仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>数据结构</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>mo_xiao_yang</span>
          
        <!---->
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">数据结构</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>mo_xiao_yang</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>8/13/2024</span></i> <i class="iconfont reco-eye" data-v-8a445198><span id="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-8a445198><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>Computer Fundamentals</span></i></div></div> <div class="theme-reco-content content__default"><div class="custom-block tip"><p class="title"></p><div class="language- extra-class"><pre><code>本笔记中的代码大部分来自01大学皮皮学长（ C语言版 ），图形大部分由我绘画，画工有限请见谅。
01星球：https://space.bilibili.com/1653229811
温馨提示：由于笔记的图床位于github，若是想查看图片需要魔法上网。
</code></pre></div></div><h1 id="线性表"><a href="#线性表" class="header-anchor">#</a> 线性表</h1> <p><strong>基本数据类型</strong> ：数据类型反映了数据的取值范围以及对这类数据可以施加的运算。（ 如整数型、浮点型等 ）</p> <p><strong>抽象数据类型</strong> ：只是⼀个数学模型以及定义在模型上的⼀组操作。通常是对数据的抽象，定义了数据的取值范围以及对数据操作的集合。（ 如数据结构中的链表、栈、队列等 ）</p> <p><strong>线性表抽象数据类型</strong>主要包括两个方面：既数据集合和该数据集合上的操作集合。</p> <p><strong>线性结构</strong>：</p> <div class="language- extra-class"><pre><code>1. 除第⼀个和最后⼀个数据元素外，每个数据元素只有⼀个前驱数据元素和⼀个后继数据元素；
2. 第⼀个数据元素没有前驱数据元素；
3. 最后⼀个数据元素没有后继数据元素；
</code></pre></div><h2 id="顺序表"><a href="#顺序表" class="header-anchor">#</a> 顺序表</h2> <h3 id="顺序表-2"><a href="#顺序表-2" class="header-anchor">#</a> 顺序表</h3> <p>​		在计算机内存中，顺序表是以数组的形式保存的线性表。也就是⼀组地址连续的存储单元依次存储数据元素的线性结构。</p> <p>​		在数组中，我们会先申请⼀段<strong>连续的内存空间</strong>，然后把数组以此存⼊内存当中，中间没有⼀点空隙。这就是⼀种顺序表存储数据的方式。对于顺序表的基本操作有：增（add），删（remove），改（set），查（find），插（insert）。</p> <p><strong>数据集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">Size</span> <span class="token expression"><span class="token number">5</span> </span><span class="token comment">// 初始化以及扩容的长度</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ElementType</span> <span class="token expression"><span class="token keyword">int</span></span><span class="token comment">// int 取别名</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArrayList</span> <span class="token punctuation">{</span>
	ElementType<span class="token operator">*</span> e<span class="token punctuation">;</span>	  <span class="token comment">// 存放数据元素的数组</span>
	<span class="token keyword">int</span> length<span class="token punctuation">;</span>		 <span class="token comment">// 顺序表中数据的总数量</span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span>        <span class="token comment">// 当前元素的数量</span>
<span class="token punctuation">}</span>MyArray<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>MyArray <span class="token function">initArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>						<span class="token comment">// 初始化操作</span>
<span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span><span class="token punctuation">;</span>	  <span class="token comment">// 添加一个元素</span>
<span class="token keyword">void</span> <span class="token function">del</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span><span class="token punctuation">;</span>	  <span class="token comment">// 删除指定的元素</span>
<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">,</span> ElementType temp_index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//插入一个元素 </span>
<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span><span class="token punctuation">;</span>	  <span class="token comment">// 查询指定的元素</span>
<span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span>MyArray arr<span class="token punctuation">)</span><span class="token punctuation">;</span>						<span class="token comment">// 展示当前顺序表的元素，即输出顺序表 </span>
<span class="token keyword">int</span> <span class="token function">index</span><span class="token punctuation">(</span>MyArray<span class="token operator">*</span> arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span><span class="token punctuation">;</span>	  <span class="token comment">// 寻找关键字所在的下标</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>顺序表优势</strong></p> <p>​		因为数据在数组中按顺序存储，可以通过数组下标直接访问，因此顺序表的查找定位元素很快。</p> <p><strong>顺序表劣势</strong></p> <p>​		插⼊和删除元素都需要大量的操作。
​		因为数组在声明的时候需要确定长度，因此顺序表的长度是确定的。若需要扩大顺序表长度，有需要大量的操作，不够灵活。（要将该数组中的元素全部copy到另外⼀个数组）
​		由于数据大小的不可测性，有时会浪费掉大量的空间</p> <p><strong>应用场景</strong></p> <p>​		总之，顺序表适⽤于那些不需要对于数据进行大量改动的结构。</p> <p><strong>顺序表的效率分析</strong></p> <p>​		综上所述，可以得出。顺序表对于插入、删除⼀个元素的时间复杂度是O(n)。
​		因为顺序表支持随机访问，顺序表读取⼀个元素的时间复杂度为O(1）。因为我们是通过下标访问的，所以时间复杂度是固定的，和问题的规模无关。
​		最⼤的优点是空间利用率高。最大的缺点是大小固定。</p> <h4 id="顺序表之初始化操作"><a href="#顺序表之初始化操作" class="header-anchor">#</a> 顺序表之初始化操作</h4> <p>​		初始化顺序表<code>MyArray</code>，向内存申请连续的大小为5*32（ 64位系统下 ）的空间。并且初始化数据集合中的各个变量。</p> <p>​		时间复杂度为O(1)</p> <p>​		空间复杂度为O(Size)</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>MyArray <span class="token function">initArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	MyArray array<span class="token punctuation">;</span>

	array<span class="token punctuation">.</span>e <span class="token operator">=</span> <span class="token punctuation">(</span>ElementType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>Size <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>array<span class="token punctuation">.</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;初始化失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	array<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	array<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="顺序表之增加操作"><a href="#顺序表之增加操作" class="header-anchor">#</a> 顺序表之增加操作</h4> <p>​		向顺序表中添加数据，传入待添加元素的数组与待添加的关键字，在添加前要先判断顺序表是否已经满了。满了需要扩容（ 这里没有演示和初始化的操作类似 ），若顺序表没满，那就在顺序表的末尾添加数据，并将<code>size++</code>。</p> <p>​		时间复杂度为O(1)</p> <p>​		空间复杂度为O(1)</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*
MyArray* arr :待添加元素的数组
ElementType key : 待添加的关键字
*/</span>
<span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>size <span class="token operator">&lt;</span> arr<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>arr<span class="token operator">-&gt;</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>
		arr<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;元素已满&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 顺序表满之后，要扩容</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="顺序表之删除操作"><a href="#顺序表之删除操作" class="header-anchor">#</a> 顺序表之删除操作</h4> <p>​		删除操作建立在查找上面。需要先查找到需要删除数据的下标。若查找到元素则将这个元素后面的元素全部前移一格，并且将<code>size--</code>。</p> <p>​		时间复杂度O(n)</p> <p>​		空间复杂度O(1)</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span> <span class="token function">index</span><span class="token punctuation">(</span>MyArray<span class="token operator">*</span> arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span> <span class="token comment">// 找到关键字所在的下标</span>
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 数组下标变量 从0开始</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> arr<span class="token operator">-&gt;</span>size<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">// 如果第i个元素和关键字相等 返回下标i</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> i<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 下标+1</span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// 没有找到下标</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">del</span><span class="token punctuation">(</span>MyArray<span class="token operator">*</span> arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">// 找到关键字所在的下标</span>
	<span class="token keyword">int</span> temp_index <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 判断关键字是否存在</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>temp_index <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">// 待删除的关键字存在 移动</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>temp_index <span class="token operator">&lt;</span> arr <span class="token operator">-&gt;</span> size<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>temp_index<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>temp_index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			temp_index<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 移动完 数组元素 - 1</span>
		arr<span class="token operator">-&gt;</span>size<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;没有该元素&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="顺序表之修改操作"><a href="#顺序表之修改操作" class="header-anchor">#</a> 顺序表之修改操作</h4> <p>​		修改操作就是删除操作的简化（ 代码不再给出 ）</p> <p>​		时间复杂度O(n)</p> <p>​		空间复杂度O(1)</p> <h4 id="顺序表之查询操作"><a href="#顺序表之查询操作" class="header-anchor">#</a> 顺序表之查询操作</h4> <p>​		这个和删除操作中的查询下标十分的相似，不再赘述。</p> <p>​		时间复杂度O(N)</p> <p>​		空间复杂度O(1)</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;当前没有元素&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> arr<span class="token operator">-&gt;</span>size<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="顺序表之插入操作"><a href="#顺序表之插入操作" class="header-anchor">#</a> 顺序表之插入操作</h4> <p>​		插入操作和删除操作十分的相似，只是一个是将数据向前覆盖（ 删除操作 ），一个是将数据向后覆盖（ 插入操作 ）。同时对于<code>size</code>进行改变的时机也不同。</p> <p>​		时间复杂度O(N)</p> <p>​		空间复杂度O(1)</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/* ElementType temp_index 插入位置的下标 */</span>
<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">,</span> ElementType temp_index<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	
	<span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>size <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;元素已满，插入失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	<span class="token punctuation">}</span> 
	<span class="token comment">// 数组元素 + 1</span>
	arr<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
	
	<span class="token keyword">int</span> size <span class="token operator">=</span> arr<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span><span class="token comment">// 用来存储待顺序表当前的元素数量 </span>
	
	<span class="token comment">// 待插入的关键字存在 移动</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>size <span class="token operator">&gt;</span> temp_index<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		size<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
    <span class="token comment">// 修改索引位置的值</span>
	arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>temp_index<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span> 
		
	
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="顺序表总代码"><a href="#顺序表总代码" class="header-anchor">#</a> 顺序表总代码</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">Size</span> <span class="token expression"><span class="token number">5</span> </span><span class="token comment">//初始化以及扩容的长度</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ElementType</span> <span class="token expression"><span class="token keyword">int</span></span><span class="token comment">//int 取别名</span></span>

<span class="token comment">//数据集合 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArrayList</span> <span class="token punctuation">{</span>
	ElementType<span class="token operator">*</span> e<span class="token punctuation">;</span><span class="token comment">//存放数据元素的数组</span>
	<span class="token keyword">int</span> length<span class="token punctuation">;</span><span class="token comment">//顺序表中数据的总数量</span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token comment">//当前元素的数量</span>
<span class="token punctuation">}</span>MyArray<span class="token punctuation">;</span>

<span class="token comment">//操作集合 </span>
MyArray <span class="token function">initArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化操作</span>
<span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加一个元素</span>
<span class="token keyword">void</span> <span class="token function">del</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除指定的元素</span>
<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">,</span> ElementType temp_index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//插入一个元素 </span>
<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查询指定的元素</span>
<span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span>MyArray arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//展示当前顺序表的元素，即输出顺序表 </span>
<span class="token keyword">int</span> <span class="token function">index</span><span class="token punctuation">(</span>MyArray<span class="token operator">*</span> arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//寻找关键字所在的下标</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	MyArray a<span class="token punctuation">;</span>
	a <span class="token operator">=</span> <span class="token function">initArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">show</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">del</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">show</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	<span class="token function">insert</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">show</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

MyArray <span class="token function">initArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	MyArray array<span class="token punctuation">;</span>

	array<span class="token punctuation">.</span>e <span class="token operator">=</span> <span class="token punctuation">(</span>ElementType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>Size <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>array<span class="token punctuation">.</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;初始化失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	array<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	array<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">/*
MyArray* arr :待添加元素的数组
ElementType key : 待添加的关键字
*/</span>
<span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>size <span class="token operator">&lt;</span> arr<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>arr<span class="token operator">-&gt;</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>
		arr<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;元素已满&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//顺序表满之后，要扩容</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">del</span><span class="token punctuation">(</span>MyArray<span class="token operator">*</span> arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//找到关键字所在的下标</span>
	<span class="token keyword">int</span> temp_index <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//判断关键字是否存在</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>temp_index <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">//待删除的关键字存在 移动</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>temp_index <span class="token operator">&lt;</span> arr <span class="token operator">-&gt;</span> size<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>temp_index<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>temp_index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			temp_index<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//移动完 数组元素 - 1</span>
		arr<span class="token operator">-&gt;</span>size<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;没有该元素&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">index</span><span class="token punctuation">(</span>MyArray<span class="token operator">*</span> arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//数组下标变量 从0开始</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> arr<span class="token operator">-&gt;</span>size<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">//如果第i个元素和关键字相等 返回下标i</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> i<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//下标+1</span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//没有找到下标</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">,</span> ElementType temp_index<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	
	<span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>size <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;元素已满，插入失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	<span class="token punctuation">}</span> 
	<span class="token comment">// 数组元素 + 1</span>
	arr<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
	
	<span class="token keyword">int</span> size <span class="token operator">=</span> arr<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span><span class="token comment">// 用来存储待顺序表当前的元素数量 </span>
	
	<span class="token comment">// 待插入的关键字存在 移动</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>size <span class="token operator">&gt;</span> temp_index<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		size<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>temp_index<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span> 
	
	
	
<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>MyArray <span class="token operator">*</span>arr<span class="token punctuation">,</span> ElementType key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;当前没有元素&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> arr<span class="token operator">-&gt;</span>size<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-&gt;</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span>MyArray arr<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;当前没有元素&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>arr<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			i<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br></div></div><h2 id="链表"><a href="#链表" class="header-anchor">#</a> 链表</h2> <p>​		为了避免插入和删除的线性开销，我们允许表可以不连续存储，否则表的部分或全部需要整体移动。而且大小无法改变。为了应对顺序表的缺陷，链表就此诞⽣。链表也是继数组之后第⼆种使⽤的最⼴泛的通⽤数据结构</p> <p><strong>链表结构</strong>：在物理上不连续，在逻辑上连续，大小不固定。</p> <p><strong>链式存储结构</strong>：数据域 + 指针域</p> <p><strong>数据域</strong>：存数据元素的区域</p> <p><strong>指针域</strong>：存储直接后继位置的区域</p> <p><strong>链式存储分类</strong>：单向链表，单向循环链表，双向链表，双向循环链表</p> <h3 id="单向链表"><a href="#单向链表" class="header-anchor">#</a> 单向链表</h3> <p>​		链表的每个节点只包含⼀个指针域。叫做单链表（即构成链表的每个节点只有⼀个指向后继节点的指针）</p> <p>​		单向链表有带头节点和不带头节点两种结构。（ 下面展示的都是带头节点的单向链表 ）</p> <p>​		链表中，第⼀个结点存储的位置叫头指针，如果链表有头结点，那么头指针就是指向头结点的指针。</p> <p>​		头指针所指的不存在数据元素的第⼀个结点就叫做头结点（而头结点又指向首元结点）。头结点⼀般不放数据（有的时候也是放的，比如链表的长度，用做监视）。</p> <p><strong>属性集合</strong></p> <p>​		每个节点包含数据域<code>element</code>和指针域<code>next</code>。</p> <p>​		解释一下结构体中定义节点命名相关的知识</p> <ul><li>等同于： <code>typedef struct NodeList* linklist;</code></li> <li><code>linklist</code>与<code>node*</code>等价，都是用来声明结构体指针变量的</li> <li><code>linklist</code>强调该指针标记标记了一个单链表</li> <li><code>node*</code> 强调该指针标记了一个结点</li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// 带头结点单链表</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">NodeList</span><span class="token punctuation">{</span><span class="token comment">// 属性集合（结点） </span>
	<span class="token comment">// 数据</span>
	<span class="token keyword">int</span> element<span class="token punctuation">;</span>
	<span class="token comment">// 指向下一个结点指针 </span>
	<span class="token keyword">struct</span> <span class="token class-name">NodeList</span><span class="token operator">*</span> next<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>node<span class="token punctuation">,</span><span class="token operator">*</span>linklist<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c++ line-numbers-mode"><pre class="language-text"><code>linklist initlist();// 初始化链表
void head_insert(int,linklist);// 头插法添加数据
void tail_insert(int,linklist);// 尾插法添加数据
void delete_node(int,linklist);// 删除操作
void modify_node(int,linklist);// 修改操作
node* find(int,linklist);// 查找操作
void mid_insert(int,linklist,int);// 在数据为i的结点后插入数据域为k的新结点
void i_insert(int,linklist,int);// 在第i个位置插入数据域为k的新结点
void printff(linklist)// 打印链表
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="单向链表之初始化操作"><a href="#单向链表之初始化操作" class="header-anchor">#</a> 单向链表之初始化操作</h4> <p>​		初始化一个带头节点的单链表。首先初始化一个头节点，并使用头指针<code>head</code>指向头节点。用malloc出来的空间都要进行判断，内存是否分配成功。分配成功，补充节点的指针域。由于时初始化，所以指向<code>NULL</code>。</p> <p>​		稍微提一下<code>malloc</code>。<code>malloc</code>的返回值为<code>void*</code>，所有当用malloc申请一个空间时，往往使用强制转换，初始化操作中<code>(linklist)</code>就是强制转为节点结构体类型。同时要指明分配空间的大小，初始化中的<code>sizeof(node)</code>就是告诉了大小。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>linklist <span class="token function">initlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">// 初始化带头结点的单链表 </span>
	linklist head<span class="token operator">=</span><span class="token punctuation">(</span>linklist<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// head指向头结点 </span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>head<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// malloc 需要判断 内存分配是否成功</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;内存分配不成功\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 内存分配不成功 </span>
	 <span class="token punctuation">}</span> 
	 <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">// 分配成功 </span>
		head<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
	 <span class="token punctuation">}</span> 
	<span class="token keyword">return</span> head<span class="token punctuation">;</span> 
 <span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="单向链表之增加操作"><a href="#单向链表之增加操作" class="header-anchor">#</a> 单向链表之增加操作</h4> <p>​		单链表中添加数据有两种写法，一种是头插法添加数据，一种是尾插法添加数据。</p> <p><strong>头插法添加数据</strong></p> <p>​		头插法增加数据的顺序是反的。</p> <ol><li><p>先分配一个节点（ 其实这边是需要判断是否成功，懒！！），将数据写入节点。</p></li> <li><p>将新节点的后继指向头节点的后继</p></li> <li><p>将头节点的后继指向新节点</p> <p>时间复杂度O(1)</p> <p>空间复杂度O(1) （ 节点除外 ）</p></li></ol> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">head_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>linklist head<span class="token punctuation">)</span><span class="token comment">// 头插法添加元素</span>
<span class="token punctuation">{</span>
	node<span class="token operator">*</span> newNode <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	newNode<span class="token operator">-&gt;</span>element<span class="token operator">=</span>k<span class="token punctuation">;</span><span class="token comment">// 数据写入结点 </span>
    
	newNode<span class="token operator">-&gt;</span>next<span class="token operator">=</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	head<span class="token operator">-&gt;</span>next<span class="token operator">=</span>newNode<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>尾插法添加数据</strong></p> <p>​		尾插法增加数据的顺序是正的。</p> <ol><li><p>先分配一个节点，将数据写入节点。</p></li> <li><p>创造一个临时指针指向头节点</p></li> <li><p>遍历到链表末尾</p></li> <li><p>此时临时节点的后继指向新节点</p> <p>时间复杂度O(n)</p> <p>空间复杂度O(1) （ 节点除外 ）</p></li></ol> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">tail_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>linklist head<span class="token punctuation">)</span><span class="token comment">// 尾插法添加数据</span>
<span class="token punctuation">{</span>
	node<span class="token operator">*</span> newNode<span class="token operator">=</span><span class="token punctuation">(</span>node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	newNode<span class="token operator">-&gt;</span>element<span class="token operator">=</span>k<span class="token punctuation">;</span><span class="token comment">// 数据写入结点</span>
    
	node<span class="token operator">*</span> temp <span class="token operator">=</span> head<span class="token punctuation">;</span> <span class="token comment">// 临时指针指向头节点</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>temp<span class="token operator">-&gt;</span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历到链表末尾</span>
        temp <span class="token operator">=</span> temp<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    temp<span class="token operator">-&gt;</span>next <span class="token operator">=</span> newNode<span class="token punctuation">;</span> <span class="token comment">// 将新节点连接到链表末尾</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="单向链表之删除操作"><a href="#单向链表之删除操作" class="header-anchor">#</a> 单向链表之删除操作</h4> <p>​		删除分为查找和删除操作，即先找到这个结点，再删除。</p> <ol><li><p>先要判定链表是否存在,以及链表是否还存在节点（ 头节点一般不作为增删改查的对象 ）。</p></li> <li><p>确定链表中是否存在目标节点（ 详细代码详看单链表之查询操作 ），且将指针<code>p</code>指向目标节点。</p></li> <li><p>新建指针<code>q</code>移动到想要删除目标的前一个节点。</p></li> <li><p>将<code>q</code>的后继指向<code>p</code>的后继</p></li> <li><p>释放掉目标节点的空间</p> <p>时间复杂度O(n)</p> <p>空间复杂度O(1)</p></li></ol> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">delete_node</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>linklist head<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">// 这个链表是否存在，还能否继续删除 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>head<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span>head<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空链表\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 返回是空链表 </span>
    	<span class="token comment">// 要先判断这个链表是不是空的，也就是还能不能删</span>
		<span class="token keyword">return</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	node<span class="token operator">*</span> p<span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;未找到删除结点\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// k不在链表中 </span>
	 <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">// 要删除第i个结点，要先找到第i-1个 </span>
	 	node <span class="token operator">*</span>q<span class="token operator">=</span>head<span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>q<span class="token operator">-&gt;</span>next<span class="token operator">!=</span>p <span class="token punctuation">)</span><span class="token comment">// 找到第i-1个 </span>
		<span class="token punctuation">{</span>
			q<span class="token operator">=</span>q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>   
		q<span class="token operator">-&gt;</span>next <span class="token operator">=</span>p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="单向链表之修改操作"><a href="#单向链表之修改操作" class="header-anchor">#</a> 单向链表之修改操作</h4> <p>​		单链表的修改操作和删除操作十分的相似</p> <ol><li><p>先要判定链表是否存在,以及链表是否还存在节点（ 头节点一般不作为增删改查的对象 ）。</p></li> <li><p>确定链表中是否存在目标节点（ 详细代码详看单链表之查询操作 ），且将指针<code>p</code>指向目标节点。</p></li> <li><p>将<code>p-&gt;element</code>的值修改。</p> <p>时间复杂度：O(n)</p> <p>空间复杂度：O(1)</p></li></ol> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">modify_node</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>linklist head<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 这个链表是否存在，还能否继续删除 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>head<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span>head<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空链表\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 返回是空链表 </span>
    	<span class="token comment">// 要先判断这个链表是不是空的，也就是还能不能删</span>
		<span class="token keyword">return</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
    node<span class="token operator">*</span> p<span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;未找到删除结点\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// k不在链表中 </span>
	 <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
        p<span class="token operator">-&gt;</span>element <span class="token operator">=</span> k<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="单向链表之查找操作"><a href="#单向链表之查找操作" class="header-anchor">#</a> 单向链表之查找操作</h4> <p>​		查询<code>k</code>所在的结点，查询有两种，一种是找到这个结点。另一种是找到这个结点在链表中的哪个位置</p> <ol><li><p>创造一个新指针<code>p</code>。</p></li> <li><p>寻找到该节点，返回节点。</p> <p>时间复杂度：O(n)</p> <p>空间复杂度：O(1)</p></li></ol> <div class="language-c line-numbers-mode"><pre class="language-c"><code>node<span class="token operator">*</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>linklist head<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	node<span class="token operator">*</span> p <span class="token operator">=</span> head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//第一个元素 </span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>p<span class="token operator">-&gt;</span>element <span class="token operator">!=</span>k<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	 <span class="token punctuation">}</span> 
	 <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token comment">//若没找到，则p=NULL,用查询结果的时候判断有没有找到 </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="单向链表之插入节点"><a href="#单向链表之插入节点" class="header-anchor">#</a> 单向链表之插入节点</h4> <p>​		插入节点相比于单链表的其他操作较为复杂。插入节点分为两种情况。第一种情况是在<code>i</code>节点后插入一个节点，另一种情况是在<code>i</code>位置插入一个节点。</p> <p><strong>第一种情况</strong></p> <p>​		在数据为<code>i</code>的结点后插入数据域为<code>k</code>的新结点</p> <ol><li><p>创造一个新节点<code>s</code>，并赋值。</p></li> <li><p>寻找到数据为<code>i</code>的结点<code>p</code>。</p></li> <li><p>将<code>s</code>的后继指向<code>p</code>的后继</p></li> <li><p>将<code>p</code>的后继指向<code>s</code></p> <p>时间复杂度：O(n)</p> <p>空间复杂度：O(1)</p></li></ol> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">mid_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>linklist head<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	node<span class="token operator">*</span> s<span class="token operator">=</span><span class="token punctuation">(</span>node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>element<span class="token operator">=</span>k<span class="token punctuation">;</span><span class="token comment">// 数据写入结点 </span>
	
	node<span class="token operator">*</span> p<span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 找到P结点 </span>
	
	s<span class="token operator">-&gt;</span>next<span class="token operator">=</span>p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">// 插入 </span>
	p<span class="token operator">-&gt;</span>next<span class="token operator">=</span>s<span class="token punctuation">;</span>
	
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>第二种情况</strong></p> <p>​		在第<code>i</code>个位置插入数据域为<code>k</code>的新结点</p> <ol><li><p>创造一个新节点<code>s</code>，并赋值。</p></li> <li><p>寻找到位置为<code>i-1</code>的结点<code>p</code>。</p></li> <li><p>将<code>s</code>的后继指向<code>p</code>的后继</p></li> <li><p>将<code>p</code>的后继指向<code>s</code></p> <p>时间复杂度：O(n)</p> <p>空间复杂度：O(1)</p></li></ol> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">i_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>linklist head<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	node<span class="token operator">*</span> s<span class="token operator">=</span><span class="token punctuation">(</span>node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>element<span class="token operator">=</span>k<span class="token punctuation">;</span><span class="token comment">// 数据写入结点</span>
	node <span class="token operator">*</span>p<span class="token operator">=</span>head<span class="token punctuation">;</span><span class="token comment">// 找第i-1个结点</span>
	<span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>j<span class="token operator">&lt;</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		j<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>next<span class="token operator">=</span>p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	p<span class="token operator">-&gt;</span>next<span class="token operator">=</span>s<span class="token punctuation">;</span>
	<span class="token comment">// 注意：不带头结点时的代码：分i=1时的特判和i！=1	</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="单向链表总代码"><a href="#单向链表总代码" class="header-anchor">#</a> 单向链表总代码</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token comment">// 带头结点单链表</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">NodeList</span> <span class="token punctuation">{</span><span class="token comment">// 属性集合（结点） </span>
    <span class="token comment">// 数据</span>
    <span class="token keyword">int</span> element<span class="token punctuation">;</span>
    <span class="token comment">// 指向下一个结点指针 </span>
    <span class="token keyword">struct</span> <span class="token class-name">NodeList</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>node<span class="token punctuation">,</span> <span class="token operator">*</span> linklist<span class="token punctuation">;</span>

linklist <span class="token function">initlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 初始化链表</span>
<span class="token keyword">void</span> <span class="token function">head_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> linklist<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 头插法添加数据</span>
<span class="token keyword">void</span> <span class="token function">tail_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> linklist<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 尾插法添加数据</span>
<span class="token keyword">void</span> <span class="token function">delete_node</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> linklist<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 删除操作</span>
<span class="token keyword">void</span> <span class="token function">modify_node</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> linklist<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 修改操作</span>
node<span class="token operator">*</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> linklist<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 查找操作</span>
<span class="token keyword">void</span> <span class="token function">mid_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> linklist<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 在数据为i的结点后插入数据域为k的新结点</span>
<span class="token keyword">void</span> <span class="token function">i_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> linklist<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 在第i个位置插入数据域为k的新结点</span>
<span class="token keyword">void</span> <span class="token function">printff</span><span class="token punctuation">(</span>linklist<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 打印链表</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    linklist head <span class="token operator">=</span> <span class="token function">initlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">head_insert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">head_insert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">tail_insert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">tail_insert</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_node</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_node</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">mid_insert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> head<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">mid_insert</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> head<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">i_insert</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> head<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">i_insert</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> head<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

linklist <span class="token function">initlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">// 初始化带头结点的单链表 </span>
    linklist head <span class="token operator">=</span> <span class="token punctuation">(</span>linklist<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// head指向头结点 </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// malloc 需要判断 内存分配是否成功</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;内存分配不成功\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 内存分配不成功 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">// 分配成功 </span>
        head<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> head<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">head_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> linklist head<span class="token punctuation">)</span><span class="token comment">// 头插法添加元素</span>
<span class="token punctuation">{</span>
    node<span class="token operator">*</span> newNode <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    newNode<span class="token operator">-&gt;</span>element <span class="token operator">=</span> k<span class="token punctuation">;</span><span class="token comment">// 数据写入结点 </span>

    newNode<span class="token operator">-&gt;</span>next <span class="token operator">=</span> head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    head<span class="token operator">-&gt;</span>next <span class="token operator">=</span> newNode<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">tail_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> linklist head<span class="token punctuation">)</span><span class="token comment">// 尾插法添加数据</span>
<span class="token punctuation">{</span>
    node<span class="token operator">*</span> newNode <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 为新节点分配内存</span>

    newNode<span class="token operator">-&gt;</span>element <span class="token operator">=</span> k<span class="token punctuation">;</span> <span class="token comment">// 数据写入节点</span>
    newNode<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> <span class="token comment">// 新节点的 next 指针初始化为 NULL</span>

    node<span class="token operator">*</span> temp <span class="token operator">=</span> head<span class="token punctuation">;</span> <span class="token comment">// 临时指针指向头节点</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>temp<span class="token operator">-&gt;</span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 遍历到链表末尾</span>
        temp <span class="token operator">=</span> temp<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    temp<span class="token operator">-&gt;</span>next <span class="token operator">=</span> newNode<span class="token punctuation">;</span> <span class="token comment">// 将新节点连接到链表末尾</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">delete_node</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> linklist head<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 这个链表是否存在，还能否继续删除 </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> head<span class="token operator">-&gt;</span>next <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空链表\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 返回是空链表 </span>
        <span class="token comment">// 要先判断这个链表是不是空的，也就是还能不能删</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    node<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;未找到删除结点\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// k不在链表中 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">// 要删除第i个结点，要先找到第i-1个 </span>
        node<span class="token operator">*</span> q <span class="token operator">=</span> head<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>q <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q<span class="token operator">-&gt;</span>next <span class="token operator">!=</span> p<span class="token punctuation">)</span><span class="token comment">// 找到第i-1个 </span>
        <span class="token punctuation">{</span>
            q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        q<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">modify_node</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> linklist head<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 这个链表是否存在，还能否继续删除 </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> head<span class="token operator">-&gt;</span>next <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空链表\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 返回是空链表 </span>
        <span class="token comment">// 要先判断这个链表是不是空的，也就是还能不能删</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    node<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;未找到删除结点\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// k不在链表中 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        p<span class="token operator">-&gt;</span>element <span class="token operator">=</span> k<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


node<span class="token operator">*</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> linklist head<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    node<span class="token operator">*</span> p <span class="token operator">=</span> head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//第一个元素 </span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> p<span class="token operator">-&gt;</span>element <span class="token operator">!=</span> k<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token comment">//若没找到，则p=NULL,用查询结果的时候判断有没有找到 </span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">mid_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> linklist head<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    node<span class="token operator">*</span> s <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>element <span class="token operator">=</span> k<span class="token punctuation">;</span><span class="token comment">// 数据写入结点 </span>

    node<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 找到P结点 </span>

    s<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">// 插入 </span>
    p<span class="token operator">-&gt;</span>next <span class="token operator">=</span> s<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">i_insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> linklist head<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    node<span class="token operator">*</span> s <span class="token operator">=</span> <span class="token punctuation">(</span>node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>element <span class="token operator">=</span> k<span class="token punctuation">;</span><span class="token comment">// 数据写入结点</span>
    node<span class="token operator">*</span> p <span class="token operator">=</span> head<span class="token punctuation">;</span><span class="token comment">// 找第i-1个结点</span>
    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        j<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    p<span class="token operator">-&gt;</span>next <span class="token operator">=</span> s<span class="token punctuation">;</span>
    <span class="token comment">// 注意：不带头结点时的代码：分i=1时的特判和i！=1	</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">printff</span><span class="token punctuation">(</span>linklist head<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    node<span class="token operator">*</span> p<span class="token punctuation">;</span>
    p <span class="token operator">=</span> head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br></div></div><h3 id="双向链表"><a href="#双向链表" class="header-anchor">#</a> 双向链表</h3> <p>​		有时候以倒序扫描链表很方便。标准实现方法此时无能为力，然而解决方法却很简单。只要在数据结构上附加一个域使它包含指向前一个单元的指针即可。其开销是一个附加的链，它增加了空间的需求，同时也使得插入和删除的开销增加一倍，因为有更多的指针需要定位。另外，它简化了删除操作，因为你不再被迫使用一个指向前驱元的指针来访问一个关键字，这个信息是现成的。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 双向链表 //</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">NodeList</span><span class="token punctuation">{</span><span class="token comment">// 属性集合（结点） </span>
    <span class="token comment">// 数据</span>
    <span class="token keyword">int</span> element<span class="token punctuation">;</span>

    <span class="token comment">// 指向下一个结点指针 </span>
    <span class="token keyword">struct</span> <span class="token class-name">NodeList</span><span class="token operator">*</span> next<span class="token punctuation">;</span> 
    <span class="token comment">// 指向前一个结点指针 </span>
    <span class="token keyword">struct</span> <span class="token class-name">NodeList</span><span class="token operator">*</span> pr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>node<span class="token punctuation">,</span><span class="token operator">*</span>linklist<span class="token punctuation">;</span>

linklist <span class="token function">initlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 初始化带头结点的双链表 </span>
<span class="token punctuation">{</span>
    linklist head<span class="token operator">=</span><span class="token punctuation">(</span>linklist<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// head指向头结点 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>head<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// malloc 需要判断 内存分配是否成功</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 内存分配不成功 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">// 分配成功 </span>
        head<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
        head<span class="token operator">-&gt;</span>pr <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> head<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token comment">// 增删改查时多一个对前驱指针的处理 </span>
<span class="token comment">// 插入及删除注意代码顺序 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="循环链表"><a href="#循环链表" class="header-anchor">#</a> 循环链表</h3> <p>​		让最后的单元反过来直指第一个单元是一种流行的做法。它可以有表头，也可以没有表头(若有表头，则最后的单元就指向它)。这无疑会影响某些测试，不过这种结构在某些应用程序中却很流行。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 只需要在初始化时，让头结点自己指向自己，循环起来即可，</span>
<span class="token comment">// 其他操作同单链表 </span>
linklist <span class="token function">initlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 初始化带头结点的循环单链表 </span>
<span class="token punctuation">{</span>
    linklist head<span class="token operator">=</span><span class="token punctuation">(</span>linklist<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// head指向头结点 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>head<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// malloc 需要判断 内存分配是否成功</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 内存分配不成功 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">// 分配成功 </span>
        <span class="token comment">/*更改：head-&gt;next=NULL;*/</span>
        head<span class="token operator">-&gt;</span>next<span class="token operator">=</span>head<span class="token punctuation">;</span><span class="token comment">// 自己指向自己</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> head<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="循环双向链表"><a href="#循环双向链表" class="header-anchor">#</a> 循环双向链表</h3> <p>​		循环双向链表(第一个单元的前驱元指针指向最后的单元)。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 循环双向链表 //</span>
linklist <span class="token function">initlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> 
	linklist head<span class="token operator">=</span><span class="token punctuation">(</span>linklist<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// head指向头结点 </span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>head<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// malloc 需要判断 内存分配是否成功</span>
	<span class="token punctuation">{</span>
		<span class="token comment">// 内存分配不成功 </span>
	 <span class="token punctuation">}</span> 
	 <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">// 分配成功 </span>
	 	head<span class="token operator">-&gt;</span>next<span class="token operator">=</span>head<span class="token punctuation">;</span>
	 	head<span class="token operator">-&gt;</span>pr <span class="token operator">=</span>head<span class="token punctuation">;</span> 
	 <span class="token punctuation">}</span> 
	<span class="token keyword">return</span> head<span class="token punctuation">;</span> 
 <span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="栈"><a href="#栈" class="header-anchor">#</a> 栈</h2> <p>​		栈是限制插入和删除只能在一个位置上进行的表，该位置是表的末端，叫做栈的顶（ <code>top</code> ）。对栈的基本操作有进栈（ <code>push</code> ）和出栈（ <code>pop</code> ）操作，前者相当于插入，后者相当于删除。</p> <p>​		栈又叫做LIFO（ 后进先出 ），这就是栈的最主要特点。</p> <p>​		栈有两种实现方式，一种是顺序存储结构、链式存储结构 。</p> <p>​		栈的所有操作的时空复杂度都为O(1) （ 出去开辟栈空间的内存损耗 ），后面不再赘述。</p> <h3 id="顺序栈"><a href="#顺序栈" class="header-anchor">#</a> 顺序栈</h3> <p>​		顺序栈是比较流行的实现栈的方式。这种策略的唯一潜在危害是我们需要先声明一个固定大小的数组。当然在这边演示我使用的指针来表示栈中元素。注释掉的是没使用指针，直接用来数组来表示。</p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxsize</span> <span class="token expression"><span class="token number">10</span></span></span>
<span class="token comment">///顺序栈///</span>
<span class="token comment">/*typedef struct{
	int date[maxsize];//栈中元素 
	int top;// 栈顶指针 	
}sstack;*/</span> 

<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> <span class="token operator">*</span>date<span class="token punctuation">;</span><span class="token comment">//栈中元素 </span>
	<span class="token keyword">int</span> top<span class="token punctuation">;</span><span class="token comment">// 栈顶指针 	</span>
<span class="token punctuation">}</span>sstack<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//栈操作：初始化，判空，入栈（push),出栈（pop),读取栈顶元素（top）</span>
sstack <span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 初始化栈</span>
<span class="token keyword">void</span> <span class="token function">Pushh</span><span class="token punctuation">(</span>sstack<span class="token operator">*</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 入栈操作</span>
<span class="token keyword">void</span> <span class="token function">Popp</span><span class="token punctuation">(</span>sstack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 出栈操作</span>
<span class="token keyword">void</span> <span class="token function">gettop</span><span class="token punctuation">(</span>sstack<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 读取栈顶操作</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="顺序栈之初始化操作"><a href="#顺序栈之初始化操作" class="header-anchor">#</a> 顺序栈之初始化操作</h4> <p>​		顺序栈初始化时，先申请<code>10</code>个单位的<code>int</code>型的空间。接着初始化<code>top</code>指针为<code>-1</code>。（ 这里栈顶指针的叫法是象征意义，这个<code>top</code>实际上不是指针，只是象征性的指向栈顶而已 ）。对<code>top</code>的初始化有差异，这边是把栈顶指针初始化为<code>-1</code>当然可以初始化为<code>0</code>，两者在后续操作中具体的操作顺序会进行改变。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//初始化 </span>
sstack <span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    sstack s<span class="token punctuation">;</span>
    s<span class="token punctuation">.</span>date <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span>maxsize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//初始化栈顶指针</span>
    <span class="token comment">//也有 s.top=0</span>
    <span class="token comment">// =-1,先加后赋值，指针指向栈顶元素</span>
    <span class="token comment">//=0，先赋值再加，指针指向 栈顶元素的下一个存储单元 </span>
    <span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="顺序栈之入栈操作"><a href="#顺序栈之入栈操作" class="header-anchor">#</a> 顺序栈之入栈操作</h4> <p>​		顺序栈的入栈操作，由于我们对栈中的元素进行了更改，所以我们要通过指针转递（ 整个数据结构我们使用的C语言，而不是C++所以我们不使用引用 ）。要先对栈进行判断，栈是否满。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//入栈--对栈进行了修改，指针传递 </span>
<span class="token keyword">void</span> <span class="token function">Pushh</span><span class="token punctuation">(</span>sstack <span class="token operator">*</span>s<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//栈空间固定，加入一个元素要先判断是否满了，还能不能加入 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top<span class="token operator">==</span>maxsize<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">// 由于我们设的top是-1，所以判断时用maxsize-1</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈满\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//栈满报错，不能加入 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        s<span class="token operator">-&gt;</span>top<span class="token operator">++</span><span class="token punctuation">;</span>
        s<span class="token operator">-&gt;</span>date <span class="token punctuation">[</span>s<span class="token operator">-&gt;</span>top<span class="token punctuation">]</span><span class="token operator">=</span>k<span class="token punctuation">;</span>
        <span class="token comment">// s.date [++s.top]=k;//（ date[maxsize]形式 ）</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="顺序栈之出栈操作"><a href="#顺序栈之出栈操作" class="header-anchor">#</a> 顺序栈之出栈操作</h4> <p>​		出栈操作同样是对栈的内容进行了更改，所以我们使用指针来传递栈。在出栈操作前我们要先判断栈是否为空，接着我们只需要将栈顶指针减一即可。（ 栈顶指针以上的数据，我们叫做垃圾值， 当有新的值入栈时，会直接覆盖到哪些值 ）</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//出栈</span>
<span class="token keyword">void</span> <span class="token function">Popp</span><span class="token punctuation">(</span>sstack <span class="token operator">*</span>s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//删除之前判空，还有没有的删</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//栈空报错，不能删除 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        s<span class="token operator">-&gt;</span>top<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="顺序栈之读取栈顶操作"><a href="#顺序栈之读取栈顶操作" class="header-anchor">#</a> 顺序栈之读取栈顶操作</h4> <p>​		只读取栈顶，不需要改变栈，所以只要传形参就行。在读取操作前同样要进行判空。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//读取栈顶元素</span>
<span class="token keyword">void</span> <span class="token function">gettop</span><span class="token punctuation">(</span>sstack s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//判空，还有没有的读取 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>top<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//栈空报错，不能删除 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span>date<span class="token punctuation">[</span>s<span class="token punctuation">.</span>top<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="顺序栈总代码"><a href="#顺序栈总代码" class="header-anchor">#</a> 顺序栈总代码</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxsize</span> <span class="token expression"><span class="token number">10</span></span></span>

<span class="token comment">///顺序栈///</span>
<span class="token comment">/*typedef struct{
	int date[maxsize];//栈中元素 
	int top;// 栈顶指针 	
}sstack;*/</span> 

<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>date<span class="token punctuation">;</span><span class="token comment">//栈中元素 </span>
    <span class="token keyword">int</span> top<span class="token punctuation">;</span><span class="token comment">// 栈顶指针 	</span>
<span class="token punctuation">}</span>sstack<span class="token punctuation">;</span>


<span class="token comment">//栈操作：初始化，判空，入栈（push),出栈（pop),读取栈顶元素（top）</span>
sstack <span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 初始化栈</span>
<span class="token keyword">void</span> <span class="token function">Pushh</span><span class="token punctuation">(</span>sstack<span class="token operator">*</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 入栈操作</span>
<span class="token keyword">void</span> <span class="token function">Popp</span><span class="token punctuation">(</span>sstack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 出栈操作</span>
<span class="token keyword">void</span> <span class="token function">gettop</span><span class="token punctuation">(</span>sstack<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 读取栈顶操作</span>

<span class="token comment">//--------------------------------------------------------------------- </span>
<span class="token comment">//初始化 </span>
sstack <span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    sstack s<span class="token punctuation">;</span>
    s<span class="token punctuation">.</span>date <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span>maxsize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token punctuation">.</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//初始化栈顶指针</span>
    <span class="token comment">//也有 s.top=0</span>
    <span class="token comment">// =-1,先加后赋值，指针指向栈顶元素</span>
    <span class="token comment">//=0，先赋值再加，指针指向 栈顶元素的下一个存储单元 </span>
    <span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 

<span class="token comment">//入栈--对栈进行了修改，指针传递 </span>
<span class="token keyword">void</span> <span class="token function">Pushh</span><span class="token punctuation">(</span>sstack <span class="token operator">*</span>s<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//栈空间固定，加入一个元素要先判断是否满了，还能不能加入 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top<span class="token operator">==</span>maxsize<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">// 由于我们设的top是-1，所以判断时用maxsize-1</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈满\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//栈满报错，不能加入 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        s<span class="token operator">-&gt;</span>top<span class="token operator">++</span><span class="token punctuation">;</span>
        s<span class="token operator">-&gt;</span>date <span class="token punctuation">[</span>s<span class="token operator">-&gt;</span>top<span class="token punctuation">]</span><span class="token operator">=</span>k<span class="token punctuation">;</span>
        <span class="token comment">// s.date [++s.top]=k;//（ date[maxsize]形式 ）</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token comment">//出栈</span>
<span class="token keyword">void</span> <span class="token function">Popp</span><span class="token punctuation">(</span>sstack <span class="token operator">*</span>s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//删除之前判空，还有没有的删</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//栈空报错，不能删除 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        s<span class="token operator">-&gt;</span>top<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token comment">//读取栈顶元素</span>
<span class="token keyword">void</span> <span class="token function">gettop</span><span class="token punctuation">(</span>sstack s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//判空，还有没有的读取 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>top<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//栈空报错，不能删除 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span>date<span class="token punctuation">[</span>s<span class="token punctuation">.</span>top<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span> 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    sstack s<span class="token operator">=</span><span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Pushh</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Pushh</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Pushh</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">gettop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">Popp</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">gettop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">Popp</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">gettop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Pushh</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">gettop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 

<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br></div></div><h3 id="链栈"><a href="#链栈" class="header-anchor">#</a> 链栈</h3> <p>​		链栈的实现依托于单链表，所以要先清楚单链表的内容。链栈延续了单链表的有点，不用担心爆栈，当然由于大量的指针操作也带来了压力。</p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">///链栈--单链表实现栈///</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">listackNode</span><span class="token punctuation">{</span><span class="token comment">// 链栈结点 </span>
	<span class="token keyword">int</span> date<span class="token punctuation">;</span><span class="token comment">// 链栈结点中元素 </span>
	<span class="token keyword">struct</span> <span class="token class-name">listackNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span><span class="token comment">// 指针 	</span>
<span class="token punctuation">}</span>sstack<span class="token punctuation">,</span><span class="token operator">*</span>listack<span class="token punctuation">;</span>
<span class="token comment">// 此处的listack与链表代码中的 linklist类似</span>
<span class="token comment">// listack==sstack *;</span>
<span class="token comment">// 使用 listack 声明链栈中的结点指针，意在强调操作对象是栈； </span>
<span class="token comment">// 使用 sstack* 声明链栈中的结点指针，意在强调操作对象是栈中的某个结点 </span>

<span class="token comment">// 链栈中无栈顶指针，如何实现在栈顶操作，实现先进后出</span>
<span class="token comment">// 直接在链表表头进行操作，链表表头相当于栈顶</span>
<span class="token comment">// 入栈:头插。 出栈：删除首元结点 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 栈操作：初始化，判空，入栈（push),出栈（pop),读取栈顶元素（top）</span>
sstack <span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 初始化栈</span>
<span class="token keyword">void</span> <span class="token function">Pushh</span><span class="token punctuation">(</span>sstack<span class="token operator">*</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 入栈操作</span>
<span class="token keyword">void</span> <span class="token function">Popp</span><span class="token punctuation">(</span>sstack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 出栈操作</span>
<span class="token keyword">void</span> <span class="token function">gettop</span><span class="token punctuation">(</span>sstack<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 读取栈顶操作</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="链栈之初始化操作"><a href="#链栈之初始化操作" class="header-anchor">#</a> 链栈之初始化操作</h4> <p>​		先申请内存空间，并且初始化链栈。如果从链表的角度出发，其实<code>s</code>是这个单链表的头节点。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//初始化 </span>
listack <span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    listack s<span class="token operator">=</span><span class="token punctuation">(</span>listack<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>sstack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="链栈之入栈操作"><a href="#链栈之入栈操作" class="header-anchor">#</a> 链栈之入栈操作</h4> <p>​		在链栈属性集合中已经说明，由于单链表的特性，链栈没有所谓的栈顶指针，且要使用头插法来进行节点的添加。链栈的栈顶元素是<code>s-&gt;next</code>。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//入栈--对栈进行了修改，指针传递 </span>
<span class="token keyword">void</span> <span class="token function">Pushh</span><span class="token punctuation">(</span>listack s<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//链表结点个数可以动态调整，无需判满</span>
    <span class="token comment">//头插法插入结点，实现入栈 </span>
    sstack <span class="token operator">*</span>p<span class="token operator">=</span><span class="token punctuation">(</span>sstack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>sstack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//p是待插入的新结点 </span>
    p<span class="token operator">-&gt;</span>date <span class="token operator">=</span>k<span class="token punctuation">;</span>
    <span class="token comment">//头插法 插入p </span>
    p<span class="token operator">-&gt;</span>next <span class="token operator">=</span>s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next <span class="token operator">=</span>p<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="链栈之出栈操作"><a href="#链栈之出栈操作" class="header-anchor">#</a> 链栈之出栈操作</h4> <p>​		在出栈操作前要先判断栈是否为空，接着定义一个指针<code>p</code>指向要出栈的节点，将头节点<code>s</code>的后继指向<code>p</code>的后继，接着释放掉<code>p</code>指向的节点。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//出栈</span>
<span class="token keyword">void</span> <span class="token function">Popp</span><span class="token punctuation">(</span>listack s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 删除之前判空</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 栈空报错，不能删除 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        sstack <span class="token operator">*</span>p<span class="token operator">=</span>s<span class="token operator">-&gt;</span>next <span class="token punctuation">;</span><span class="token comment">// 让p指向待删除的首元结点</span>

        s<span class="token operator">-&gt;</span>next <span class="token operator">=</span>p<span class="token operator">-&gt;</span>next <span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="链栈之读取栈顶操作"><a href="#链栈之读取栈顶操作" class="header-anchor">#</a> 链栈之读取栈顶操作</h4> <p>​		读取要判空，接着直接读取就行</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 读取栈顶元素</span>
<span class="token keyword">void</span> <span class="token function">gettop</span><span class="token punctuation">(</span>listack s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 判空</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 栈空报错，不能删除	 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>s<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="链栈总代码"><a href="#链栈总代码" class="header-anchor">#</a> 链栈总代码</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token comment">///链栈--单链表实现栈///</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">listackNode</span><span class="token punctuation">{</span><span class="token comment">//链栈结点 </span>
    <span class="token keyword">int</span> date<span class="token punctuation">;</span><span class="token comment">//链栈结点中元素 </span>
    <span class="token keyword">struct</span> <span class="token class-name">listackNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span><span class="token comment">//指针 	</span>
<span class="token punctuation">}</span>sstack<span class="token punctuation">,</span><span class="token operator">*</span>listack<span class="token punctuation">;</span>
<span class="token comment">//此处的listack与链表代码中的 linklist类似</span>
<span class="token comment">//listack==sstack *;</span>
<span class="token comment">//使用 listack 声明链栈中的结点指针，意在强调操作对象是栈； </span>
<span class="token comment">//使用 sstack* 声明链栈中的结点指针，意在强调操作对象是栈中的某个结点 </span>


<span class="token comment">//链栈中无栈顶指针，如何实现在栈顶操作，实现先进后出</span>
<span class="token comment">//直接在链表表头进行操作，链表表头相当于栈顶</span>
<span class="token comment">//入栈:头插。 出栈：删除首元结点 </span>

<span class="token comment">//--------------------------------------------------------------------- </span>
<span class="token comment">//栈操作：初始化，判空，入栈（push),出栈（pop),读取栈顶元素（top）</span>
<span class="token comment">//以顺序栈为例子 </span>
<span class="token comment">//初始化 </span>
listack <span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    listack s<span class="token operator">=</span><span class="token punctuation">(</span>listack<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>sstack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 

<span class="token comment">//入栈--对栈进行了修改，指针传递 </span>
<span class="token keyword">void</span> <span class="token function">Pushh</span><span class="token punctuation">(</span>listack s<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//链表结点个数可以动态调整，无需判满</span>
    <span class="token comment">//头插法插入结点，实现入栈 </span>
    sstack <span class="token operator">*</span>p<span class="token operator">=</span><span class="token punctuation">(</span>sstack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>sstack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//p是待插入的新结点 </span>
    p<span class="token operator">-&gt;</span>date <span class="token operator">=</span>k<span class="token punctuation">;</span>
    <span class="token comment">//头插法 插入p </span>
    p<span class="token operator">-&gt;</span>next <span class="token operator">=</span>s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next <span class="token operator">=</span>p<span class="token punctuation">;</span>  

<span class="token punctuation">}</span> 
<span class="token comment">//出栈</span>
<span class="token keyword">void</span> <span class="token function">Popp</span><span class="token punctuation">(</span>listack s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 删除之前判空</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 栈空报错，不能删除 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        sstack <span class="token operator">*</span>p<span class="token operator">=</span>s<span class="token operator">-&gt;</span>next <span class="token punctuation">;</span><span class="token comment">// 让p指向待删除的首元结点</span>

        s<span class="token operator">-&gt;</span>next <span class="token operator">=</span>p<span class="token operator">-&gt;</span>next <span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">// 读取栈顶元素</span>
<span class="token keyword">void</span> <span class="token function">gettop</span><span class="token punctuation">(</span>listack s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 判空</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;栈空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 栈空报错，不能删除	 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>s<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span> 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    listack s<span class="token operator">=</span><span class="token function">initstack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Pushh</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Pushh</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Pushh</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">gettop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">Popp</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">gettop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><h3 id="栈的应用"><a href="#栈的应用" class="header-anchor">#</a> 栈的应用</h3> <p>​		栈在平时在很多地方有所体现。下面举例四种情况。</p> <h4 id="栈应用之平衡符号"><a href="#栈应用之平衡符号" class="header-anchor">#</a> 栈应用之平衡符号</h4> <p>​		我们使用的编译器就用栈来判断我们的语法错误。我们在使用C语言时有很高的自由度，甚至出现隔行书写语句的情况（ 当然这不是一个好的习惯 ）。这就是由于栈的特性所决定的。</p> <blockquote><p>这个简单的算法用到一个栈，叙述如下:</p> <p>​		做一个空栈。读入字符直到文件尾。如果字符是一个开放符号，则将其推入栈中如果字符是一个封闭符号，则当栈空时报错;否则，将栈元素弹出。如果弹出的符号不是对应的开放符号，则报错。在文件尾，如果栈非空则报错。</p></blockquote> <h4 id="栈应用之后缀表达式"><a href="#栈应用之后缀表达式" class="header-anchor">#</a> 栈应用之后缀表达式</h4> <p>​		由于我们在算数加减乘除过程中会有先后顺序，而较为老的计算器并不能完成顺序的排列。解决这种情况较为简单的方法是使用后缀表达式（ 如何从普通表达式转化为后缀表达式稍后再讲，推荐先看后面那个 ）。</p> <p>​		下面我使用<code>6 5 2 3 + 8 * + 3 + *</code>做例子来演示后缀表达式的过程中栈的变化情况。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407191459577.png" alt="image-20240719145911467"></p> <p>​		计算一个后缀表达式花费的时间是O(n)。用该算法计算是十分简单，而在计算过程中，无需知道优先规则，直接计算即可。</p> <p><strong>代码实现</strong></p> <p>​		需要注意的是，下面的代码只适用于整数的加减乘除的计算，若想进行浮点数的计算要更改数据类型。此外，下述代码我用数组来模拟栈，从而简化操作。由于测试的数据量较小，所以我开辟的空间也较小，若想测试大数据，请自行更改数据量。</p> <p>​		该代码没有添加异常数据的检验，所以在使用时请确定输入的是正确的后缀表达式。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">suffixExpression</span><span class="token punctuation">(</span><span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> stack<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 使用整数数组作为栈</span>
    <span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> x1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> x2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 检查当前字符是否是操作数</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token char">'0'</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token char">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 将字符转换为整数并压入栈</span>
            stack<span class="token punctuation">[</span><span class="token operator">++</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            x1 <span class="token operator">=</span> stack<span class="token punctuation">[</span>top<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 弹出栈顶元素为第一个操作数</span>
            x2 <span class="token operator">=</span> stack<span class="token punctuation">[</span>top<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 弹出栈顶元素为第二个操作数</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'+'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">[</span><span class="token operator">++</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> x2 <span class="token operator">+</span> x1<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'-'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">[</span><span class="token operator">++</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> x2 <span class="token operator">-</span> x1<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'*'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">[</span><span class="token operator">++</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> x2 <span class="token operator">*</span> x1<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">[</span><span class="token operator">++</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> x2 <span class="token operator">/</span> x1<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;6523+8*+3+*&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">suffixExpression</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出结果</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h4 id="栈应用之中缀到后缀转换"><a href="#栈应用之中缀到后缀转换" class="header-anchor">#</a> 栈应用之中缀到后缀转换</h4> <p>​		在日常生活中，我们一般不会用后缀表达式来表示算数，我们一般使用中缀表达式（ 即标准的算数形式 ）。那么就要求我们要将中缀表达式转化为后缀表示。</p> <p>​	对栈的维护简单点来说就是：栈中只能进入运算符，当发现入栈元素的优先级大于等于栈顶元素，则栈顶元素出栈。当遇到&quot;)&quot;入栈，则栈中到&quot;(&quot;的所有元素全部输出。若输入为空且栈不为空，则输出栈中所有的元素。需要注意的是后缀表达式不包含括号，所以在栈顶弹出括号时不用输出。</p> <p>​		下面我使用<code>a + b *c + ( d * e + f ) * g</code>做例子来演示从中缀到后缀变化过程中栈的变化情况。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407191606868.png" alt="image-20240719160657735"></p> <p><strong>代码表示</strong></p> <p>​		需要注意的是，下述代码我用数组来模拟栈，从而简化操作。由于测试的数据量较小，所以我开辟的空间也较小，若想测试大数据，请自行更改数据量。</p> <p>​		该代码没有添加异常数据的检验，所以在使用时请确定输入的是正确的中缀表达式。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>

<span class="token comment">// 判断运算符的优先级</span>
<span class="token keyword">int</span> <span class="token function">precedence</span><span class="token punctuation">(</span><span class="token keyword">char</span> op<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>op <span class="token operator">==</span> <span class="token char">'+'</span> <span class="token operator">||</span> op <span class="token operator">==</span> <span class="token char">'-'</span><span class="token punctuation">)</span> 
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>op <span class="token operator">==</span> <span class="token char">'*'</span> <span class="token operator">||</span> op <span class="token operator">==</span> <span class="token char">'/'</span><span class="token punctuation">)</span> 
        <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">infixToSuffix</span><span class="token punctuation">(</span><span class="token keyword">char</span> infix<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">char</span> suffix<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>infix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 模拟栈 </span>
    <span class="token keyword">char</span> st<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// 用来完成后缀表达式 </span>
    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span> c <span class="token operator">=</span> infix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> <span class="token char">'+'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">!=</span> <span class="token char">'-'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">!=</span> <span class="token char">'*'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">!=</span> <span class="token char">'/'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">!=</span> <span class="token char">'('</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">!=</span> <span class="token char">')'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	suffix<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span> 
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token char">'('</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			st<span class="token punctuation">[</span><span class="token operator">++</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token char">')'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			 <span class="token keyword">while</span> <span class="token punctuation">(</span>top <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> st<span class="token punctuation">[</span>top<span class="token punctuation">]</span> <span class="token operator">!=</span>  <span class="token char">'('</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	            suffix<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> st<span class="token punctuation">[</span>top<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			top<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">// 去除'(' </span>
    	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    		 <span class="token keyword">while</span> <span class="token punctuation">(</span>top <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token function">precedence</span><span class="token punctuation">(</span>st<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token function">precedence</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                suffix<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> st<span class="token punctuation">[</span>top<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            st<span class="token punctuation">[</span><span class="token operator">++</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>  	    
	<span class="token punctuation">}</span>
	
	<span class="token comment">// 输出剩余的运算符</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>top <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        suffix<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> st<span class="token punctuation">[</span>top<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    suffix<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> <span class="token comment">// 添加字符串结束符</span>
	
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> infix<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;a+b*c+(d*e+f)*g&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> suffix<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">infixToSuffix</span><span class="token punctuation">(</span>infix<span class="token punctuation">,</span>suffix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span>suffix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出结果</span>
	<span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div><h4 id="栈应用之函数调用"><a href="#栈应用之函数调用" class="header-anchor">#</a> 栈应用之函数调用</h4> <p>​		函数调用就是由栈来完成。在平时用dev`写代码时，在函数调用时要求调用的函数在主函数之前实现或者声明，这就是由于调用函数是由栈实现的。</p> <h2 id="队列"><a href="#队列" class="header-anchor">#</a> 队列</h2> <p>​		队列是⼀种特殊的线性表，特殊之处就在于它只允许在表的前端进行删除操作，在表的后端进行插入操作。和栈⼀样，队列也是⼀种操作受到限制的线性表。进行插入操作的端称之为队尾( <code>rear</code> )，进行删除操作的端称之为队头( <code>front</code> )。队列中没有队列的时候，称之为空队列。队列的数据元素，又叫做队列元素。在队列中插入⼀个队列元素称之为入队( <code>Enqueue</code> )，在队列中删除⼀个队列元素，称之为出队( <code>Dequeue</code> )。因为队列只允许在⼀端插入，在另⼀端删除，所以只有最早进入的队列元素才可以从队列中删除，故队列又称为先进先出线性表。</p> <p>​		与链表和栈相同的是，队列有两种实现方式，一种是顺序存储结构、链式存储结构 。（ 单向队列我会用链式存储来实现，循环队列使用顺序表的形式来实现，双端队列两种都会实现 ）</p> <h3 id="单项队列"><a href="#单项队列" class="header-anchor">#</a> 单项队列</h3> <p>​		单向队列是最为简单的一种队列，接下来具体讲解一下具体的实现过程，以及代码的实现。</p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">///链式队列//</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">qnode</span><span class="token punctuation">{</span><span class="token comment">//链式队列结点 </span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//队列元素</span>
    <span class="token keyword">struct</span> <span class="token class-name">qnode</span> <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token comment">//指向下一个结点的指针 </span>
<span class="token punctuation">}</span>qnode<span class="token punctuation">,</span><span class="token operator">*</span>lqueue<span class="token punctuation">;</span> 
<span class="token comment">// qnode,*lqueue的具体含义和区别在链表和栈以及说的很清楚了，这里不再赘述</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">linkqueue</span><span class="token punctuation">{</span><span class="token comment">//链式队列---可选，不写结构体，直接定义对头队尾指针也可 </span>
    lqueue front<span class="token punctuation">,</span>rear<span class="token punctuation">;</span><span class="token comment">//队头队尾指针,队首指针是链表头结点 </span>
<span class="token punctuation">}</span>linkqueue<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">initqueue</span><span class="token punctuation">(</span>linkqueue <span class="token operator">*</span>q<span class="token punctuation">)</span>；<span class="token comment">// 初始化</span>
<span class="token keyword">void</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 入队</span>
<span class="token keyword">void</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 出队</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="单向队列之初始化操作"><a href="#单向队列之初始化操作" class="header-anchor">#</a> 单向队列之初始化操作</h4> <div class="language- extra-class"><pre><code>	先初始化队列的头节点与头尾指针，这里由于在定义属性进行了结构体的定义，所以就可以直接定义。如果没有定义结构体，那就指定两个指针作为头尾指针，并且定义头节点。内存分配成功后，将头节点的后继置空。
</code></pre></div><p>​		这边解释一下结构体指针<code>q</code>，这个<code>q</code>可能不太好理解。<code>q</code>是一个结构体指针，这个结构体种包含两个指针，分别表示头尾指针。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">initqueue</span><span class="token punctuation">(</span>linkqueue <span class="token operator">*</span>q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>   
    <span class="token comment">// 需要正确理解下面这条语句，只定义了一个节点，但是有两个指针指向这个节点。</span>
    q<span class="token operator">-&gt;</span>rear<span class="token operator">=</span>q<span class="token operator">-&gt;</span>front<span class="token operator">=</span><span class="token punctuation">(</span>lqueue<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>qnode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;分配失败\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="单向队列之入队操作"><a href="#单向队列之入队操作" class="header-anchor">#</a> 单向队列之入队操作</h4> <p>​		若对链表熟悉的话，下面的这些操作很好理解。定义一个节点，给节点的数据域赋值。再通过链表的操作将新节点插入到队尾。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//入队 </span>
<span class="token keyword">void</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    lqueue s<span class="token operator">=</span><span class="token punctuation">(</span>lqueue <span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>qnode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>data <span class="token operator">=</span>x<span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">// 新节点插入到链尾</span>
    q<span class="token operator">-&gt;</span>rear<span class="token operator">-&gt;</span>next<span class="token operator">=</span>s<span class="token punctuation">;</span>
    q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span>s<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="单向队列之出队操作"><a href="#单向队列之出队操作" class="header-anchor">#</a> 单向队列之出队操作</h4> <p>​		和栈相同的是再出队前要先判断队列是否为空。这里和栈不同的在删除时要判断是否只存在一个节点，若是只存在一个节点，那要对尾指针进行处理（ 尾指针指向头节点），不然尾指针为空，在后续的入队操作中会报错。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//出队，队首指针是链表头结点 ，删除的是队首指针的下一个，即front-&gt;next </span>
<span class="token keyword">void</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span><span class="token comment">//保存出队元素 </span>
    <span class="token comment">//先判空，不空才能出 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//队空，报错 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        lqueue p<span class="token operator">=</span>q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span> 
        x<span class="token operator">=</span>p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
        q<span class="token operator">-&gt;</span>front <span class="token operator">-&gt;</span>next<span class="token operator">=</span>p<span class="token operator">-&gt;</span>next <span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//若原队列只有一个结点了，则删除边空，需要处理尾指针 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span>p<span class="token punctuation">)</span>
            q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span>q<span class="token operator">-&gt;</span>front<span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="单向队列总代码"><a href="#单向队列总代码" class="header-anchor">#</a> 单向队列总代码</h4> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token comment">///链式队列//</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">qnode</span><span class="token punctuation">{</span><span class="token comment">//链式队列结点 </span>
	<span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//队列元素</span>
	<span class="token keyword">struct</span> <span class="token class-name">qnode</span> <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token comment">//指向下一个结点的指针 </span>
<span class="token punctuation">}</span>qnode<span class="token punctuation">,</span><span class="token operator">*</span>lqueue<span class="token punctuation">;</span> 

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">linkqueue</span><span class="token punctuation">{</span><span class="token comment">//链式队列---可选，不写结构体，直接定义对头队尾指针也可 </span>
	lqueue front<span class="token punctuation">,</span>rear<span class="token punctuation">;</span><span class="token comment">//队头队尾指针,队首指针是链表头结点 </span>
<span class="token punctuation">}</span>linkqueue<span class="token punctuation">;</span>

<span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">initqueue</span><span class="token punctuation">(</span>linkqueue <span class="token operator">*</span>q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>   
    <span class="token comment">// 需要正确理解下面这条语句，只定义了一个节点，但是有两个指针指向这个节点。</span>
    q<span class="token operator">-&gt;</span>rear<span class="token operator">=</span>q<span class="token operator">-&gt;</span>front<span class="token operator">=</span><span class="token punctuation">(</span>lqueue<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>qnode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;分配失败\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 

<span class="token comment">//入队 </span>
<span class="token keyword">void</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	lqueue s<span class="token operator">=</span><span class="token punctuation">(</span>lqueue <span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>qnode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span>x<span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>next <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//新节点插入到链尾</span>
	q<span class="token operator">-&gt;</span>rear<span class="token operator">-&gt;</span>next<span class="token operator">=</span>s<span class="token punctuation">;</span>
	q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span>s<span class="token punctuation">;</span> 
 <span class="token punctuation">}</span> 
 <span class="token comment">//出队，队首指针是链表头结点 ，删除的是队首指针的下一个，即front-&gt;next </span>
<span class="token keyword">void</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> x<span class="token punctuation">;</span><span class="token comment">//保存出队元素 </span>
	<span class="token comment">//先判空，不空才能出 </span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//队空，报错 </span>
	 <span class="token punctuation">}</span> 
	<span class="token keyword">else</span><span class="token punctuation">{</span>
		lqueue p<span class="token operator">=</span>q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span> 
		x<span class="token operator">=</span>p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		q<span class="token operator">-&gt;</span>front <span class="token operator">-&gt;</span>next<span class="token operator">=</span>p<span class="token operator">-&gt;</span>next <span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//若原队列只有一个结点了，则删除边空，需要处理尾指针 </span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span>p<span class="token punctuation">)</span>
		q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span>q<span class="token operator">-&gt;</span>front<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	linkqueue<span class="token operator">*</span> q<span class="token punctuation">;</span>
	q<span class="token operator">=</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>linkqueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">initqueue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">enqueue</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">enqueue</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">enqueue</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">dequeue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">dequeue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">dequeue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">dequeue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">enqueue</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">dequeue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h3 id="循环队列"><a href="#循环队列" class="header-anchor">#</a> 循环队列</h3> <p>​		队列的移除分为真溢出和假溢出（ 由于在实现单向队列时，使用的是链式存储，所以不存在溢出问题）。真溢出是队列中装满元素导致溢出。假溢出是指由于出队要使头指针向后移动，导致队列存储空间变小，最终导致溢出，事实上数值中并没真正装满。</p> <p>​		平时我们在自己定义队列时，一般会使用链式队列或者顺序表循环队列。</p> <p>​		那么循环队列是如何定位数据的方法是通过取余操作。比如数组的最大容量是<code>10</code>，而尾指针已经到了<code>11</code>，那就代表尾指针指向的实际队列第一个位置（ rear % maxSize = 1 )。</p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxsize</span> <span class="token expression"><span class="token number">10</span></span></span>
<span class="token comment">///顺序循环队列/// </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> date<span class="token punctuation">[</span>maxsize<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//队列中数据元素</span>
	<span class="token keyword">int</span> front<span class="token punctuation">,</span>rear<span class="token punctuation">;</span><span class="token comment">//对头队尾指针（以索引下标形式表示指针） </span>
<span class="token punctuation">}</span>sqqueue<span class="token punctuation">;</span> 
<span class="token comment">//实现一个循环队列 </span>
<span class="token comment">//牺牲一个单元来区分头尾</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">initqueue</span><span class="token punctuation">(</span>linkqueue <span class="token operator">*</span>q<span class="token punctuation">)</span>；<span class="token comment">// 初始化</span>
<span class="token keyword">void</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 入队</span>
<span class="token keyword">void</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 出队</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="循环队列之初始化操作"><a href="#循环队列之初始化操作" class="header-anchor">#</a> 循环队列之初始化操作</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">initqueue</span><span class="token punctuation">(</span>sqqueue <span class="token operator">*</span>q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    q<span class="token operator">-&gt;</span>rear<span class="token operator">=</span>q<span class="token operator">-&gt;</span>front <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//初始首尾指针 </span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="循环队列之入队操作"><a href="#循环队列之入队操作" class="header-anchor">#</a> 循环队列之入队操作</h4> <p>​		循环队列同样会出现溢出的情况，也就是所谓的真溢出的情况。所以在入队时要进行判断队列是否被装满。判满的方法是使用<code>rear+1</code>取余的值的位置是否为<code>front</code>。同样我们在移动尾指针的时候也需要进行取余操作。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//入队</span>
<span class="token keyword">void</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>sqqueue <span class="token operator">*</span>q<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//先判满，不满才能装</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>rear <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token operator">==</span>q<span class="token operator">-&gt;</span>front <span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;队满&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//队满，报错 </span>
	 <span class="token punctuation">}</span> 
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		q<span class="token operator">-&gt;</span>date<span class="token punctuation">[</span>q<span class="token operator">-&gt;</span>rear<span class="token punctuation">]</span><span class="token operator">=</span>x<span class="token punctuation">;</span>
		q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>rear <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token punctuation">;</span><span class="token comment">//队尾指针加1取模 </span>
	 <span class="token punctuation">}</span> 	 
 <span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="循环队列之出队操作"><a href="#循环队列之出队操作" class="header-anchor">#</a> 循环队列之出队操作</h4> <p>​		出队同样需要进行判断队列是否为空。剩余的队首操作和入队的队尾操作相同。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//出队</span>
<span class="token keyword">void</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>sqqueue <span class="token operator">*</span>q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span><span class="token comment">//保存出队元素 </span>
    <span class="token comment">//先判空，不空才能出 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front <span class="token operator">==</span>q<span class="token operator">-&gt;</span>rear<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;队空&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//队空，报错 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        x<span class="token operator">=</span>q<span class="token operator">-&gt;</span>date <span class="token punctuation">[</span>q<span class="token operator">-&gt;</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>
        q<span class="token operator">-&gt;</span>front <span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token punctuation">;</span><span class="token comment">//队首指针加1取模 </span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 	 
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="循环队列总代码"><a href="#循环队列总代码" class="header-anchor">#</a> 循环队列总代码</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxsize</span> <span class="token expression"><span class="token number">10</span></span></span>
<span class="token comment">///顺序循环队列/// </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> date<span class="token punctuation">[</span>maxsize<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//队列中数据元素</span>
    <span class="token keyword">int</span> front<span class="token punctuation">,</span>rear<span class="token punctuation">;</span><span class="token comment">//对头队尾指针（以索引下标形式表示指针） </span>
<span class="token punctuation">}</span>sqqueue<span class="token punctuation">;</span> 
<span class="token comment">//实现一个循环队列 </span>
<span class="token comment">//牺牲一个单元来区分头尾</span>

<span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">initqueue</span><span class="token punctuation">(</span>sqqueue <span class="token operator">*</span>q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    q<span class="token operator">-&gt;</span>rear<span class="token operator">=</span>q<span class="token operator">-&gt;</span>front <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//初始首尾指针 </span>
<span class="token punctuation">}</span> 


<span class="token comment">//入队</span>
<span class="token keyword">void</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>sqqueue <span class="token operator">*</span>q<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//先判满，不满才能装</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>rear <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token operator">==</span>q<span class="token operator">-&gt;</span>front <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;队满&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//队满，报错 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        q<span class="token operator">-&gt;</span>date <span class="token punctuation">[</span>q<span class="token operator">-&gt;</span>rear<span class="token punctuation">]</span><span class="token operator">=</span>x<span class="token punctuation">;</span>
        q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>rear <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token punctuation">;</span><span class="token comment">//队尾指针加1取模 </span>
    <span class="token punctuation">}</span> 	 
<span class="token punctuation">}</span> 
<span class="token comment">//出队</span>
<span class="token keyword">void</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>sqqueue <span class="token operator">*</span>q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span><span class="token comment">//保存出队元素 </span>
    <span class="token comment">//先判空，不空才能出 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front <span class="token operator">==</span>q<span class="token operator">-&gt;</span>rear<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;队空&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//队空，报错 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        x<span class="token operator">=</span>q<span class="token operator">-&gt;</span>date <span class="token punctuation">[</span>q<span class="token operator">-&gt;</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>
        q<span class="token operator">-&gt;</span>front <span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token punctuation">;</span><span class="token comment">//队首指针加1取模 </span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 	 
<span class="token punctuation">}</span>  
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    sqqueue q<span class="token punctuation">;</span>

    <span class="token function">initqueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><h3 id="双端队列"><a href="#双端队列" class="header-anchor">#</a> 双端队列</h3> <p>​		双端队列简单点来说就是两个队列合在一张表里。</p> <p>​		对于双端队列来说，就是两端都是结尾的队列。队列的每一端都可以插入数据项和移除数据项。相对于普通队列。双端队列的入队和出队操作在两端都可以进进行。</p> <p>​		这种数据结构的特性，使得他更加的实用和方便。当你只允许使用一端出队、入队操作的时候，他等价于一个栈。当限制一端只能出队，另一端只能入队，他就等价于一个普通队列。</p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 链表实现的属性集合</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">msize</span> <span class="token expression"><span class="token number">10</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">linkqueue</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> date<span class="token punctuation">;</span><span class="token comment">//数据元素</span>
	<span class="token keyword">struct</span> <span class="token class-name">linkqueue</span> <span class="token operator">*</span>pre<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">linkqueue</span> <span class="token operator">*</span>next<span class="token punctuation">;</span> 
	<span class="token comment">//int size;元素个数 </span>
<span class="token punctuation">}</span>node<span class="token punctuation">;</span> 
<span class="token comment">//全局变量；</span>
node <span class="token operator">*</span>mid<span class="token punctuation">;</span><span class="token comment">//中间结点,标记中间位置类似链表头结点作用,实际上我们用不到 </span>
<span class="token comment">//但是中间结点也存数据。避免从左删到右边时，空的中间结点出问题</span>
node <span class="token operator">*</span>left<span class="token punctuation">;</span>
node <span class="token operator">*</span>right<span class="token punctuation">;</span><span class="token comment">//左右两端 </span>
<span class="token comment">//----------------------------------------------------------------------------------------------</span>
<span class="token comment">///双端队列的顺序表实现///</span>
<span class="token comment">//双端队列用循环数组来实现</span>
<span class="token comment">//属性集合</span>
<span class="token keyword">int</span> <span class="token operator">*</span>queue<span class="token punctuation">;</span><span class="token comment">//数组放元素 </span>
<span class="token keyword">int</span> left<span class="token punctuation">,</span>right<span class="token punctuation">;</span><span class="token comment">//分左右端指针 </span>
<span class="token keyword">int</span> maxsize<span class="token punctuation">;</span><span class="token comment">//当前最大数组尺寸</span>
<span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token comment">//当前元素个数 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>​		这里需要说明一下的是链式存储的<code>mid</code>指针的说明。其实双端队列就没有头节点的双向链表加了约束，由于没有头节点，所以我们需要一个指针指向中间的那个节点，这个中间不是绝对的是会相对移动的。特别是当队列为空时，三个指针都指向同一节点。（ 需要注意的是，<code>mid</code>指针指向的值依然需要存储数据 ）。</p> <p>​		再说明一下双端队列的顺序表实现，我们为了解决在一个单向数组内是实现双端队列的问题，我们采用的循环数组。头尾两个指针，一个顺时针走，一个逆时针走。（ 所谓的循环数组，只是名义上的，内存中依然是线性存储，我们通过取余来实现 ）</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407201606099.png" alt="image-20240720160627965"></p> <p><s>画图能力有限，请见谅</s></p> <h4 id="双端队列链式存储实现总代码"><a href="#双端队列链式存储实现总代码" class="header-anchor">#</a> 双端队列链式存储实现总代码</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">msize</span> <span class="token expression"><span class="token number">10</span></span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">linkqueue</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> date<span class="token punctuation">;</span><span class="token comment">//数据元素</span>
    <span class="token keyword">struct</span> <span class="token class-name">linkqueue</span> <span class="token operator">*</span>pre<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">linkqueue</span> <span class="token operator">*</span>next<span class="token punctuation">;</span> 
    <span class="token comment">//int size;元素个数 </span>
<span class="token punctuation">}</span>node<span class="token punctuation">;</span> 
<span class="token comment">//全局变量；</span>
node <span class="token operator">*</span>mid<span class="token punctuation">;</span><span class="token comment">//中间结点,标记中间位置类似链表头结点作用,实际上我们用不到 </span>
<span class="token comment">//但是中间结点也存数据。避免从左删到右边时，空的中间结点出问题</span>
node <span class="token operator">*</span>left<span class="token punctuation">;</span>
node <span class="token operator">*</span>right<span class="token punctuation">;</span><span class="token comment">//左右两端 </span>
<span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">initqueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    left<span class="token operator">=</span>right<span class="token operator">=</span><span class="token punctuation">(</span>node<span class="token operator">*</span> <span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    left<span class="token operator">-&gt;</span>pre<span class="token operator">=</span>right<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> 

<span class="token comment">//左边</span>
<span class="token keyword">void</span> <span class="token function">insert_left</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    node <span class="token operator">*</span>s<span class="token operator">=</span><span class="token punctuation">(</span>node<span class="token operator">*</span> <span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>date <span class="token operator">=</span>k<span class="token punctuation">;</span>
    <span class="token comment">//插入 </span>
    s<span class="token operator">-&gt;</span>pre <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next <span class="token operator">=</span>left<span class="token punctuation">;</span>
    left<span class="token operator">-&gt;</span>pre <span class="token operator">=</span>s<span class="token punctuation">;</span>

    left<span class="token operator">=</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">void</span> <span class="token function">delete_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span>left<span class="token operator">==</span>right<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空表\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//空，报错处理</span>
        <span class="token keyword">return</span> <span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    node <span class="token operator">*</span>s<span class="token punctuation">;</span>
    s<span class="token operator">=</span>left<span class="token punctuation">;</span>
    left<span class="token operator">=</span>left<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    left<span class="token operator">-&gt;</span>pre<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token comment">//int x=s-&gt;data;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> 
<span class="token comment">//右边 </span>
<span class="token keyword">void</span> <span class="token function">insert_right</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//right指向队尾的下一个元素 </span>
    node <span class="token operator">*</span>s<span class="token operator">=</span><span class="token punctuation">(</span>node<span class="token operator">*</span> <span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    right<span class="token operator">-&gt;</span>date <span class="token operator">=</span>k<span class="token punctuation">;</span>
    right<span class="token operator">-&gt;</span>next <span class="token operator">=</span>s<span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>pre <span class="token operator">=</span>right<span class="token punctuation">;</span>

    right<span class="token operator">=</span>s<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">delete_right</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//注意删的是right-&gt;pre ,right-&gt;pre才是真正的最后一个</span>
    <span class="token comment">//实际操作时只需要把right删掉，即可</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>right<span class="token operator">-&gt;</span>pre<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空表\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//空，报错处理</span>
        <span class="token keyword">return</span> <span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    node <span class="token operator">*</span>s<span class="token punctuation">;</span>
    s<span class="token operator">=</span>right<span class="token punctuation">;</span>
    right<span class="token operator">=</span>right<span class="token operator">-&gt;</span>pre<span class="token punctuation">;</span> 
    <span class="token comment">//int x=right-&gt;date;</span>
    s<span class="token operator">-&gt;</span>pre<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    right<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
    <span class="token function">free</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> 
<span class="token keyword">void</span> <span class="token function">printff</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    node <span class="token operator">*</span>s<span class="token punctuation">;</span>
    s<span class="token operator">=</span>left<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>s<span class="token operator">!=</span>right<span class="token operator">&amp;&amp;</span>s<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>s<span class="token operator">-&gt;</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        s<span class="token operator">=</span>s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">initqueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_left</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_left</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_left</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_right</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_right</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">//delete_right();</span>
    <span class="token comment">//printff();</span>
    <span class="token function">insert_right</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">}</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div><h4 id="双端队列顺序表实现总代码"><a href="#双端队列顺序表实现总代码" class="header-anchor">#</a> 双端队列顺序表实现总代码</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">msize</span> <span class="token expression"><span class="token number">10</span></span></span>
<span class="token comment">///双端队列的顺序表实现///</span>
<span class="token comment">//双端队列用循环数组来实现。</span>
<span class="token comment">//属性集合</span>
<span class="token keyword">int</span> <span class="token operator">*</span>queue<span class="token punctuation">;</span><span class="token comment">//数组放元素 </span>
<span class="token keyword">int</span> left<span class="token punctuation">,</span>right<span class="token punctuation">;</span><span class="token comment">//分左右端指针 </span>
<span class="token keyword">int</span> maxsize<span class="token punctuation">;</span><span class="token comment">//当前最大数组尺寸</span>
<span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token comment">//当前元素个数 </span>

<span class="token keyword">void</span> <span class="token function">initqueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//初始化 </span>
    queue<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> <span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span>msize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    maxsize<span class="token operator">=</span>msize<span class="token punctuation">;</span>
    size<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    left<span class="token operator">=</span>right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> 

<span class="token punctuation">}</span>

<span class="token comment">//操作4种：左边插入删除，右边插入删除 </span>
<span class="token comment">//左边 </span>
<span class="token keyword">void</span> <span class="token function">insert_left</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>size<span class="token operator">==</span>maxsize<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;满\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//报错队满，失败或扩容 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        left<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//相当于前端延长</span>
        left<span class="token operator">=</span><span class="token punctuation">(</span>left<span class="token operator">+</span>maxsize<span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token punctuation">;</span><span class="token comment">//防止出界 </span>
        queue<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">=</span>k<span class="token punctuation">;</span> 
        size<span class="token operator">++</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">delete_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>size<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//空，报错 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        x<span class="token operator">=</span>queue<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
        left<span class="token operator">=</span><span class="token punctuation">(</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token punctuation">;</span>
        size<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span>
<span class="token comment">//右边 </span>
<span class="token keyword">void</span> <span class="token function">insert_right</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>size<span class="token operator">==</span>maxsize<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;满\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//报错队满，失败或扩容 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        queue<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">=</span>k<span class="token punctuation">;</span><span class="token comment">//先放入，再移动指针</span>
        right<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span>maxsize<span class="token punctuation">;</span><span class="token comment">//right指向最右端元素的下一个位置 </span>
        size<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">delete_right</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>size<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//空，报错 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        right<span class="token operator">--</span><span class="token punctuation">;</span>
        right<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">+</span>maxsize<span class="token punctuation">)</span><span class="token operator">%</span>maxsize<span class="token punctuation">;</span>
        size<span class="token operator">--</span><span class="token punctuation">;</span>
        x<span class="token operator">=</span>queue<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">printff</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token operator">=</span>left<span class="token punctuation">;</span>
    <span class="token keyword">int</span> y<span class="token operator">=</span>right<span class="token punctuation">;</span>
    <span class="token comment">//printf(&quot;%d\n&quot;,x);</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>x<span class="token punctuation">;</span>i <span class="token operator">&lt;</span> maxsize<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>queue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>y<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>queue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">initqueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_left</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_left</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_left</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_right</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insert_right</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">//delete_right();</span>
    <span class="token comment">//</span>
    <span class="token function">insert_right</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//delete_left();</span>
    <span class="token comment">//delete_right();</span>
    <span class="token function">delete_right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delete_right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br></div></div><h1 id="树"><a href="#树" class="header-anchor">#</a> 树</h1> <p>​		之前的全部都是线性结构，相对来说较为简单，接下来是非线性结构。首先要提到的是树。树是一种非线性结构，存储的是具有⼀对多的关系的数据元素的集合。</p> <h2 id="普通树"><a href="#普通树" class="header-anchor">#</a> 普通树</h2> <p>​		树中有很多特殊的情况，而这些特殊情况都摆脱不了树的一些基本定义和树的一些命名规则。</p> <h3 id="树的性质"><a href="#树的性质" class="header-anchor">#</a> 树的性质</h3> <p><strong>树</strong>(Tree)是n(n≧0)个结点的有限集合T，若n=0时称为空树，否则：</p> <p>⑴ 有且只有一个特殊的称为树的根(Root)结点；</p> <p>⑵ 若n&gt;1时，其余的结点被分为m(m&gt;0)个互不相交的子集T~1~, T~2~, T~3~…T~m~，其中每个子集本身又是一棵树，称其为根的子树(Subtree)。</p> <p>特征：树中各子树是互不相交的集合，树中至少有一个结点——根。</p> <h3 id="树的基本术语"><a href="#树的基本术语" class="header-anchor">#</a> 树的基本术语</h3> <p>⑴<strong>结点</strong>(node)：一个数据元素及其若干指向其子树的分支。</p> <p>⑵<strong>结点的度</strong>(degree 、树的度：结点所拥有的子树的棵数称为结点的度。树中结点度的最大值称为<strong>树的度</strong>。</p> <p>⑶<strong>叶子</strong>(left)<strong>结点</strong>、<strong>非叶子结点</strong>：树中度为0的结点称为叶子结点(或终端结点)。相对应地，度不为0的结点称为非叶子结点(或非终端结点或分支结点)。除根结点外，分支结点又称为内部结点。</p> <p>⑷<strong>孩子结点</strong>、<strong>双亲结点</strong>、<strong>兄弟结点</strong>：一个结点的子树的根称为该结点的孩子结点(child)或子结点；相应地，该结点是其孩子结点的双亲结点(parent或父结点。同一双亲结点的所有子结点互称为兄弟结点。</p> <p>⑸<strong>层次</strong>、<strong>堂兄弟结点</strong>规定树中根结点的层次为1，其余结点的层次等于其双亲结点的层次加1。双亲结点在同一层上的所有结点互称为堂兄弟结点。</p> <p>(6)<strong>结点的层次路径</strong>、<strong>祖先</strong>、<strong>子孙</strong>从根结点开始，到达某结点p所经过的所有结点成为结点p的层次路径(有且只有一条)。结点p的层次路径上的所有结点（p除外）称为p的祖先(ancester) 。以某一结点为根的子树中的任意结点称为该结点的子孙结点(descent)。</p> <p>(7)<strong>有序树和无序树</strong>：对于一棵树，若其中每一个结点的子树（若有）具有一定的次序，则该树称为有序树，否则称为无序树。</p> <p>(8)<strong>森林</strong>(forest)**：**是m(m≧0)棵互不相交的树的集合。显然，若将一棵树的根结点删除，剩余的子树就构成了森林。</p> <p>(9)<strong>树的深度</strong>(depth)：树中结点的最大层次值，又称为树的高度，</p> <h3 id="树的存储之双亲表示法"><a href="#树的存储之双亲表示法" class="header-anchor">#</a> 树的存储之双亲表示法</h3> <p>（1） 顺序存储---基于数组（一维的结构体数组）
（2） 思想： 顺序存储各结点的同时， 把各结点父亲的下标也存储下来
优点： 找父亲方便， 一次就能找到
缺点： 找孩子不方便， 遍历整个数组</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407211648908.png" alt="image-20240721164825796"></p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">TreeNode</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//树中存放的真实的数据</span>
    <span class="token keyword">int</span> parent<span class="token punctuation">;</span><span class="token comment">//父节点 -1代表没有父节点</span>
<span class="token punctuation">}</span>Node<span class="token punctuation">;</span>

<span class="token comment">/*全局变量*/</span>
Node<span class="token operator">*</span> node<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//父亲表示法的顺序表表示</span>
<span class="token keyword">int</span> size<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//当前元素的个数</span>
<span class="token keyword">int</span> maxSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">//元素的总个数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">insert_root</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//建立根节点</span>
<span class="token keyword">void</span> <span class="token function">insert_child</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//插入元素</span>
<span class="token keyword">int</span> <span class="token function">find_parent</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 寻找父节点</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>建立根节点</strong></p> <p>​		创造一个根节点，将根节点的数据和父亲节点赋值给根节点。（ 父亲节点是<code>-1</code>，说明该节点没有父亲节点）并将该节点存放进数组中。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*
创建根节点
key 根节点的关键字
*/</span>
<span class="token keyword">void</span> <span class="token function">insert_root</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> new_node <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    new_node<span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
    new_node<span class="token operator">-&gt;</span>parent <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    node<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> new_node<span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>插入元素</strong></p> <p>​		用顺序表存储的结构在插入时都要进行判满。双亲表示法也不例外。若顺序表没满则要判断在顺序表中是否存在这个父节点。余下操作和建立根节点的操作相同。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*
插入元素
int key 关键字
int parent 父节点的值
*/</span>
<span class="token keyword">void</span> <span class="token function">insert_child</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> maxSize<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//元素已满 要么提示 要么扩容</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;已满&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> 
    <span class="token punctuation">{</span>
        <span class="token comment">//判断一下 是否有这个父节点</span>
        <span class="token keyword">int</span> parent_index <span class="token operator">=</span> <span class="token function">find_parent</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent_index <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//没有该父节点</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;没有该父节点&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            Node<span class="token operator">*</span> new_node <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            new_node<span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
            new_node<span class="token operator">-&gt;</span>parent <span class="token operator">=</span> parent_index<span class="token punctuation">;</span>
            node<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> new_node<span class="token punctuation">;</span>
            size<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>双亲表示法的全部代码</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">TreeNode</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//树中存放的真实的数据</span>
    <span class="token keyword">int</span> parent<span class="token punctuation">;</span><span class="token comment">//父节点 -1代表没有父节点</span>
<span class="token punctuation">}</span>Node<span class="token punctuation">;</span>

<span class="token comment">/*全局变量*/</span>
Node<span class="token operator">*</span> node<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//父亲表示法的顺序表表示</span>
<span class="token keyword">int</span> size<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//当前元素的个数</span>
<span class="token keyword">int</span> maxSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">//元素的总个数</span>

<span class="token keyword">void</span> <span class="token function">insert_root</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//建立根节点</span>
<span class="token keyword">void</span> <span class="token function">insert_child</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//插入元素</span>
<span class="token keyword">int</span> <span class="token function">find_parent</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
创建根节点
key 根节点的关键字
*/</span>
<span class="token keyword">void</span> <span class="token function">insert_root</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> new_node <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    new_node<span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
    new_node<span class="token operator">-&gt;</span>parent <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    node<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> new_node<span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
插入元素
int key 关键字
int parent 父节点的值
*/</span>
<span class="token keyword">void</span> <span class="token function">insert_child</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> maxSize<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//元素已满 要么提示 要么扩容</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;已满&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> 
    <span class="token punctuation">{</span>
        <span class="token comment">//判断一下 是否有这个父节点</span>
        <span class="token keyword">int</span> parent_index <span class="token operator">=</span> <span class="token function">find_parent</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent_index <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//没有该父节点</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;没有该父节点&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            Node<span class="token operator">*</span> new_node <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            new_node<span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
            new_node<span class="token operator">-&gt;</span>parent <span class="token operator">=</span> parent_index<span class="token punctuation">;</span>
            node<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> new_node<span class="token punctuation">;</span>
            size<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
找到父节点的下标 返回-1代表没找到
*/</span>
<span class="token keyword">int</span> <span class="token function">find_parent</span><span class="token punctuation">(</span><span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> node<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><h3 id="树的存储之孩子表示法"><a href="#树的存储之孩子表示法" class="header-anchor">#</a> 树的存储之孩子表示法</h3> <p>(1)”顺序存储+链式存储”---基于数组+链表
(2)思想:存储各结点的同时，把孩子结点挂到自己的孩子链表里面去。</p> <p>优点： 找孩子方便，
缺点： 找父亲不方便，</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407211649321.png" alt="image-20240721164930216"></p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LinkList</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//存放数据</span>
    <span class="token keyword">struct</span> <span class="token class-name">LinkList</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Node<span class="token punctuation">;</span>

Node<span class="token operator">*</span> node_array<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存储结点的数组</span>
<span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token comment">//数组中元素的个数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化操作</span>
<span class="token keyword">void</span> <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//构建树</span>
<span class="token keyword">int</span> <span class="token function">find_parent</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//找到父节点</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>初始化</strong></p> <p>​		创立节点添加入数组中，并将该节点赋值作为后续孩子节点的父亲节点节点。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*初始化 并且建立根节点*/</span>
<span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//将新的结点添加到数组当中</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//给新节点赋值</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>构建树</strong></p> <p>​		首先把孩子节点添加进数组中，并给节点赋值。判定是否存在父亲节点。若存在则创建一个节点，并把这个节点连接在父节点后面。（ 这里是头插法添加的节点 ）</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*
int parent 父节点的值
int key  孩子结点的值
*/</span>
<span class="token keyword">void</span> <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token keyword">int</span> parent<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token comment">//先将孩子结点添加到数组当中</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//给新节点赋值</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token comment">//找到父节点</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">find_parent</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;没有找到父亲节点&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> 
    <span class="token punctuation">{</span>
        Node<span class="token operator">*</span> new_node <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        new_node<span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
        new_node<span class="token operator">-&gt;</span>next <span class="token operator">=</span> node_array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        node_array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next <span class="token operator">=</span> new_node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>孩子表示法的全部代码</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LinkList</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//存放数据</span>
    <span class="token keyword">struct</span> <span class="token class-name">LinkList</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Node<span class="token punctuation">;</span>

Node<span class="token operator">*</span> node_array<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存储结点的数组</span>
<span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token comment">//数组中元素的个数</span>

<span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化操作</span>
<span class="token keyword">void</span> <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//构建树</span>
<span class="token keyword">int</span> <span class="token function">find_parent</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//找到父节点</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">Init</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;父节点为%d&quot;</span><span class="token punctuation">,</span> node_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Node<span class="token operator">*</span> temp <span class="token operator">=</span> node_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;孩子结点为%d&quot;</span><span class="token punctuation">,</span> temp<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            temp <span class="token operator">=</span> temp<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*初始化 并且建立根节点*/</span>
<span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//将新的结点添加到数组当中</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//给新节点赋值</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
int parent 父节点的值
int key  孩子结点的值
*/</span>
<span class="token keyword">void</span> <span class="token function">creat_tree</span><span class="token punctuation">(</span><span class="token keyword">int</span> parent<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token comment">//先将孩子结点添加到数组当中</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//给新节点赋值</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
    node_array<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token comment">//找到父节点</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">find_parent</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;没有找到父亲节点&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> 
    <span class="token punctuation">{</span>
        Node<span class="token operator">*</span> new_node <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        new_node<span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
        new_node<span class="token operator">-&gt;</span>next <span class="token operator">=</span> node_array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        node_array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">-&gt;</span>next <span class="token operator">=</span> new_node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">find_parent</span><span class="token punctuation">(</span><span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span>data <span class="token operator">==</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br></div></div><h3 id="树的存储的孩子兄弟表示法"><a href="#树的存储的孩子兄弟表示法" class="header-anchor">#</a> 树的存储的孩子兄弟表示法</h3> <p>​	将整棵树用二叉链表存储起来： 从根节点开始， 依次去存储各个节点的孩子以及兄弟</p> <p>优点： 找孩子方便，
缺点： 找父亲不方便</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407211705501.png" alt="image-20240721170556389"></p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//二叉链表的结点结构</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ChildSibling</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//数据	</span>
	<span class="token keyword">struct</span> <span class="token class-name">ChildSibling</span><span class="token operator">*</span> child<span class="token punctuation">;</span><span class="token comment">// 第一个孩子指针域</span>
	<span class="token keyword">struct</span> <span class="token class-name">ChildSibling</span><span class="token operator">*</span> sibling<span class="token punctuation">;</span><span class="token comment">//兄弟指针域</span>
<span class="token punctuation">}</span>Node<span class="token punctuation">;</span> 
Node<span class="token operator">*</span> root<span class="token punctuation">;</span><span class="token comment">//指向根节点的指针，同时也标记整棵树</span>
Node<span class="token operator">*</span> t<span class="token punctuation">;</span><span class="token comment">//临时指针 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 初始化</span>
Node<span class="token operator">*</span> <span class="token function">getNode</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 查找数据为parent的节点</span>
<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 插入</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>初始化</strong></p> <p>​		初始化就是创立一个节点。并将这个节点初始化。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//初始化，建立根节点</span>
<span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	root<span class="token operator">=</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	root<span class="token operator">-&gt;</span>data <span class="token operator">=</span>key<span class="token punctuation">;</span>
	root<span class="token operator">-&gt;</span>child <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
	root<span class="token operator">-&gt;</span>sibling <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>	
 <span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>插入</strong></p> <p>​		我们需要一个临时指针来存储找到父亲节点。然后创建一个新的节点。如果这个新节点不是父亲节点的第一个孩子，那就就要进入兄弟的那一个分支，通过头插进行添加。若是第一个孩子那就直接插入在孩子的指针域即可。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//插入 :key是插入的数据，parent是key的父亲结点的数据 </span>
<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span><span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	t<span class="token operator">=</span><span class="token function">getNode</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		Node<span class="token operator">*</span> p<span class="token operator">=</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		p<span class="token operator">-&gt;</span>data<span class="token operator">=</span>key<span class="token punctuation">;</span>
	
		<span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">-&gt;</span>child <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//key 不是parent的第一个孩子 </span>
	   <span class="token punctuation">{</span>
	   	    t<span class="token operator">=</span>t<span class="token operator">-&gt;</span>child <span class="token punctuation">;</span>
	   	    p<span class="token operator">-&gt;</span>sibling <span class="token operator">=</span>t<span class="token operator">-&gt;</span>sibling<span class="token punctuation">;</span>
	   	    t<span class="token operator">-&gt;</span>sibling <span class="token operator">=</span>p<span class="token punctuation">;</span>
	   	    p<span class="token operator">-&gt;</span>child <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
	   <span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">//key 是parent的第一个孩</span>
			t<span class="token operator">-&gt;</span>child <span class="token operator">=</span>p<span class="token punctuation">;</span>
			p<span class="token operator">-&gt;</span>child <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
			p<span class="token operator">-&gt;</span>sibling<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
			
		<span class="token punctuation">}</span> 
	 <span class="token punctuation">}</span> 
	
	<span class="token keyword">else</span><span class="token punctuation">{</span>
		<span class="token comment">//</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><strong>查找父节点</strong>
查找操作是为了能方便在插入的时候找到父亲节点。每次查找父亲节点都要遍历整一个树。通过递归遍历，递归的出口就是找到父亲节点并返回，或没有找到返回空。有两个递归的入口，一个是通过孩子指针域去找，一个是通过兄弟指针域去寻找。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//在以r为根的树中，查找数据为parent的结点</span>
<span class="token comment">//递归 </span>
Node<span class="token operator">*</span> <span class="token function">getNode</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> r<span class="token punctuation">,</span><span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>data <span class="token operator">==</span>parent<span class="token punctuation">)</span><span class="token comment">//1</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>child <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//2</span>
    <span class="token punctuation">{</span>
        Node<span class="token operator">*</span> x<span class="token operator">=</span><span class="token function">getNode</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>child<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调1 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">-&gt;</span>data <span class="token operator">==</span>parent<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>sibling <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//3 </span>
    <span class="token punctuation">{</span>

        Node<span class="token operator">*</span> x<span class="token operator">=</span><span class="token function">getNode</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>sibling <span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调2 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">-&gt;</span>data <span class="token operator">==</span>parent<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>	
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><strong>孩子兄弟表示法的全部代码</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token comment">//二叉链表的结点结构</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ChildSibling</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//数据	</span>
    <span class="token keyword">struct</span> <span class="token class-name">ChildSibling</span><span class="token operator">*</span> child<span class="token punctuation">;</span><span class="token comment">// 第一个孩子指针域</span>
    <span class="token keyword">struct</span> <span class="token class-name">ChildSibling</span><span class="token operator">*</span> sibling<span class="token punctuation">;</span><span class="token comment">//兄弟指针域</span>
<span class="token punctuation">}</span>Node<span class="token punctuation">;</span> 
Node<span class="token operator">*</span> root<span class="token punctuation">;</span><span class="token comment">//指向根节点的指针，同时也标记整棵树</span>
Node<span class="token operator">*</span> t<span class="token punctuation">;</span><span class="token comment">//临时指针 </span>

<span class="token comment">//初始化，建立根节点</span>
<span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    root<span class="token operator">=</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>data <span class="token operator">=</span>key<span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>child <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>sibling <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span> 
<span class="token comment">//在以r为根的树中，查找数据为parent的结点</span>
<span class="token comment">//递归 </span>
Node<span class="token operator">*</span> <span class="token function">getNode</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> r<span class="token punctuation">,</span><span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>data <span class="token operator">==</span>parent<span class="token punctuation">)</span><span class="token comment">//1</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>child <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//2</span>
    <span class="token punctuation">{</span>
        Node<span class="token operator">*</span> x<span class="token operator">=</span><span class="token function">getNode</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>child<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调1 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">-&gt;</span>data <span class="token operator">==</span>parent<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>sibling <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//3 </span>
    <span class="token punctuation">{</span>

        Node<span class="token operator">*</span> x<span class="token operator">=</span><span class="token function">getNode</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>sibling <span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调2 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">-&gt;</span>data <span class="token operator">==</span>parent<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>	
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> 
<span class="token comment">//插入 :key是插入的数据，parent是key的父亲结点的数据 </span>
<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span><span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    t<span class="token operator">=</span><span class="token function">getNode</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Node<span class="token operator">*</span> p<span class="token operator">=</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>data<span class="token operator">=</span>key<span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">-&gt;</span>child <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//key 不是parent的第一个孩子 </span>
        <span class="token punctuation">{</span>
            t<span class="token operator">=</span>t<span class="token operator">-&gt;</span>child <span class="token punctuation">;</span>
            p<span class="token operator">-&gt;</span>sibling <span class="token operator">=</span>t<span class="token operator">-&gt;</span>sibling<span class="token punctuation">;</span>
            t<span class="token operator">-&gt;</span>sibling <span class="token operator">=</span>p<span class="token punctuation">;</span>
            p<span class="token operator">-&gt;</span>child <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">//key 是parent的第一个孩</span>
            t<span class="token operator">-&gt;</span>child <span class="token operator">=</span>p<span class="token punctuation">;</span>
            p<span class="token operator">-&gt;</span>child <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            p<span class="token operator">-&gt;</span>sibling<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 

    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">//</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment">//主函数自行写出 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h2 id="二叉树"><a href="#二叉树" class="header-anchor">#</a> 二叉树</h2> <p>​		二叉树是每个结点最多有两个子树的树结构。也就是说二叉树不允许存在度大于2的树。它有五种最基本的形态：二叉树可以是空集。根可以有空的左子树或者右子树；或者左右⼦树都是空。其中只有左子树或者右子树的叫做斜树。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221235904.png" alt="image-20240722123532813"></p> <p><strong>二叉树的性质</strong></p> <table><thead><tr><th>性 质</th> <th style="text-align:center;">内容</th></tr></thead> <tbody><tr><td>性 质 ⼀</td> <td style="text-align:center;">在⼆叉树的 i 层上至多有2^i-1^个结点（i&gt;=1）</td></tr> <tr><td>性 质 ⼆</td> <td style="text-align:center;">深度为 k 的⼆叉树至多有 2^k^ -1个结点（k&gt;=1）</td></tr> <tr><td>性 质 三</td> <td style="text-align:center;">在⼀棵⼆叉树中，除了叶子结点（度为0）之外，就剩下度为2(n~2~)和1(n~1~)的结点了。则树的 结点总数为T = n~0~+n~1~+n~2~;在⼆叉树中结点总数为T，而连线数为T-1.所以有： n~0~+n~1~+n~2~ -1 =  2*n~2~ +n~1~;最后得到     n~0~ = n~2~+1;</td></tr> <tr><td>性 质 四</td> <td style="text-align:center;">具有 n 个结点的完全⼆叉树的深度为 [log~2~n] + 1 向下取整</td></tr> <tr><td>性 质 五</td> <td style="text-align:center;">如果有⼀棵有 n 个结点的完全⼆叉树(其深度为 [log~2~n] + 1，向下取整)的结点按层次序编号 (从第 1 层到第 [log~2~n] + 1，向下取整层，每层从左到右)，则对任⼀结点 i（1 &lt;= i &lt;= n）有 <br>1.如果 i = 1，则结点 i 是⼆叉树的根，无双亲；如果 i &gt; 1，则其双亲是结点 [i / 2]，向下取 整 <br>2.如果 2i &gt; n 则结点 i 无左孩子，否则其左孩子是结点 2i <br>3.如果 2i + 1 &gt; n 则结点无右孩子，否则其右孩子是结点 2i + 1</td></tr></tbody></table> <h3 id="满二叉树"><a href="#满二叉树" class="header-anchor">#</a> 满⼆叉树</h3> <p>​		满⼆叉树要求所有的分支结点都存在左右子树，并且所有的叶结点都在同⼀层上，若满⼆叉树的层数为 n，则结点数量为 2n-1 个结点，子叶只能出现在最后⼀层，内部结点的度都为 2，如图所示。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221251996.png" alt="image-20240722125119888"></p> <h3 id="完全二叉树"><a href="#完全二叉树" class="header-anchor">#</a> 完全⼆叉树</h3> <p>​		从定义上来说，完全⼆叉树是满足若对⼀棵具有 n 个结点的⼆叉树按层序编号，如果编号为 i 的结点 (1 ≤ i ≤ n)于同样深度的满⼆叉树中编号为 i 的结点在⼆叉树的位置相同的⼆叉树。这样讲有些繁琐，可以理解为完全⼆叉树⽣成结点的顺序必须严格按照从上到下，从左往右的顺序来生成结点，如图所示。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221252731.png" alt="image-20240722125239632"></p> <p>​		因此我们就不难观察出完全⼆叉树的特点，完全⼆叉树的叶结点只能存在于最下两层，其中最下层的叶结点只集中在树结构的左侧，而倒数第⼆层的叶结点集中于树结构的右侧。当结点的度为 1 时，该结点只能拥有左子树。</p> <h3 id="二叉树的存储"><a href="#二叉树的存储" class="header-anchor">#</a> 二叉树的存储</h3> <p>​		二叉树的存储同样有两种方式。</p> <p><strong>顺序存储</strong></p> <p>​		由于二叉树的结点至多为2，因此这种性质使得二叉树是可以使用顺序存储结构来描述的。在使用顺序存储结构时我们需要令数组的下标体现结点之间的逻辑关系。</p> <p>​		假设一颗树如下图所示。如果要将其存储下来，我们可以拿一个数组来存储，由于每一个节点最多只有两个孩子，在数组中每三个为一组来存储数据。如下图所示：</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221315496.png" alt="image-20240722131555409"></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221318083.png" alt="image-20240722131855987"></p> <p>​		如果是⼀个最特殊的⼆叉树，对于一颗斜树，我们开辟的空间数远超过实际使用的空间（ 毕竟如果孩子为空的话依然要占用空间，这样空间就被浪费了。因此顺序存储结构可行，但是不合适。  所以我们在二叉树的内容中一般采用的都是链式存储。</p> <p><strong>链式存储</strong></p> <p>​		由于⼆叉树的每个结点最多只能有两个子树，因此我们就不需要使用上述的3种表达法来做。可以直接设置⼀个结点具有两个指针域与⼀个数据域，那么这样就可以建好⼆叉树链表。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221321323.png" alt="image-20240722132143223"></p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">BTNode</span> <span class="token punctuation">{</span> <span class="token comment">//二叉树结点     </span>
    <span class="token keyword">char</span> show<span class="token punctuation">;</span>         <span class="token comment">// 节点中存放的内容</span>
    <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token operator">*</span> left<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token operator">*</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>BTNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token comment">//二叉树 </span>
    BTNode <span class="token operator">*</span>root<span class="token punctuation">;</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span><span class="token comment">//结点数目 </span>
<span class="token punctuation">}</span>BinaryTree<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>BTNode <span class="token operator">*</span><span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">initBTreeRoot</span><span class="token punctuation">(</span>BinaryTree<span class="token punctuation">,</span> BTNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
BinaryTree <span class="token operator">*</span><span class="token function">createBTree</span><span class="token punctuation">(</span>BTNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">insertBTNode</span><span class="token punctuation">(</span>BinaryTree<span class="token operator">*</span><span class="token punctuation">,</span> BTNode<span class="token operator">*</span><span class="token punctuation">,</span> BTNode<span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="二叉树链式存储之创造节点"><a href="#二叉树链式存储之创造节点" class="header-anchor">#</a> 二叉树链式存储之创造节点</h4> <p>​		先申请一个一块内存来存放节点。然后通过<code>memset</code>函数来将节点中的指针都置空。将节点内容赋值给节点。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//创建结点 </span>
BTNode <span class="token operator">*</span><span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token keyword">char</span> show<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BTNode <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>BTNode <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BTNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>BTNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    node<span class="token operator">-&gt;</span>show <span class="token operator">=</span> show<span class="token punctuation">;</span>
    <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="二叉树链式存储之初始化根节点"><a href="#二叉树链式存储之初始化根节点" class="header-anchor">#</a> 二叉树链式存储之初始化根节点</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//初始化树根结点 </span>
<span class="token keyword">void</span> <span class="token function">initBTreeRoot</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">,</span> BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	tree<span class="token operator">-&gt;</span>count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	tree<span class="token operator">-&gt;</span>root <span class="token operator">=</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="二叉树链式存储之创建树"><a href="#二叉树链式存储之创建树" class="header-anchor">#</a> 二叉树链式存储之创建树</h4> <p>​		先申请一片空间来存放树，判断传进来的节点是否为空，若该节点不为空，则将其作为树根节点。若为空，则说明这棵树是一个空树，所以将其根节点指向空。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//创建树（初始化一个根节点） </span>
BinaryTree <span class="token operator">*</span><span class="token function">createBTree</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	BinaryTree <span class="token operator">*</span>tree <span class="token operator">=</span> <span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BinaryTree<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//非空 </span>
		<span class="token function">initBTreeRoot</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> 
	<span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">//空树 </span>
		tree<span class="token operator">-&gt;</span>root <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		tree<span class="token operator">-&gt;</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="二叉树链式存储之插入操作"><a href="#二叉树链式存储之插入操作" class="header-anchor">#</a> 二叉树链式存储之插入操作</h4> <p>​		若想插入节点，需要传入整个树、该孩子的父节点、该节点、为父节点的左孩子还是右孩子。将节点绑定在指定位置，树的节点树增加。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//插入结点  在树中插入newNode结点，该结点的双亲结点为parent， </span>
<span class="token comment">//flag==1该结点为左孩子， flag==0该结点为右孩子 </span>
<span class="token keyword">void</span> <span class="token function">insertBTNode</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">,</span> BTNode <span class="token operator">*</span>parent<span class="token punctuation">,</span> BTNode <span class="token operator">*</span>newNode<span class="token punctuation">,</span> <span class="token keyword">int</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		parent<span class="token operator">-&gt;</span>left <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		parent<span class="token operator">-&gt;</span>right <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	tree<span class="token operator">-&gt;</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="二叉树的遍历"><a href="#二叉树的遍历" class="header-anchor">#</a> 二叉树的遍历</h3> <p>​		二叉树的基本遍历分为四种，分别是先序遍历、中序遍历、后续遍历、层次遍历。其中&quot;序&quot;其实就是根节点的位置。</p> <ul><li>DLR--前序遍历（根在前，从左往右，一棵树的根永远在左子树前面，左子树又永远在右子树前面 ）</li> <li>LDR--中序遍历（根在中，从左往右，一棵树的左子树永远在根前面，根永远在右子树前面）</li> <li>LRD--后序遍历（根在后，从左往右，一棵树的左子树永远在右子树前面，右子树永远在根前面）</li> <li>层序遍历（ 按照树的层级，一层层从上到下，从左到右层次遍历 ）</li></ul> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221407085.png" alt="image-20240722140716951"></p> <h4 id="二叉树遍历之先序遍历"><a href="#二叉树遍历之先序遍历" class="header-anchor">#</a> 二叉树遍历之先序遍历</h4> <p>​		先中后序的差别其实就是递归调用的顺序区别。拿先序举例，就是先访问根节点的值，然后访问左右子树的值。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//先序遍历 </span>
<span class="token keyword">void</span> <span class="token function">perOrder</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">visitBTNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// visitBTNode是访问当前节点</span>
        <span class="token function">perOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">perOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">perOrderBTree</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">perOrder</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="二叉树遍历之中序遍历"><a href="#二叉树遍历之中序遍历" class="header-anchor">#</a> 二叉树遍历之中序遍历</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//中序遍历 </span>
<span class="token keyword">void</span> <span class="token function">inOrder</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">inOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">visitBTNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">inOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">inOrderBTree</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">inOrder</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="二叉树遍历之后序遍历"><a href="#二叉树遍历之后序遍历" class="header-anchor">#</a> 二叉树遍历之后序遍历</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//后序遍历 </span>
<span class="token keyword">void</span> <span class="token function">postOrder</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">postOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">postOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">visitBTNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">postOrderBTree</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">postOrder</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="二叉树遍历之层次遍历"><a href="#二叉树遍历之层次遍历" class="header-anchor">#</a> 二叉树遍历之层次遍历</h4> <p>​		层次遍历用到了队列（ 当然可以使用递归 ）。队列的具体代码和上述队列的代码相同，这里直接拿来用即可。先创建一个队列，然后将根节点入队。接着以队列是否为空作为循环条件。在循环中取出队首节点，然后检查其是否有左右孩子，若是有则将左右孩子存入队列中。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//	层次遍历 </span>
<span class="token keyword">void</span> <span class="token function">levelOrderBTree</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	linkqueue <span class="token operator">*</span>que <span class="token operator">=</span> <span class="token function">initqueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">enqueue</span><span class="token punctuation">(</span>que<span class="token punctuation">,</span> tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//树根结点入队</span>

	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>que<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
	 <span class="token punctuation">{</span>	 	
		BTNode <span class="token operator">*</span> node<span class="token operator">=</span><span class="token function">dequeue</span><span class="token punctuation">(</span>que<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取队首结点，出队</span>
		<span class="token function">visitBTNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//访问该节点 </span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">enqueue</span><span class="token punctuation">(</span>que<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//该节点左孩子入队</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
		<span class="token function">enqueue</span><span class="token punctuation">(</span>que<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//该节点左孩子入队</span>
		<span class="token punctuation">}</span>
			
	<span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="二叉树的总代码"><a href="#二叉树的总代码" class="header-anchor">#</a> 二叉树的总代码</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">BTNode</span> <span class="token punctuation">{</span> <span class="token comment">//二叉树结点     </span>
    <span class="token keyword">char</span> show<span class="token punctuation">;</span>         
    <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token operator">*</span> left<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token operator">*</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>BTNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token comment">//二叉树 </span>
    BTNode <span class="token operator">*</span>root<span class="token punctuation">;</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span><span class="token comment">//结点数目 </span>
<span class="token punctuation">}</span>BinaryTree<span class="token punctuation">;</span>

<span class="token comment">//创建结点 </span>
BTNode <span class="token operator">*</span><span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token keyword">char</span> show<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BTNode <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>BTNode <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BTNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>BTNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    node<span class="token operator">-&gt;</span>show <span class="token operator">=</span> show<span class="token punctuation">;</span>
    <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//初始化树根结点 </span>
<span class="token keyword">void</span> <span class="token function">initBTreeRoot</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">,</span> BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    tree<span class="token operator">-&gt;</span>count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    tree<span class="token operator">-&gt;</span>root <span class="token operator">=</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//创建树 </span>
BinaryTree <span class="token operator">*</span><span class="token function">createBTree</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BinaryTree <span class="token operator">*</span>tree <span class="token operator">=</span> <span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BinaryTree<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//非空 </span>
        <span class="token function">initBTreeRoot</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">//空树 </span>
        tree<span class="token operator">-&gt;</span>root <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        tree<span class="token operator">-&gt;</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//插入结点  在树中插入newNode结点，该结点的双亲结点为parent， </span>
<span class="token comment">//flag==1该结点为左孩子， flag==0该结点为右孩子 </span>
<span class="token keyword">void</span> <span class="token function">insertBTNode</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">,</span> BTNode <span class="token operator">*</span>parent<span class="token punctuation">,</span> BTNode <span class="token operator">*</span>newNode<span class="token punctuation">,</span> <span class="token keyword">int</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parent<span class="token operator">-&gt;</span>left <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        parent<span class="token operator">-&gt;</span>right <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    tree<span class="token operator">-&gt;</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//访问一个结点</span>
<span class="token keyword">void</span> <span class="token function">visitBTNode</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c &quot;</span><span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>show<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//声明队列及其操作函数</span>
<span class="token comment">///链式队列//</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">qnode</span><span class="token punctuation">{</span><span class="token comment">//链式队列结点 </span>
    BTNode<span class="token operator">*</span> data<span class="token punctuation">;</span><span class="token comment">//队列元素是树中的结点 </span>
    <span class="token keyword">struct</span> <span class="token class-name">qnode</span> <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token comment">//指向下一个结点的指针 </span>
<span class="token punctuation">}</span>qnode<span class="token punctuation">,</span><span class="token operator">*</span>lqueue<span class="token punctuation">;</span> 
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">linkqueue</span><span class="token punctuation">{</span><span class="token comment">//链式队列---可选，不写结构体，直接定义对头队尾指针也可 </span>
    lqueue front<span class="token punctuation">,</span>rear<span class="token punctuation">;</span><span class="token comment">//对头队尾指针,队首指针是链表头结点 </span>
<span class="token punctuation">}</span>linkqueue<span class="token punctuation">;</span>
<span class="token comment">//初始化</span>
linkqueue<span class="token operator">*</span> <span class="token function">initqueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>   
    linkqueue <span class="token operator">*</span>q<span class="token operator">=</span><span class="token punctuation">(</span>linkqueue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>linkqueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    q<span class="token operator">-&gt;</span>front<span class="token operator">=</span>q<span class="token operator">-&gt;</span>rear<span class="token operator">=</span><span class="token punctuation">(</span>lqueue<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>qnode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;分配失败\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> q<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token comment">//入队 </span>
<span class="token keyword">void</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">,</span>BTNode<span class="token operator">*</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    lqueue s<span class="token operator">=</span><span class="token punctuation">(</span>lqueue <span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>qnode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>data <span class="token operator">=</span>x<span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>next <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//新节点插入到链尾</span>
    q<span class="token operator">-&gt;</span>rear<span class="token operator">-&gt;</span>next<span class="token operator">=</span>s<span class="token punctuation">;</span>
    q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span>s<span class="token punctuation">;</span> 


<span class="token punctuation">}</span> 
<span class="token comment">//出队，队首指针是链表头结点 ，删除的是队首指针的下一个，即front-&gt;next </span>
BTNode<span class="token operator">*</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    BTNode<span class="token operator">*</span> x<span class="token punctuation">;</span><span class="token comment">//保存出队元素 </span>
    <span class="token comment">//先判空，不空才能出 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;空\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//队空，报错 </span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        lqueue p<span class="token operator">=</span>q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span> 
        x<span class="token operator">=</span>p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
        q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token operator">=</span>p<span class="token operator">-&gt;</span>next <span class="token punctuation">;</span>
        <span class="token comment">//若原队列只有一个结点了，则删除边空，需要处理尾指针 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>rear <span class="token operator">==</span>p<span class="token punctuation">)</span>
            q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span>q<span class="token operator">-&gt;</span>front<span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">return</span> x<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>linkqueue<span class="token operator">*</span> q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>front<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//队空 </span>
    <span class="token punctuation">}</span> 	
    <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//非空 </span>
<span class="token punctuation">}</span>
<span class="token comment">//	层次遍历 </span>
<span class="token keyword">void</span> <span class="token function">levelOrderBTree</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    linkqueue <span class="token operator">*</span>que <span class="token operator">=</span> <span class="token function">initqueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">enqueue</span><span class="token punctuation">(</span>que<span class="token punctuation">,</span> tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//树根结点入队</span>

    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>que<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        BTNode <span class="token operator">*</span> node<span class="token operator">=</span><span class="token function">dequeue</span><span class="token punctuation">(</span>que<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取队首结点，出队</span>
        <span class="token function">visitBTNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//访问该节点 </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">enqueue</span><span class="token punctuation">(</span>que<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//该节点左孩子入队</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token function">enqueue</span><span class="token punctuation">(</span>que<span class="token punctuation">,</span> node<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//该节点左孩子入队</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//先序遍历 </span>
<span class="token keyword">void</span> <span class="token function">perOrder</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">visitBTNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">perOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">perOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">perOrderBTree</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">perOrder</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//中序遍历 </span>
<span class="token keyword">void</span> <span class="token function">inOrder</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">inOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">visitBTNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">inOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">inOrderBTree</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">inOrder</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//后序遍历 </span>
<span class="token keyword">void</span> <span class="token function">postOrder</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">postOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">postOrder</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">visitBTNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">postOrderBTree</span><span class="token punctuation">(</span>BinaryTree <span class="token operator">*</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">postOrder</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//初始化一棵具体的树 </span>
BinaryTree <span class="token operator">*</span><span class="token function">initBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BTNode <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BTNode <span class="token operator">*</span>b <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BTNode <span class="token operator">*</span>c <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BTNode <span class="token operator">*</span>d <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BTNode <span class="token operator">*</span>e <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'E'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BTNode <span class="token operator">*</span>f <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'F'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BTNode <span class="token operator">*</span>g <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'G'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BTNode <span class="token operator">*</span>h <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'H'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BTNode <span class="token operator">*</span>k <span class="token operator">=</span> <span class="token function">createBTNode</span><span class="token punctuation">(</span><span class="token char">'K'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    BinaryTree <span class="token operator">*</span>tree <span class="token operator">=</span> <span class="token function">createBTree</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">insertBTNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insertBTNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> a<span class="token punctuation">,</span> e<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insertBTNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insertBTNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insertBTNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insertBTNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insertBTNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> g<span class="token punctuation">,</span> h<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">insertBTNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> g<span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BinaryTree <span class="token operator">*</span>tree <span class="token operator">=</span> <span class="token function">initBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">levelOrderBTree</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n前:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">perOrderBTree</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n中:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">inOrderBTree</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n后\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">postOrderBTree</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br></div></div><h2 id="树、二叉树和森林的转换"><a href="#树、二叉树和森林的转换" class="header-anchor">#</a> 树、二叉树和森林的转换</h2> <h3 id="普通树转为二叉树"><a href="#普通树转为二叉树" class="header-anchor">#</a> 普通树转为二叉树</h3> <ol><li>加线，在所有兄弟结点之间加⼀条连线。</li> <li>去线，对树中每个结点，只保留它与第⼀孩子结点的连线，删除它与其他孩子结点之间的连线。</li> <li>层次调整，以树为根结点为轴心，将整棵树顺时针旋转⼀定的角度，使之结构层次分明。</li></ol> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407260958150.png" alt="image-20240726095816033"></p> <h3 id="森林转换为二叉树"><a href="#森林转换为二叉树" class="header-anchor">#</a> 森林转换为二叉树</h3> <ol><li>把每棵树都转换为二叉树。</li> <li>第⼀棵二叉树不动，从第二棵二叉树开始，依次把后⼀棵二叉树的根结点作为前⼀棵二叉树的根结点
的右孩子，用线连起来。</li> <li>层次调整，以树的根结点为轴心，将整棵树顺时针旋转⼀定的角度，使之结构层次分明。</li></ol> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261019685.png" alt="image-20240726101910600"></p> <h2 id="线索二叉树"><a href="#线索二叉树" class="header-anchor">#</a> 线索二叉树</h2> <p><strong>线索二叉树的由来</strong></p> <p>为了解决两个问题：</p> <ol><li>解决一棵树大量空指针浪费空间的问题</li> <li>想知道某个节点某个次序的前驱或者后继</li></ol> <p><strong>线索二叉树的定义</strong></p> <p>将某结点的空指针域指向该结点的前驱后继，定义规则如下：</p> <ul><li>若结点的左子树为空，则该结点的左孩子指针指向其前驱结点。</li> <li>若结点的右子树为空，则该结点的右孩子指针指向其后继结点。</li></ul> <p>​		这种指向前驱和后继的指针称为线索。将⼀棵普通⼆叉树以某种次序遍历，并添加线索的过程称为线索
化。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221444611.png" alt="image-20240722144436521"></p> <p>​		可以将⼀棵⼆叉树线索化为⼀棵线索⼆叉树，那么新的问题产生了。我们如何区分⼀个结点的<code>lchild</code>指针是指向左孩子还是前驱结点呢？</p> <p>为了解决这⼀问题，现需要添加标志位ltag， rtag。并定义规则如下：</p> <ul><li><code>ltag</code>为0时，指向左孩子，为1时指向前驱</li> <li><code>rtag</code>为0时，指向右孩子，为1时指向后继</li></ul> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407221454167.png" alt="image-20240722145436067"></p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">BTNode</span> <span class="token punctuation">{</span> <span class="token comment">//二叉树结点     </span>
    <span class="token keyword">char</span> show<span class="token punctuation">;</span>         
    <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token operator">*</span> left<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token operator">*</span> right<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ltag<span class="token punctuation">;</span>
    <span class="token keyword">int</span> rtag<span class="token punctuation">;</span>
<span class="token punctuation">}</span>BTNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token comment">//二叉树 </span>
    BTNode <span class="token operator">*</span>root<span class="token punctuation">;</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span><span class="token comment">//结点数目 </span>
<span class="token punctuation">}</span>BinaryTree<span class="token punctuation">;</span>
BTNode<span class="token operator">*</span> pre<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="将一棵二叉树进行线索化"><a href="#将一棵二叉树进行线索化" class="header-anchor">#</a> 将一棵二叉树进行线索化</h3> <p>​		其余的操作都是和二叉的建立和存储都是一样的，这里单独列出的都是线索化的内容。</p> <p>​		理解代码的内容，首先要理解上面的概念。当一个节点的左右孩子有为空时，优先线索化指向前驱。这也是代码中<code>if(pre!=NULL&amp;&amp;pre-&gt;right ==NULL)</code>的原因。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//访问一个结点</span>
<span class="token comment">//进行线索化 </span>
<span class="token keyword">void</span> <span class="token function">visitBTNode</span><span class="token punctuation">(</span>BTNode <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left <span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
	  node<span class="token operator">-&gt;</span>left <span class="token operator">=</span>pre<span class="token punctuation">;</span>
	  node<span class="token operator">-&gt;</span>ltag <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//指向前驱线索	</span>
	 <span class="token punctuation">}</span> 
	 <span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>pre<span class="token operator">-&gt;</span>right <span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	 <span class="token punctuation">{</span>
	 	pre<span class="token operator">-&gt;</span>right <span class="token operator">=</span>node<span class="token punctuation">;</span>
	 	pre<span class="token operator">-&gt;</span>rtag <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//指向后继线索 </span>
	  <span class="token punctuation">}</span> 
	pre<span class="token operator">=</span>node<span class="token punctuation">;</span> <span class="token comment">//</span>
	
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="中序遍历找前驱"><a href="#中序遍历找前驱" class="header-anchor">#</a> 中序遍历找前驱</h3> <p>​		若是传入节点的左子树的标记为<code>1</code>，那该节点的前驱就是左子树指向的位置。否则该节点的前驱就是左子树中最右边的结点。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//找前驱节点 </span>
BTNode<span class="token operator">*</span> <span class="token function">nextNode</span><span class="token punctuation">(</span>BTNode<span class="token operator">*</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">-&gt;</span>ltag <span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>

    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        BTNode<span class="token operator">*</span> p<span class="token operator">=</span>x<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>rtag <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> p<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="中序遍历找后继"><a href="#中序遍历找后继" class="header-anchor">#</a> 中序遍历找后继</h3> <p>​		若是传入节点的右子树的标记为<code>1</code>，那该节点的后继就是右子树指向的位置。否则该节点的后继就是右子树中最左边的结点。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//找中序遍历的后继节点</span>
BTNode<span class="token operator">*</span> <span class="token function">nextNode</span><span class="token punctuation">(</span>BTNode<span class="token operator">*</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">-&gt;</span>rtag <span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>

    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        BTNode<span class="token operator">*</span> p<span class="token operator">=</span>x<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>ltag <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> p<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="二叉查找树-bst树"><a href="#二叉查找树-bst树" class="header-anchor">#</a> 二叉查找树（BST树）</h2> <p>​		二叉查找树又名二叉排序树、二叉搜索树。</p> <p><strong>二叉排序树的性质</strong></p> <ol><li>如果他的左子树不空，则左子树上所有结点的值均小于它的根结点的值。</li> <li>若它的右子树不空，则右子树上所有结点的值均大于它的根结点的值。</li> <li>它的左、右树又分为⼆叉排序树。</li></ol> <p>简单点来说，树中的值以中序遍历来看就是升序的。（ 下图中只有左边的树是查找树 ）</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407230926181.png" alt="image-20240723092617111"></p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*数据结构*/</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">SortTree</span> <span class="token punctuation">{</span>
    <span class="token keyword">struct</span> <span class="token class-name">SortTree</span><span class="token operator">*</span> left<span class="token punctuation">,</span> <span class="token operator">*</span> right<span class="token punctuation">;</span>
    <span class="token keyword">int</span> key<span class="token punctuation">;</span><span class="token comment">//存放数据</span>
<span class="token punctuation">}</span>Node<span class="token punctuation">;</span>
<span class="token comment">/*全局变量*/</span>
Node<span class="token operator">*</span> root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>操作集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 初始化根节点</span>
<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 插入节点</span>
<span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 中序遍历树</span>
<span class="token keyword">void</span> <span class="token function">delet</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 删除节点</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="二叉查找树之初始化"><a href="#二叉查找树之初始化" class="header-anchor">#</a> 二叉查找树之初始化</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*初始化一个根节点*/</span>
<span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    root <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="二叉查找树之插入节点"><a href="#二叉查找树之插入节点" class="header-anchor">#</a> 二叉查找树之插入节点</h3> <p>​		二叉排序树的插入 永远是插入在叶子要先找到应该在哪个结点的孩子进行插入然后判断是这个结点的左孩子还是右孩子。</p> <p>​		定义两个指针，一前一后方便操作。第一个<code>while</code>循环是为了找到合适的位置。接着对这个位置的父亲节点的<code>key</code>和传进来的<code>key</code>进行比较。若前者大于后者，就插入在左子树，否则插入在右子树。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> temp <span class="token operator">=</span> root<span class="token punctuation">;</span><span class="token comment">//定义一个临时指针 方便移动</span>
    Node<span class="token operator">*</span> prev <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//指向temp的前一个结点</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>temp <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        prev <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> temp<span class="token operator">-&gt;</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            temp <span class="token operator">=</span> temp<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&gt;</span> temp<span class="token operator">-&gt;</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            temp <span class="token operator">=</span> temp<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> prev<span class="token operator">-&gt;</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        prev<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prev<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
        prev<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        prev<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        prev<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prev<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
        prev<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        prev<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="二叉查找树之删除节点"><a href="#二叉查找树之删除节点" class="header-anchor">#</a> 二叉查找树之删除节点</h3> <p>情况一：<code>node</code>没有孩子，是叶子结点</p> <ol><li><code>node</code> 不是根节点，直接把<code>node</code>删除，把<code>node</code>父亲对应的孩子指针置空</li> <li><code>node</code>是根节点，直接删除，把根指针置空</li></ol> <p>情况二：<code>node</code>只有一个孩子结点</p> <ol><li>​    <code>node</code>不是根节点，并且<code>node</code>只有一个孩子，就让这个孩子结点顶替<code>node</code>的位置，也就是<code>node</code>的<code>parent</code>的指向<code>node</code>的指针，要去指向该孩子（写代码时要注意区分左右）</li> <li>​    <code>node</code>是根节点，让根指针直接指向<code>node</code>的唯一的孩子即可</li></ol> <p>情况三：<code>node</code>有两个孩子。</p> <p>​		这种情况简单点来说就是将<code>node</code>节点在中序遍历中的左边位置的元素或右边元素代替这个值就可。</p> <p>​		法1：让<code>node</code>结点的左子树中的值最大的<code>x</code>结点来替换<code>node</code>结点的值，转化为删除<code>x</code>：如果<code>x</code>是叶子结点转化为情况一，如果<code>x</code>不是叶子结点转化为情况二（<code>x</code>只有左孩子）   <code>x</code>是最<code>node</code>左子树靠右边的结点</p> <p>​		法2：让<code>node</code>结点的右子树中的值最小的<code>x</code>结点来替换<code>node</code>结点的值，转化为删除<code>x</code>：如果<code>x</code>是叶子结点转化为情况一，如果<code>x</code>不是叶子结点转化为情况二(<code>x</code>只有右孩子) 	   <code>x</code>是最<code>node</code>右子树靠左边的结点</p> <p>​		</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">delet</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> node <span class="token operator">=</span> root<span class="token punctuation">;</span><span class="token comment">//去找k所在的结点node </span>
    Node<span class="token operator">*</span> prev <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//找node的父亲结点 </span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>key <span class="token operator">!=</span>k<span class="token punctuation">)</span> <span class="token comment">// 寻找到要删除点的位置</span>
    <span class="token punctuation">{</span>
        prev <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> node<span class="token operator">-&gt;</span>key<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            node <span class="token operator">=</span> node<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&gt;</span> node<span class="token operator">-&gt;</span>key<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            node <span class="token operator">=</span> node<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left <span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>node<span class="token operator">-&gt;</span>right <span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token comment">//情况一 node没有孩子 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>prev<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//node的父亲为空 ，node为根节点 </span>
        <span class="token punctuation">{</span>
            root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
            node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token comment">// node不为空节点</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>prev<span class="token operator">-&gt;</span>left <span class="token operator">==</span>node<span class="token punctuation">)</span><span class="token comment">// 看看这个节点是父节点的左孩子还是右孩子</span>
            <span class="token punctuation">{</span>
                prev<span class="token operator">-&gt;</span>left <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
                <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                prev<span class="token operator">-&gt;</span>right <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
                <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 	
            <span class="token punctuation">}</span>	
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>node<span class="token operator">-&gt;</span>right <span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token comment">// 情况二：node只有左孩子</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>prev<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// 此时是根节点的情况</span>
        <span class="token punctuation">{</span>
            root<span class="token operator">=</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
            node<span class="token operator">-&gt;</span>left <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
            node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>prev<span class="token operator">-&gt;</span>left <span class="token operator">==</span>node<span class="token punctuation">)</span><span class="token comment">// 看看这个节点是父节点的左孩子还是右孩子</span>
            <span class="token punctuation">{</span>
                prev<span class="token operator">-&gt;</span>left <span class="token operator">=</span>node<span class="token operator">-&gt;</span>left <span class="token punctuation">;</span><span class="token comment">// 进行左孩子的替换</span>
                node<span class="token operator">-&gt;</span>left <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
                <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                prev<span class="token operator">-&gt;</span>right <span class="token operator">=</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
                node<span class="token operator">-&gt;</span>left <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
                <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 	
            <span class="token punctuation">}</span>	

        <span class="token punctuation">}</span>


    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>left <span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>node<span class="token operator">-&gt;</span>right <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// 和同理</span>
    <span class="token punctuation">{</span><span class="token comment">//情况二：node只有右孩子</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>prev<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            root<span class="token operator">=</span>node<span class="token operator">-&gt;</span>right  <span class="token punctuation">;</span>
            node<span class="token operator">-&gt;</span>right <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
            node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        <span class="token keyword">else</span><span class="token punctuation">{</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>prev<span class="token operator">-&gt;</span>left <span class="token operator">==</span>node<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                prev<span class="token operator">-&gt;</span>left <span class="token operator">=</span>node<span class="token operator">-&gt;</span>right  <span class="token punctuation">;</span>
                node<span class="token operator">-&gt;</span>right  <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
                <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                prev<span class="token operator">-&gt;</span>right <span class="token operator">=</span>node<span class="token operator">-&gt;</span>right  <span class="token punctuation">;</span>
                node<span class="token operator">-&gt;</span>right  <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
                <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                node<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 	
            <span class="token punctuation">}</span>	

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">//情况三：node有两个孩子（左右孩子都有） </span>
        Node<span class="token operator">*</span> x<span class="token operator">=</span>node<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span><span class="token comment">// 由于用的是法1，所以我们需要找到左子树中最右边的节点</span>
        Node<span class="token operator">*</span> prex<span class="token operator">=</span>node<span class="token punctuation">;</span><span class="token comment">// prex是x的父亲 </span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token operator">-&gt;</span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">// 找到左子树中最靠右的节点</span>
        <span class="token punctuation">{</span>
            prex<span class="token operator">=</span>x<span class="token punctuation">;</span>
            x<span class="token operator">=</span>x<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span><span class="token comment">// 用x指向这个节点</span>
        <span class="token punctuation">}</span> 
        node<span class="token operator">-&gt;</span>key <span class="token operator">=</span>x<span class="token operator">-&gt;</span>key<span class="token punctuation">;</span> <span class="token comment">// 将要删除的节点值改为x的值</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>prex<span class="token operator">==</span>node<span class="token punctuation">)</span><span class="token comment">// 判断x节点是要删除的节点是第一种情况，还是第二种情况</span>
        <span class="token punctuation">{</span>
            node<span class="token operator">-&gt;</span>left <span class="token operator">=</span>x<span class="token operator">-&gt;</span>left <span class="token punctuation">;</span>
            <span class="token function">free</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
            x<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            prex<span class="token operator">-&gt;</span>right <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token function">free</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
            x<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>	
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br></div></div><h2 id="平衡二叉树-avl树"><a href="#平衡二叉树-avl树" class="header-anchor">#</a> 平衡二叉树（AVL树）</h2> <p>​		在AVL树中，任⼀节点对应的两棵子树的最大高度差为1，因此它也被称为高度平衡树。查找、插入和删除在平均和最坏情况下的时间复杂度都是 O(logn）。平衡二叉树的出现解决了左右子树差距过大而出现的搜索效率降低的问题。</p> <p><strong>二叉平衡树的定义</strong></p> <p>​		平衡⼆叉查找树：简称平衡⼆叉树。由前苏联的数学家 Adelse-Velskil 和 Landis 在 1962 年提出的高度平衡的⼆叉树，根据科学家的英文名也称为 AVL 树。它具有如下几个性质：</p> <ol><li>可以是空树。</li> <li>假如不是空树，任何⼀个节点的左子树与右子树都是平衡⼆叉树，并且高度之差的绝对值不超过 1。</li></ol> <p>用公式来表达就是<code>(左子树高度-右子树高度)的绝对值&lt;=1</code></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407240945044.png" alt="image-20240724094510865"></p> <p><strong>平衡因子</strong></p> <p>​		某节点的左子树与右子树的高度(深度)差即为该节点的平衡因子（BF,Balance Factor），平衡二叉树中不存在平衡因子大于 1 的节点。在⼀棵平衡⼆叉树中，节点的平衡因⼦只能取 0 、 1 或者 -1 ，分别对应着左右子树等高，左子树比较高，右子树比较高。</p> <h3 id="平衡二叉树的旋转"><a href="#平衡二叉树的旋转" class="header-anchor">#</a> 平衡二叉树的旋转</h3> <h4 id="左旋"><a href="#左旋" class="header-anchor">#</a> 左旋</h4> <p>​		左旋就是当有节点失衡时，将节点右旋。接着对孩子进行处理。口诀为冲突的左孩为右孩。画图展示</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407241027393.png" alt="image-20240724102734247"></p> <h4 id="右旋"><a href="#右旋" class="header-anchor">#</a> 右旋</h4> <p>​		右旋就是当有节点失衡时，将节点左旋。接着对孩子进行处理。口诀为冲突的右孩变左孩。画图展示</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407241035166.png" alt="image-20240724103553986"></p> <h3 id="平衡二叉树四种插入节点的方式"><a href="#平衡二叉树四种插入节点的方式" class="header-anchor">#</a> 平衡二叉树四种插入节点的方式</h3> <table><thead><tr><th>插入方式</th> <th>描述</th> <th>旋转方式</th></tr></thead> <tbody><tr><td>LL</td> <td>在A结点的左子树根结点的左子树上插入结点而破坏平衡</td> <td>右旋转</td></tr> <tr><td>RR</td> <td>在A结点的右子树根结点的右子树上插入结点而破坏平衡</td> <td>左旋转</td></tr> <tr><td>LR</td> <td>在A的左子树根结点的右子树上插入结点而破坏平衡</td> <td>先左旋再右旋</td></tr> <tr><td>RL</td> <td>在A的右子树根结点的左子树上插入结点而破坏平衡</td> <td>先右旋再左旋</td></tr></tbody></table> <p><strong>判断使用哪种插入方法</strong></p> <table><thead><tr><th>插入方式</th> <th>失衡节点</th> <th>失衡节点的左/右孩子</th></tr></thead> <tbody><tr><td>LL</td> <td>平衡因子 = 2</td> <td>左孩子平衡因子 = 1</td></tr> <tr><td>RR</td> <td>平衡因子 = -2</td> <td>右孩子平衡因子 = -1</td></tr> <tr><td>LR</td> <td>平衡因子 = 2</td> <td>左孩子平衡因子 = -1</td></tr> <tr><td>RL</td> <td>平衡因子 = -2</td> <td>右孩子平衡因子 = 1</td></tr></tbody></table> <p>判断的口诀：左正右负，正负不同</p> <p>LL和RR不再赘述，就是上面的左右旋转。接下来讨论一下LR与RL的旋转</p> <h4 id="lr"><a href="#lr" class="header-anchor">#</a> LR</h4> <p>​		先对自己的左孩子进行左旋，然后再对本身进行右旋</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407241233080.png" alt="image-20240724123316932"></p> <h4 id="rl"><a href="#rl" class="header-anchor">#</a> RL</h4> <p>​		先对自己的右孩子进行右旋，然后再对本身进行左旋</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407241232423.png" alt="image-20240724123237261"></p> <h3 id="平衡二叉树之属性结合"><a href="#平衡二叉树之属性结合" class="header-anchor">#</a> 平衡二叉树之属性结合</h3> <p><strong>属性结合</strong></p> <p>​		定义了两个宏，第一个宏是为了获取当前节点的高度，第二个宏是两个数谁较大。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">HEIGHT</span><span class="token expression"><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>avlnode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span>height <span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">MAX</span><span class="token expression"><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">node</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//存储结点的值</span>
    <span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token operator">*</span> left<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token operator">*</span> right<span class="token punctuation">;</span>
    <span class="token keyword">int</span> height<span class="token punctuation">;</span><span class="token comment">//当前结点的深度</span>
<span class="token punctuation">}</span>avlnode<span class="token punctuation">,</span> <span class="token operator">*</span> avltree<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="平衡二叉树之创造节点操作"><a href="#平衡二叉树之创造节点操作" class="header-anchor">#</a> 平衡二叉树之创造节点操作</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code>avlnode<span class="token operator">*</span> <span class="token function">creata_node</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> avlnode<span class="token operator">*</span> left<span class="token punctuation">,</span> avlnode<span class="token operator">*</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    avlnode<span class="token operator">*</span> node <span class="token operator">=</span> <span class="token punctuation">(</span>avlnode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>avlnode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//判断一下是否创建成功</span>
    node<span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
    node<span class="token operator">-&gt;</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>
    node<span class="token operator">-&gt;</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>
    node<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="平衡二叉树之插入操作"><a href="#平衡二叉树之插入操作" class="header-anchor">#</a> 平衡二叉树之插入操作</h3> <p><strong>插入操作的前置</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//获取长度</span>
<span class="token keyword">int</span> <span class="token function">get_height</span><span class="token punctuation">(</span>avlnode<span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">HEIGHT</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*左孩子的左子树（ LL的情况 ）*/</span>
avltree <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//传入的tree为子树根节点，同时也是失衡结点 </span>
    <span class="token comment">// k就是我最终需 同时作为最后的根节点</span>
    avlnode<span class="token operator">*</span> k <span class="token operator">=</span> tree<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
    tree<span class="token operator">-&gt;</span>left <span class="token operator">=</span> k<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span> <span class="token comment">// 冲突的右孩变左孩</span>
    k<span class="token operator">-&gt;</span>right <span class="token operator">=</span> tree<span class="token punctuation">;</span>
    <span class="token comment">//切记一点 所有旋转操作以后 需要调整树的高度 </span>
    <span class="token comment">//这里是深度 一颗子树的深度 从这个结点的左右子树来判断他的深度</span>
    tree<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    k<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> k<span class="token punctuation">;</span><span class="token comment">//此时k为根节点 </span>
<span class="token punctuation">}</span>
<span class="token comment">/*右孩子的右子树（ RR的情况 ）*/</span>
avltree <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//传入的tree为子树根节点，同时也是失衡结点 </span>
    avlnode<span class="token operator">*</span> k <span class="token operator">=</span> tree<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
    tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> k<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
    k<span class="token operator">-&gt;</span>left <span class="token operator">=</span> tree<span class="token punctuation">;</span>
    <span class="token comment">//切记一点 所有旋转操作以后 需要调整树的高度</span>
    <span class="token comment">//这里是深度 一颗子树的深度 从这个结点的左右子树来判断他的深度</span>
    tree<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    k<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> k<span class="token punctuation">;</span><span class="token comment">//此时k为根节点 </span>

<span class="token punctuation">}</span>
<span class="token comment">/*左孩子得右子树的调整（ LR的情况 ）*/</span>
avltree <span class="token function">left_right_rotation</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    tree<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将失衡节点的左孩子传入进行左旋</span>
    tree <span class="token operator">=</span> <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将失衡节点进行右旋</span>
    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*右孩子的左子树的情况（ RL的情况 ）*/</span>
avltree <span class="token function">right_left_rotation</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将失衡节点的右孩子传入进行右旋</span>
    tree <span class="token operator">=</span> <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将失衡节点进行左旋</span>
    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p><strong>插入操作</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>avltree <span class="token function">avltree_insertNode</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        avlnode<span class="token operator">*</span> node <span class="token operator">=</span> <span class="token function">creata_node</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tree <span class="token operator">=</span> node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token comment">//往tree的左子树插入 </span>
    <span class="token punctuation">{</span>
        <span class="token comment">//递归寻找插入结点的位置</span>
        tree<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token function">avltree_insertNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//在这里判断是LL还是LR</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> tree<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// LL旋转</span>
                tree <span class="token operator">=</span> <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                <span class="token comment">//LR旋转</span>
                tree <span class="token operator">=</span> <span class="token function">left_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&gt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span> <span class="token comment">//往tree的右子树插入 </span>
    <span class="token punctuation">{</span>
        tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">avltree_insertNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//RR</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&gt;</span> tree<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                tree <span class="token operator">=</span> <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                <span class="token comment">//RL</span>
                tree <span class="token operator">=</span> <span class="token function">right_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//报错，不允许插入相同的值</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 重新调整二叉树的深度（ 由于是遍历，所有会调整递归进来的所有节点 ）</span>
    tree<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h3 id="平衡二叉树之删除操作"><a href="#平衡二叉树之删除操作" class="header-anchor">#</a> 平衡二叉树之删除操作</h3> <p>​		删除平衡二叉树的节点分为两种情况，一种是删除的节点只有一个孩子，以及删除的节点右两个孩子。删除操作的过程中我们可以理解为，当我们删除一个左子树的节点导致失衡时，其实就是我们在右子树添加一个数导致的失衡，右子树同理。即删除导致的失衡 可以转化为在另一棵子树添加一个节点导致的失衡。</p> <p><strong>只有一个孩子</strong></p> <p>处理步骤：</p> <ol><li>将左子树（右子树）替代原有节点 C 的位置；</li> <li>节点 C 被删除后，则以 C 的父节点 B 为起始推算点，依此向上检索推算各节点（父、祖先）是否失
衡；</li> <li>如果其父节点未失衡，则继续向上检索推算其父节点 的父节点 是否失衡…如此反复 2 的判断，直到
根节点 ；如果向上推算过程中发现了失衡的现象，则进行4 的处理；</li> <li>如果其父节点失衡，则判断是哪种失衡类型 [LL、 LR、 RR、 RL] ，并对其进行相应的平衡化处理。如
果平衡化处理结束后，发现与原来以父节点为根节点的树的⾼度发⽣变化，则继续进行2 的检索推算；
如果与原来以父节点为根节点的高度⼀致时，则可说明父节点的父节点及祖先节点的平衡因⼦将不会有
变化，因此可以退出处理；</li></ol> <p><strong>两个孩子</strong></p> <p>处理步骤：</p> <ol><li>找到被删节点 B 和替代节点 BLR (节点 B 的前继节点或后继节点 —— 在此选择 前继)；</li> <li>将替代节点 BLR 的值赋给节点 B ，再把替代节点 BLR 的左孩子 BLRL 替换替代节点 BLR 的位置；</li> <li>以 BLR 的父节点 BL 为起始推算点，依此向上检索推算父节点或祖先节点是否失衡；</li> <li>如果其父节点未失衡，则继续向上检索推算其父节点的父节点是否失衡…如此反复3的判断，直到根
节点；如果向上推算过程中发现了失衡的现象，则进行5的处理；</li> <li>如果其父节点失衡，则判断是哪种失衡类型 [LL、 LR、 RR、 RL] ，并对其进行相应的平衡化处理。
如果平衡化处理结束后，发现与原来以父节点为根节点的树的高度发生变化，则继续进行 2 的检索推
算；如果与原来以父节点为根节点的⾼度⼀致时，则可说明父节点的父节点及祖先节点的平衡因⼦将不
会有变化，因此可以退出处理</li></ol> <p><strong>删除节点的前置</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*查找结点*/</span>
avlnode<span class="token operator">*</span> <span class="token function">search_node</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span><span class="token constant">NULL</span> <span class="token operator">||</span> tree<span class="token operator">-&gt;</span>data <span class="token operator">==</span> key<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> tree<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span> 
	<span class="token punctuation">{</span>
		<span class="token function">search_node</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token function">search_node</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

avlnode<span class="token operator">*</span> <span class="token function">maxinum_node</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		tree <span class="token operator">=</span> tree<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


avlnode<span class="token operator">*</span> <span class="token function">mininum_node</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		tree <span class="token operator">=</span> tree<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><p><strong>删除操作</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>avltree <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token comment">//要删除的是在左子树</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//先递归找要删除的结点</span>
        tree<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 在这下面的操作其实都是对父节点是否失衡进行判断</span>
        <span class="token comment">//删完以后 要检查平衡性</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//要如何判断RL,RR;</span>
            avlnode<span class="token operator">*</span> tmp<span class="token operator">=</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span><span class="token comment">//RL</span>
                tree <span class="token operator">=</span> <span class="token function">right_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span><span class="token comment">//RR</span>
                tree <span class="token operator">=</span> <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&gt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token comment">//要删除的在右子树</span>
    <span class="token punctuation">{</span>
        tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//删完以后 要检查平衡性</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//要如何判断LL,LR</span>
            avlnode<span class="token operator">*</span> tmp<span class="token operator">=</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span><span class="token comment">//LL</span>
                tree <span class="token operator">=</span> <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span><span class="token comment">//LR</span>
                tree <span class="token operator">=</span> <span class="token function">left_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token comment">//找到要删除的结点 先按照二叉排序树的方式进行删除</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left <span class="token operator">&amp;&amp;</span> tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token comment">// 这边使用的是法2进行删除，即用右子树的最小节点来代替删除节点</span>
        <span class="token punctuation">{</span>
            avlnode<span class="token operator">*</span> min_node <span class="token operator">=</span> <span class="token function">mininum_node</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
            tree<span class="token operator">-&gt;</span>data <span class="token operator">=</span> min_node<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
            <span class="token comment">//删除 最小值结点</span>
            tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> min_node<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token comment">// 这里是把无孩子和一个孩子合在一起写了 </span>
        <span class="token punctuation">{</span>
            <span class="token comment">//独子或者无子的情况结点</span>
            avlnode<span class="token operator">*</span> n<span class="token operator">=</span>tree<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                tree<span class="token operator">=</span>tree<span class="token operator">-&gt;</span>left <span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                tree<span class="token operator">=</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">free</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            n<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> tree<span class="token punctuation">;</span>	

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token comment">//调整高度</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        tree<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br></div></div><h3 id="二叉排序树之全部代码"><a href="#二叉排序树之全部代码" class="header-anchor">#</a> 二叉排序树之全部代码</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">HEIGHT</span><span class="token expression"><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>avlnode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span>height <span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">MAX</span><span class="token expression"><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">node</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//存储结点的值</span>
    <span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token operator">*</span> left<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token operator">*</span> right<span class="token punctuation">;</span>
    <span class="token keyword">int</span> height<span class="token punctuation">;</span><span class="token comment">//当前结点的深度</span>
<span class="token punctuation">}</span>avlnode<span class="token punctuation">,</span> <span class="token operator">*</span> avltree<span class="token punctuation">;</span>

avlnode<span class="token operator">*</span> <span class="token function">creata_node</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> avlnode<span class="token operator">*</span> left<span class="token punctuation">,</span> avlnode<span class="token operator">*</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    avlnode<span class="token operator">*</span> node <span class="token operator">=</span> <span class="token punctuation">(</span>avlnode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>avlnode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//判断一下是否创建成功</span>
    node<span class="token operator">-&gt;</span>data <span class="token operator">=</span> key<span class="token punctuation">;</span>
    node<span class="token operator">-&gt;</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>
    node<span class="token operator">-&gt;</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>
    node<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//获取长度</span>
<span class="token keyword">int</span> <span class="token function">get_height</span><span class="token punctuation">(</span>avlnode<span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">HEIGHT</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*左孩子的左子树*/</span>
avltree <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//传入的tree为子树根节点，同时也是失衡结点 </span>
    <span class="token comment">//k就是我最终需</span>
    avlnode<span class="token operator">*</span> k <span class="token operator">=</span> tree<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
    tree<span class="token operator">-&gt;</span>left <span class="token operator">=</span> k<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
    k<span class="token operator">-&gt;</span>right <span class="token operator">=</span> tree<span class="token punctuation">;</span>
    <span class="token comment">//切记一点 所有旋转操作以后 需要调整树的高度 </span>
    <span class="token comment">//这里是深度 一颗子树的深度 从这个结点的左右子树来判断他的深度</span>
    tree<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    k<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> k<span class="token punctuation">;</span><span class="token comment">//此时k为根节点 </span>
<span class="token punctuation">}</span>
<span class="token comment">/*右孩子的右子树*/</span>
avltree <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//传入的tree为子树根节点，同时也是失衡结点 </span>
    avlnode<span class="token operator">*</span> k <span class="token operator">=</span> tree<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
    tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> k<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
    k<span class="token operator">-&gt;</span>left <span class="token operator">=</span> tree<span class="token punctuation">;</span>
    <span class="token comment">//切记一点 所有旋转操作以后 需要调整树的高度</span>
    <span class="token comment">//这里是深度 一颗子树的深度 从这个结点的左右子树来判断他的深度</span>
    tree<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    k<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> k<span class="token punctuation">;</span><span class="token comment">//此时k为根节点 </span>

<span class="token punctuation">}</span>
<span class="token comment">/*左孩子得右子树的调整*/</span>
avltree <span class="token function">left_right_rotation</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    tree<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tree <span class="token operator">=</span> <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*右孩子的左子树的情况*/</span>
avltree <span class="token function">right_left_rotation</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tree <span class="token operator">=</span> <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


avltree <span class="token function">avltree_insertNode</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        avlnode<span class="token operator">*</span> node <span class="token operator">=</span> <span class="token function">creata_node</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tree <span class="token operator">=</span> node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token comment">//往tree的左子树插入 </span>
    <span class="token punctuation">{</span>
        <span class="token comment">//递归寻找插入结点的位置</span>
        tree<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token function">avltree_insertNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//在这里判断是LL还是LR</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> tree<span class="token operator">-&gt;</span>left<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                tree <span class="token operator">=</span> <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                <span class="token comment">//LR旋转</span>
                tree <span class="token operator">=</span> <span class="token function">left_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&gt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span> <span class="token comment">//往tree的右子树插入 </span>
    <span class="token punctuation">{</span>
        tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">avltree_insertNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//RR</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&gt;</span> tree<span class="token operator">-&gt;</span>right<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                tree <span class="token operator">=</span> <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                <span class="token comment">//RL</span>
                tree <span class="token operator">=</span> <span class="token function">right_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//报错，不允许插入相同的值</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//重新调整二叉树的深度</span>
    tree<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment">/*查找结点*/</span>
avlnode<span class="token operator">*</span> <span class="token function">search_node</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span><span class="token constant">NULL</span> <span class="token operator">||</span> tree<span class="token operator">-&gt;</span>data <span class="token operator">==</span> key<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token function">search_node</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token function">search_node</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

avlnode<span class="token operator">*</span> <span class="token function">maxinum_node</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        tree <span class="token operator">=</span> tree<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


avlnode<span class="token operator">*</span> <span class="token function">mininum_node</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        tree <span class="token operator">=</span> tree<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
avltree <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token comment">//要删除的是在左子树</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//先递归找要删除的结点</span>
        tree<span class="token operator">-&gt;</span>left <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//删完以后 要检查平衡性</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//要如何判断RL,RR;</span>
            avlnode<span class="token operator">*</span> tmp<span class="token operator">=</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span><span class="token comment">//RL</span>
                tree <span class="token operator">=</span> <span class="token function">right_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span><span class="token comment">//RR</span>
                tree <span class="token operator">=</span> <span class="token function">right_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&gt;</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token comment">//要删除的在右子树</span>
    <span class="token punctuation">{</span>
        tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//删完以后 要检查平衡性</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//要如何判断LL,LR</span>
            avlnode<span class="token operator">*</span> tmp<span class="token operator">=</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span><span class="token comment">//LL</span>
                tree <span class="token operator">=</span> <span class="token function">left_left_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span><span class="token comment">//LR</span>
                tree <span class="token operator">=</span> <span class="token function">left_right_rotation</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token comment">//找到要删除的结点 先按照二叉排序树的方式进行删除</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left <span class="token operator">&amp;&amp;</span> tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span> <span class="token comment">// 这边使用的是法2进行删除，即用右子树的最小节点来代替删除节点</span>
        <span class="token punctuation">{</span>
            avlnode<span class="token operator">*</span> min_node <span class="token operator">=</span> <span class="token function">mininum_node</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
            tree<span class="token operator">-&gt;</span>data <span class="token operator">=</span> min_node<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
            <span class="token comment">//删除 最小值结点</span>
            tree<span class="token operator">-&gt;</span>right <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> min_node<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token comment">// 这里是把无孩子和一个孩子合在一起写了 </span>
        <span class="token punctuation">{</span>
            <span class="token comment">//独子或者无子的情况结点</span>
            avlnode<span class="token operator">*</span> n<span class="token operator">=</span>tree<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                tree<span class="token operator">=</span>tree<span class="token operator">-&gt;</span>left <span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                tree<span class="token operator">=</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">free</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            n<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> tree<span class="token punctuation">;</span>	

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token comment">//调整高度</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        tree<span class="token operator">-&gt;</span>height <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">get_height</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token function">pre_order</span><span class="token punctuation">(</span>avltree tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//中序遍历输出 </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token function">pre_order</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d   &quot;</span><span class="token punctuation">,</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">pre_order</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    avltree tree <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//int length = sizeof(a) / sizeof(a[0]);</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">9</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        tree <span class="token operator">=</span> <span class="token function">avltree_insertNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">pre_order</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//	in_order(tree);</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tree <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tree <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tree <span class="token operator">=</span> <span class="token function">avltree_deleteNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">pre_order</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//in_order(tree);</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br></div></div><h2 id="并查集"><a href="#并查集" class="header-anchor">#</a> 并查集</h2> <p>​		并查集是⼀种非常精巧而实用的树形数据结构，他主要是处理⼀些不相交集合的合并和查询的问题。并查集的意思我们用现实生活中的班级列子来举例。比如有两个新生学生A和B，他们两者不认识，但是当他们报出自己的班级就能知道他们是不是同班同学。</p> <p><strong>并查集的操作</strong></p> <ol><li>建立一个新的并查集，所有的元素都是各自的集合</li> <li>根据要求进行建立集合，两者相交就将集合合并</li> <li>若想查看两个元素是否在同一个集合中就比较各自的祖先，就能确定两个是否在同一个集合中。</li></ol> <h3 id="并查集的初始化"><a href="#并查集的初始化" class="header-anchor">#</a> 并查集的初始化</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token comment">//建立起了n个单元数集合 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="并查集的查找"><a href="#并查集的查找" class="header-anchor">#</a> 并查集的查找</h3> <p>​		并查集的查找和建立关系有关。查找的方式决定了时间复杂度。如果我们用线性的方式来查找那时间复杂度为O(n)，但是如果我们使用树形来存储时间复杂能降低到O(1)。画图演示</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407251316318.png" alt="image-20240725131600207"></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//查找祖先  </span>
<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//非递归</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">!=</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        x<span class="token operator">=</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token comment">//查找祖先 O(n) </span>
<span class="token keyword">int</span> <span class="token function">find1</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//递归</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">!=</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">find1</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//优化 路径压缩 --O(1)</span>
<span class="token keyword">int</span> <span class="token function">find2</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//递归</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">!=</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">find2</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="并查集的合并"><a href="#并查集的合并" class="header-anchor">#</a> 并查集的合并</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//建立x y的关系--通过合并两者所在的集合 </span>
<span class="token keyword">void</span> <span class="token function">unionn</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> ax<span class="token operator">=</span><span class="token function">find2</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ay<span class="token operator">=</span><span class="token function">find2</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>

    f<span class="token punctuation">[</span>ay<span class="token punctuation">]</span><span class="token operator">=</span>ax<span class="token punctuation">;</span><span class="token comment">//合并	</span>

    <span class="token comment">//f[find2(x)]=find2(y); </span>


<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="并查集的总代码"><a href="#并查集的总代码" class="header-anchor">#</a> 并查集的总代码</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token comment">/*1 2 3 4 5 6 
关系：  （4.3） （3 2） （ 2 1） 
查询： （4.1） （4.6）； 
-
 */</span>  

<span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token comment">//建立起了n个单元数集合 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span>
<span class="token comment">//查找祖先  </span>
<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//非递归</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">!=</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        x<span class="token operator">=</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token comment">//查找祖先 O(n) </span>
<span class="token keyword">int</span> <span class="token function">find1</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//递归</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">!=</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">find1</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//优化 路径压缩 --O(1)</span>
<span class="token keyword">int</span> <span class="token function">find2</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//递归</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">!=</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">find2</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//建立x y的关系--通过合并两者所在的集合 </span>
<span class="token keyword">void</span> <span class="token function">unionn</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> ax<span class="token operator">=</span><span class="token function">find2</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ay<span class="token operator">=</span><span class="token function">find2</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>

    f<span class="token punctuation">[</span>ay<span class="token punctuation">]</span><span class="token operator">=</span>ax<span class="token punctuation">;</span><span class="token comment">//合并	</span>

    <span class="token comment">//f[find2(x)]=find2(y); </span>


<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> m<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//有m对关系</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">unionn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//建立起关系； </span>

    <span class="token punctuation">}</span> 
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//有m个查询</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> ax<span class="token operator">=</span><span class="token function">find2</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> ay<span class="token operator">=</span><span class="token function">find2</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ax<span class="token operator">==</span>ay<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;YES\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//x和y有关系 </span>
        <span class="token punctuation">}</span> 
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;No\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//x和没有关系 </span>
        <span class="token punctuation">}</span> 

    <span class="token punctuation">}</span> 	
<span class="token punctuation">}</span> 


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br></div></div><h2 id="哈夫曼树"><a href="#哈夫曼树" class="header-anchor">#</a> 哈夫曼树</h2> <p>在学习哈夫曼树前要先理解四个概念</p> <p><strong>节点的路径长度</strong>：从根结点到该节点的路径上的连接数。</p> <p><strong>树的路径长度</strong>：就是树的每个叶子节点的路径长度之和。</p> <p><strong>节点的带权路径长度</strong>：节点的路径长度与节点权值的乘积。</p> <p><strong>树的带权路径长度 WPL</strong>：就是树的所有叶子节点的带权路径长度之和。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407251404678.png" alt="image-20240725140425558"></p> <p><strong>哈夫曼树的拼接过程</strong></p> <p>​		简单来说就是从一片森林中重复的选择根节点最小的两棵树进行拼接。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407251438361.png" alt="image-20240725143814261"></p> <h3 id="哈夫曼编码"><a href="#哈夫曼编码" class="header-anchor">#</a> 哈夫曼编码</h3> <p>​		哈夫曼编码是哈夫曼树的主要应用场景。在平时生活中基本分为两个编码方式，一种为定长编码如<code>ASCII</code>编码、 <code>Unicode</code>编码等，还有一种是变长编码。哈夫曼编码就是一种变长编码。变长编码的出现解决了定长编码空间浪费的缺点。但是由于是变长编码，所以要保证编码的前缀码不重合，<strong>哈夫曼编码的前缀码就是不重合的</strong>。</p> <p><strong>哈夫曼编码的过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407251455118.png" alt="image-20240725145545968"></p> <p><strong>属性集合</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 用数组模拟树，标记清楚每个结点孩子及双亲结点的下标 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> weight<span class="token punctuation">;</span><span class="token comment">// 权值				</span>
    <span class="token keyword">int</span> lChild<span class="token punctuation">,</span> rChild<span class="token punctuation">;</span>		
    <span class="token keyword">int</span> parent<span class="token punctuation">;</span>				
<span class="token punctuation">}</span>HuffmanNode<span class="token punctuation">,</span> <span class="token operator">*</span>HuffmanTree<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">char</span> <span class="token operator">*</span>HuffmanCode<span class="token punctuation">;</span><span class="token comment">// 编码：0/1字符表示</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="哈夫曼编码树之创立哈夫曼树"><a href="#哈夫曼编码树之创立哈夫曼树" class="header-anchor">#</a> 哈夫曼编码树之创立哈夫曼树</h3> <p><strong>挑选出哈夫曼树中的最小节点</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">selectNode</span><span class="token punctuation">(</span>HuffmanTree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>s1<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>

    <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//找两个根节点 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token comment">//先找没双亲结点的那个</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            min <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//遍历全部的结点</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//先找最小的根节点 </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">&lt;</span> tree<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                min <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token operator">*</span>s1 <span class="token operator">=</span>  min<span class="token punctuation">;</span><span class="token comment">// 和下面那个s2相同，由于传进来的是实参，所以能对实际值进行更改</span>
    <span class="token comment">//找第二小的根节点 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> <span class="token operator">*</span>s1<span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>	
            min <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> <span class="token operator">*</span>s1<span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">&lt;</span> tree<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                min <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token operator">*</span>s2 <span class="token operator">=</span> min<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p><strong>创立哈夫曼树</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>HuffmanTree <span class="token function">createHuffmanTree</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>w<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    HuffmanTree tree<span class="token punctuation">;</span>
    <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// 这样赋值的原因是由于哈夫曼树的叶子节点是n，所有节点就为2n-1</span>
    <span class="token comment">//叶子结点n个，木有度为1的结点，度为2的结点n-1(规律：n0=n2+1) </span>
    tree <span class="token operator">=</span> <span class="token punctuation">(</span>HuffmanTree<span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HuffmanNode<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//下标0位置不用，多开一个内存 </span>
    <span class="token comment">//初始化树中结点 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lChild <span class="token operator">=</span> tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rChild <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> w<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//权值 </span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> s1<span class="token punctuation">,</span> s2<span class="token punctuation">;</span>
    <span class="token comment">//建树 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token function">selectNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>s1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指针传递 找最小的两个根节点，则第i个结点是他俩的父亲 </span>
        tree<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> tree<span class="token punctuation">[</span>s2<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> i<span class="token punctuation">;</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lChild <span class="token operator">=</span> s1<span class="token punctuation">;</span>	
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rChild <span class="token operator">=</span> s2<span class="token punctuation">;</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> tree<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">+</span> tree<span class="token punctuation">[</span>s2<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="哈夫曼编码树之求每个字母的编码"><a href="#哈夫曼编码树之求每个字母的编码" class="header-anchor">#</a> 哈夫曼编码树之求每个字母的编码</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//以树为基础构建编码 从叶子结点到根节点 逆向求每个叶子的编码</span>
HuffmanCode <span class="token operator">*</span><span class="token function">createHuffmanCode</span><span class="token punctuation">(</span>HuffmanTree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token comment">//具体的编码的工作空间--把编码放temp数组中 </span>
    <span class="token keyword">char</span> <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一维数组 </span>
    <span class="token comment">//分配 n个编码的头指针</span>
    HuffmanCode <span class="token operator">*</span>codes <span class="token operator">=</span> <span class="token punctuation">(</span>HuffmanCode <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HuffmanCode<span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//此时codes为一维数组 </span>

    <span class="token function">memset</span><span class="token punctuation">(</span>codes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>HuffmanCode<span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//编码空间的起始位置</span>
    <span class="token keyword">int</span> start<span class="token punctuation">;</span>							
    <span class="token keyword">int</span> p<span class="token punctuation">;</span>								
    <span class="token keyword">int</span> pos<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>		
        start <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//因为最多就是一条链，编码长度为n（下标0____n-1） </span>

        temp<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span><span class="token comment">//字符串的结束符 \0，右往左逐位存放编码 首先就先放结束符</span>

        pos <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token comment">//i结点 </span>

        p <span class="token operator">=</span> tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token punctuation">;</span><span class="token comment">//i结点的双亲结点 </span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token operator">--</span>start<span class="token punctuation">;</span>
            temp<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>lChild <span class="token operator">==</span> pos<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token char">'0'</span> <span class="token operator">:</span> <span class="token char">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pos <span class="token operator">=</span> p<span class="token punctuation">;</span>
            p <span class="token operator">=</span> tree<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        codes<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>HuffmanCode<span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//(n - start)编码长度 </span>

        <span class="token function">strcpy</span><span class="token punctuation">(</span>codes<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>temp<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//此时codes为二维数组 </span>
    <span class="token punctuation">}</span>
    <span class="token function">free</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> codes<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="哈夫曼树的总代码"><a href="#哈夫曼树的总代码" class="header-anchor">#</a> 哈夫曼树的总代码</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token comment">//用数组模拟树，标记清楚每个结点孩子及双亲结点的下标 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> weight<span class="token punctuation">;</span><span class="token comment">//权值				</span>
    <span class="token keyword">int</span> lChild<span class="token punctuation">,</span> rChild<span class="token punctuation">;</span>		
    <span class="token keyword">int</span> parent<span class="token punctuation">;</span>				
<span class="token punctuation">}</span>HuffmanNode<span class="token punctuation">,</span> <span class="token operator">*</span>HuffmanTree<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">char</span> <span class="token operator">*</span>HuffmanCode<span class="token punctuation">;</span><span class="token comment">//编码：0/1字符表示</span>

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">selectNode</span><span class="token punctuation">(</span>HuffmanTree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>s1<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>

    <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//找两个根节点 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token comment">//先找没双亲结点的那个</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            min <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//遍历全部的结点</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//先找最小的根节点 </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">&lt;</span> tree<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                min <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token operator">*</span>s1 <span class="token operator">=</span>  min<span class="token punctuation">;</span>
    <span class="token comment">//找第二小的根节点 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> <span class="token operator">*</span>s1<span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>	
            min <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> <span class="token operator">*</span>s1<span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">&lt;</span> tree<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                min <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token operator">*</span>s2 <span class="token operator">=</span> min<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

HuffmanTree <span class="token function">createHuffmanTree</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>w<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    HuffmanTree tree<span class="token punctuation">;</span>
    <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">//叶子结点n个，木有度为1的结点，度为2的结点n-1(规律：n0=n2+1) </span>
    tree <span class="token operator">=</span> <span class="token punctuation">(</span>HuffmanTree<span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HuffmanNode<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//下标0位置不用，多开一个内存 </span>
    <span class="token comment">//初始化树中结点 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lChild <span class="token operator">=</span> tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rChild <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> w<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//权值 </span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> s1<span class="token punctuation">,</span> s2<span class="token punctuation">;</span>
    <span class="token comment">//建树 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token function">selectNode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>s1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指针传递 找最小的两个根节点，则第i个结点是他俩的父亲 </span>
        tree<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> tree<span class="token punctuation">[</span>s2<span class="token punctuation">]</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> i<span class="token punctuation">;</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lChild <span class="token operator">=</span> s1<span class="token punctuation">;</span>	
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rChild <span class="token operator">=</span> s2<span class="token punctuation">;</span>
        tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> tree<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">+</span> tree<span class="token punctuation">[</span>s2<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tree<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//以树为基础构建编码 从叶子结点到根节点 逆向求每个叶子的编码</span>
HuffmanCode <span class="token operator">*</span><span class="token function">createHuffmanCode</span><span class="token punctuation">(</span>HuffmanTree tree<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token comment">//具体的编码的工作空间--把编码放temp数组中 </span>
    <span class="token keyword">char</span> <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一维数组 </span>
    <span class="token comment">//分配 n个编码的头指针</span>
    HuffmanCode <span class="token operator">*</span>codes <span class="token operator">=</span> <span class="token punctuation">(</span>HuffmanCode <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HuffmanCode<span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//此时codes为一维数组 </span>

    <span class="token function">memset</span><span class="token punctuation">(</span>codes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>HuffmanCode<span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//编码空间的起始位置</span>
    <span class="token keyword">int</span> start<span class="token punctuation">;</span>							
    <span class="token keyword">int</span> p<span class="token punctuation">;</span>								
    <span class="token keyword">int</span> pos<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>		
        start <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//因为最多就是一条链，编码长度为n（下标0____n-1） </span>

        temp<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span><span class="token comment">//字符串的结束符 \0，右往左逐位存放编码 首先就先放结束符</span>

        pos <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token comment">//i结点 </span>

        p <span class="token operator">=</span> tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token punctuation">;</span><span class="token comment">//i结点的双亲结点 </span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token operator">--</span>start<span class="token punctuation">;</span>
            temp<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>lChild <span class="token operator">==</span> pos<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token char">'0'</span> <span class="token operator">:</span> <span class="token char">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pos <span class="token operator">=</span> p<span class="token punctuation">;</span>
            p <span class="token operator">=</span> tree<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        codes<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>HuffmanCode<span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//(n - start)编码长度 </span>

        <span class="token function">strcpy</span><span class="token punctuation">(</span>codes<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>temp<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//此时codes为二维数组 </span>
    <span class="token punctuation">}</span>
    <span class="token function">free</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> codes<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> w<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> show<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token char">'C'</span><span class="token punctuation">,</span> <span class="token char">'D'</span><span class="token punctuation">,</span><span class="token char">'E'</span><span class="token punctuation">,</span> <span class="token char">'F'</span><span class="token punctuation">,</span> <span class="token char">'G'</span><span class="token punctuation">,</span> <span class="token char">'H'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    HuffmanTree tree <span class="token operator">=</span> <span class="token function">createHuffmanTree</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    HuffmanCode <span class="token operator">*</span>code <span class="token operator">=</span> <span class="token function">createHuffmanCode</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c: %s\n&quot;</span><span class="token punctuation">,</span> show<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> code<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br></div></div><h1 id="图"><a href="#图" class="header-anchor">#</a> 图</h1> <p>​		图G是由两个集合V和E组成，记为G = （V， E），其中V是顶点的有限非空集合， E是V中顶点偶对的有限集，这些顶点偶对称之为边（弧）。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261229708.png" alt="image-20240726122948577"></p> <h2 id="图的相关概念"><a href="#图的相关概念" class="header-anchor">#</a> 图的相关概念</h2> <p><strong>简单图</strong>：在图结构中，若不存在顶点到其自身的边，且同⼀条边步重复出现，则称这样的图为简单图。</p> <p><strong>无向图</strong>：在图G中，如果代表边的顶点偶对是无序的，则称G为无向图。</p> <p><strong>有向图</strong>：在图G中，如果表示边的顶点偶对是有序的，则称G为有向图。⼀个图要么为无向图，要么为有向
图。不存在部分有向或者部分无向的情况。  、</p> <p><strong>完全图</strong>：如果图中的每两个顶点之间，都存在⼀条边，我们就称这个图为完全图。</p> <p><strong>完全有向图</strong>：有<code>n(n-1)</code>条边</p> <p><strong>完全无向图</strong>：有<code>n(n-1)/2</code>条边</p> <p><strong>端点和邻接点</strong></p> <ul><li>在⼀个无向图中，若存在⼀条边<code>（i， j）</code>，则称顶点i和顶点j为该边的两个端点。并称它们互为邻接点。</li> <li>在⼀个有向图中，若存在⼀条边<code>&lt;i， j&gt;</code>，则称顶点i和顶点j为该边的两个端点。它们互为邻接点。此时，顶点i为起点。顶点j为终点。</li></ul> <p><strong>顶点的度、入度和出度</strong></p> <ul><li>在无向图中，顶点所具有的边的数目称为该顶点的度。</li> <li>在有向图中，顶点<code>v</code>的度就分为入度和出度，以顶点v为终点的入边的数目。称为该顶点的入度。以顶点v为起点的出边的数目，称为该顶点的出度。⼀个顶点的入度和出度的和称为该顶点的度。在⼀个具有<code>e</code>条边的图中：度之和为<code>2e</code>。</li></ul> <p><strong>子图</strong>：设有两个图<code>G = （V， E）</code>和<code>G‘ = （V’， E'）</code>，若<code>V‘</code>是<code>V</code>的子集。则称<code>G’</code>是<code>G</code>的子图。</p> <p><strong>路径和路径长度</strong>：</p> <p>​		在⼀个图<code>G=(V, E)</code>中，从顶点<code>i</code>到顶点<code>j</code>的一路径是一个顶点序列<code>(i, i1, i2, ..., im, j)</code>，若此图<code>G</code>是无向图，则边<code>(i, i1), (i1, i2), ...(im, j)</code> 属于<code>E(G)</code>；若此图是有向图，则<code>&lt;i, i1&gt;, &lt;i1, i2&gt;, ...&lt;im, j&gt;</code> 属于<code>E(G)</code>。路径长度是指⼀条路径上经过的边的数目。若⼀条路径上除开始点和结束点可以相同外，其余顶点均不相同，则称此路径为简单路径。</p> <p><strong>回路或环</strong></p> <p>​		如果一条路径上的开始点与结束点为同一个顶点，则称此路为回路或者为环。开始点和结束点相同的简单路径被称为简单回路或者简单环。如果经过图中各边一次且恰好⼀次的环路，称之为欧拉环路，也就是其长度恰好等于图中边的总数， <code>{ C， A， B， A， D， C， D， B， C}</code>就是⼀条欧拉环路。如果是经过图中的各顶点⼀次且恰好⼀次的环路，称作哈密尔顿环路，其⻓度等于构成环路的边数。 <code>{ C, A，D B C}</code>就是⼀条哈密尔顿环路。</p> <p><strong>连通、连通图和连通分量</strong></p> <p>​		在无向图G中，若从顶点i到顶点<code>j</code>有路径，则称这两个顶点时连通的。如果图<code>G</code>中任意两个顶点都连通，则称<code>G</code>为连通图，否则称为非连通图。无向图<code>G</code>中的极大连通子图称为<code>G</code>的连通分量。对于连通图只有⼀个极大连通子图，就是它本身（是唯⼀的）。非连通图有多个极大连通子图。（非连通图的极大连通子图叫做连通分量，每个分量都是⼀个连通图）。之所以称为极大是因为如果此时加入一个不在图的点集中的点都会导致它不再连通。</p> <p>​		至于极小连通⼦图，首先只有连通图才有极小连通子图这个概念。就像⼀个四边形，四个节点四条边，其实三条边就能连通了，所以四个节点三条边，就OK了，就是在能连通的前提下，把多余的边去掉。</p> <p><strong>强连通图和强连通分量</strong></p> <p>​		在有向图<code>G</code>中，若从顶点<code>i</code>到顶点<code>j</code>有路径，则称从顶点<code>i</code>到顶点<code>j</code>是连通的。若图<code>G</code>中的任意两个顶点<code>i</code>和顶点<code>j</code>都连通，即从顶点<code>i</code>到顶点<code>j</code>和从顶点j到顶点<code>i</code>都存在路径，则称图<code>G</code>是强连通图。有向图<code>G</code>中的极大强连通子图称为<code>G</code>的强连通分量。显然，强连通图只有⼀个强连通分量，即自身，非强连通图有多个强连通分量。</p> <p><strong>稠密图、稀疏图</strong></p> <ul><li>当⼀个图接近完全图的时候，称之为疏密图；相反，当⼀个图含有较少的边数，则称之为稀疏图。</li> <li>⼀般对于这个边的个数，说法比较多，通常认为边小于<code>nlogn</code>（<code>n</code>是顶点的个数）的图称之为稀疏图，反之称为稠密图。</li></ul> <p><strong>权和网</strong></p> <p>​		图中的每⼀条边都可以附有⼀个对应的数，这种与边相关的数称为权。权可以表示从⼀个顶点到另⼀个顶点的距离或者花费的代价。边上带有权的图称为带权图，也称之为网。</p> <p><strong>连通图的生成树</strong></p> <p>所谓连通图的生成树是⼀个极小的连通⼦图，它含有图中全部的<code>n</code>个结点，但是只有构成树的<code>n-1</code>条边。</p> <h2 id="图的存储"><a href="#图的存储" class="header-anchor">#</a> 图的存储</h2> <p>图在内存中存储方式有很多种，最经典的包括邻接矩阵、邻接表、逆邻接表和十字链表。</p> <h3 id="邻接矩阵"><a href="#邻接矩阵" class="header-anchor">#</a> 邻接矩阵</h3> <p>​		图的邻接矩阵是用两个数组来表示，一个一位数组存储图中的顶点信息，一个二维数组（我们将这个数组称之为邻接矩阵）存储图中的边的信息。</p> <p><strong>无向图邻接矩阵</strong></p> <p>​		我们可以设置两个数组，顶点数组为<code>vertex[4]={V0,V1,V2,V3}</code>，边数组<code>arc[4] [4]</code>为对称矩阵(<code>0</code>表示不存在顶点间的边， <code>1</code>表示顶点间存在边)。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261339488.png" alt="image-20240726133910371"></p> <p><strong>对称矩阵</strong></p> <p>​		所谓对称矩阵就是<code>n</code>阶矩阵的元素满足<code>a[i] [j]=a[j] [i] (0&lt;=i,j&lt;=n)</code>。即从矩阵的左上⻆到右下⻆的主对角线为轴，右上角的元与左下角相对应的元全都是相等的。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261341652.png" alt="image-20240726134109552"></p> <p>有了这个⼆维数组组成的对称矩阵，我们就可以很容易地知道图中的信息：</p> <ul><li>判定任意两顶点是否有边无边；</li> <li>可以轻松知道某个顶点的度，其实就是这个顶点Vi在邻接矩阵中第<code>i</code>行(或第<code>i</code>列)的元素之和；</li> <li>求顶点<code>Vi</code>的所有邻接点就是将矩阵中第<code>i</code>行元素扫描⼀遍， <code>arc[i] [j]</code>为<code>1</code>就是邻接点。</li></ul> <p><strong>有向图邻接矩阵</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261343146.png" alt="image-20240726134329023"></p> <p>​		可见顶点数组<code>vertex[4]={V0,V1,V2,V3}</code>，弧数组<code>arc[4] [4]</code>也是⼀个矩阵，但因为是有向图，所以这个矩阵并不对称，例如由<code>V0</code>到<code>V3</code>有弧，得到<code>arc[0] [3]=1</code>，而<code>V3</code>到<code>V0</code>没有弧，因此<code>arc[3] [0]=0</code>。</p> <p>​		另外有向图是有讲究的，要考虑入度和出度，顶点<code>V1</code>的入度为<code>1</code>，正好是第<code>V1</code>列的各数之和，顶点<code>V1</code>的出度为<code>2</code>，正好是第<code>V1</code>行的各数之和。</p> <p><strong>带权图的邻接矩阵</strong></p> <p>​		带权图中的每⼀条边上带有权值，邻接矩阵中的值则为权值，当两个顶点之间没有弧时，则用无穷大表示。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261347850.png" alt="image-20240726134706742"></p> <p>这⾥<code>“∞”</code>表示⼀个计算机允许的、大于所有边上权值的值。</p> <p>​		这个时候我们会发现⼀个问题，就是空间浪费问题。尤其是面对边数相对比较少的稀疏图来说，这种结构无疑是存在对存储空间的极大浪费。</p> <p>​		因此我们可以考虑另外⼀种存储结构方式，例如把数组与链表结合在⼀起来存储，这种方式在图结构也适用，我们称为邻接表(Adjacency List)。</p> <p><strong>邻接矩阵代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//一个数组代表顶点集合</span>
<span class="token comment">//一个二维数组来代表边集</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MaxVertices</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MaxWeight</span> <span class="token expression"><span class="token number">32767</span> </span><span class="token comment">//带权图 点不邻接的时候 无穷大（16位int范围-32768~+32767） </span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> Vertices<span class="token punctuation">[</span>MaxVertices<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//顶点的数组信息</span>
    <span class="token keyword">int</span> Edge<span class="token punctuation">[</span>MaxVertices<span class="token punctuation">]</span><span class="token punctuation">[</span>MaxVertices<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//边的信息</span>
    <span class="token keyword">int</span> numV<span class="token punctuation">;</span><span class="token comment">//顶点的个数</span>
    <span class="token keyword">int</span> numE<span class="token punctuation">;</span><span class="token comment">//边的个数</span>
<span class="token punctuation">}</span>AdjMatrix<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">CreateGraph</span><span class="token punctuation">(</span>AdjMatrix<span class="token operator">*</span> G<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span> e<span class="token punctuation">;</span>
    <span class="token keyword">int</span> vi<span class="token punctuation">,</span> vj<span class="token punctuation">,</span> w<span class="token punctuation">;</span>
    <span class="token comment">//先输入图的顶点的个数和边的个数</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d,%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    G<span class="token operator">-&gt;</span>numV <span class="token operator">=</span> n<span class="token punctuation">;</span> G<span class="token operator">-&gt;</span>numE <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 将图继续初始化（ 有边连接填入0，无边连接填入1 ）</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> j<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                G<span class="token operator">-&gt;</span>Edge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                G<span class="token operator">-&gt;</span>Edge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> MaxWeight<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//把顶点放到数组当中</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numV<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//开始输入顶点的信息</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>Vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//输入边的信息</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//输入边的信息 邻接点的两端 如果是带权图 输入边的权值</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d%d%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>vi<span class="token punctuation">,</span> <span class="token operator">&amp;</span>vj<span class="token punctuation">,</span> <span class="token operator">&amp;</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//还要在查找 找到对应的下标</span>
        G<span class="token operator">-&gt;</span>Edge<span class="token punctuation">[</span>vi<span class="token punctuation">]</span><span class="token punctuation">[</span>vj<span class="token punctuation">]</span> <span class="token operator">=</span> w<span class="token punctuation">;</span>
        <span class="token comment">//如果是无向图 是个对称矩阵</span>
        G<span class="token operator">-&gt;</span>Edge<span class="token punctuation">[</span>vj<span class="token punctuation">]</span><span class="token punctuation">[</span>vi<span class="token punctuation">]</span> <span class="token operator">=</span> w<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h3 id="邻接表"><a href="#邻接表" class="header-anchor">#</a> 邻接表</h3> <p>邻接表的处理方法是这样：</p> <ul><li>图中顶点用一个一维数组存储，当然，顶点也可以用单链表来存储，不过数组可以较容易地读取顶点信息，更加方便。</li> <li>图中每个顶点<code>Vi</code>的所有邻接点构成⼀个线性表，由于邻接点的个数不确定，所以我们选择用单链表来存储。</li></ul> <p><strong>无向邻接表</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261357668.png" alt="image-20240726135712562"></p> <p><strong>有向邻接表</strong></p> <p>​		若是有向图，邻接表结构也是类似的，我们先来看下把顶点当弧尾建立的邻接表，这样很容易就可以得到每个顶点的出度：</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261358729.png" alt="image-20240726135809621"></p> <p>但也有时为了便于确定顶点的入度或以顶点为弧头的弧，我们可以建立⼀个有向图的逆邻接表：</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261358373.png" alt="image-20240726135837271"></p> <p><strong>带权网络的邻接表</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261359493.png" alt="image-20240726135953389"></p> <p><strong>邻接表的代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token comment">//邻接表</span>
<span class="token comment">//边表结点</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">EdgeNode</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> adjvex<span class="token punctuation">;</span><span class="token comment">//邻接的结点</span>
    <span class="token keyword">struct</span> <span class="token class-name">EdgeNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
    <span class="token keyword">int</span> weight<span class="token punctuation">;</span><span class="token comment">//如果是个带权图 要有权值</span>
<span class="token punctuation">}</span>EdgeNode<span class="token punctuation">;</span>
<span class="token comment">//z顶点信息</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">VertexNode</span>
<span class="token punctuation">{</span>
    <span class="token keyword">char</span> data<span class="token punctuation">;</span><span class="token comment">//基本的数据 顶点域存放顶点信息</span>
    <span class="token keyword">struct</span> <span class="token class-name">EdgeNode</span><span class="token operator">*</span> firstedge<span class="token punctuation">;</span>
<span class="token punctuation">}</span>VertexNode<span class="token punctuation">;</span>
<span class="token comment">//邻接表的结构</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">GraphadjList</span>
<span class="token punctuation">{</span>
    VertexNode adjList<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//顶点表的结点数组</span>
    <span class="token keyword">int</span> numV<span class="token punctuation">,</span> numE<span class="token punctuation">;</span><span class="token comment">//顶点个数和边的个数</span>
<span class="token punctuation">}</span>GraphadjList<span class="token punctuation">;</span>
<span class="token comment">//无向图的邻接表的创建</span>
<span class="token keyword">void</span> <span class="token function">CreatALGraph</span><span class="token punctuation">(</span>GraphadjList<span class="token operator">*</span> G<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> vi<span class="token punctuation">,</span> vj<span class="token punctuation">;</span>
    EdgeNode<span class="token operator">*</span> e<span class="token punctuation">;</span>
    <span class="token comment">//先输入顶点信息和边的信息</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>numV<span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>numE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//初始化结点信息</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numV<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 先将顶点存入到表中</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstedge <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//建立边表</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">// 进行连接</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//输入每条边邻接的两个顶点</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>vi<span class="token punctuation">,</span> <span class="token operator">&amp;</span>vj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//如果输入的是真实的数据 还是要去找下标</span>
        e <span class="token operator">=</span> <span class="token punctuation">(</span>EdgeNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>EdgeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>adjvex <span class="token operator">=</span> vj<span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>next <span class="token operator">=</span> G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>vi<span class="token punctuation">]</span><span class="token punctuation">.</span>firstedge<span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>vi<span class="token punctuation">]</span><span class="token punctuation">.</span>firstedge <span class="token operator">=</span> e<span class="token punctuation">;</span>
		
        <span class="token comment">// 无向图需要以下操作，因为要反向的连接</span>
        e <span class="token operator">=</span> <span class="token punctuation">(</span>EdgeNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>EdgeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>adjvex <span class="token operator">=</span> vi<span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>next <span class="token operator">=</span> G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>vj<span class="token punctuation">]</span><span class="token punctuation">.</span>firstedge<span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>vj<span class="token punctuation">]</span><span class="token punctuation">.</span>firstedge <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h3 id="十字链表"><a href="#十字链表" class="header-anchor">#</a> 十字链表</h3> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261400781.png" alt="image-20240726140057654"></p> <p><strong>十字链表表示</strong></p> <p>顶点集：</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261402961.png" alt="image-20240726140203862"></p> <p>边集：</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261402954.png" alt="image-20240726140214867"></p> <p>​		其中的<code>tailVex</code>表示该弧的弧尾顶点在顶点数组中的位置， <code>headVex</code>表示该弧的弧头顶点在顶点数组中的位置。 <code>headLink</code>则表示指向弧头相同的下⼀条弧， <code>teadLink</code>则表示指向弧尾相同的下⼀条弧。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261405898.png" alt="image-20240726140548786"></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token comment">//边集的数据</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArcBox</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> tailvex<span class="token punctuation">,</span> headvex<span class="token punctuation">;</span><span class="token comment">//弧尾、弧头所在的位置</span>
    <span class="token keyword">struct</span> <span class="token class-name">ArcBox</span><span class="token operator">*</span> hlink<span class="token punctuation">,</span> tlink<span class="token punctuation">;</span><span class="token comment">//弧尾相同、弧头相同的下一个弧</span>
    <span class="token keyword">int</span> weight<span class="token punctuation">;</span>
<span class="token punctuation">}</span>ArcBox<span class="token punctuation">;</span>
<span class="token comment">//顶点的数据</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">VexNode</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token comment">//真实的数据</span>
    ArcBox<span class="token operator">*</span> firstin<span class="token punctuation">,</span> <span class="token operator">*</span> firstout<span class="token punctuation">;</span><span class="token comment">//出度指针 入度指针</span>
<span class="token punctuation">}</span>VexNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    VexNode xlist<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> numV<span class="token punctuation">,</span> numE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>OLGraph<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">CreateDG</span><span class="token punctuation">(</span>OLGraph<span class="token operator">*</span> G<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//输入顶点数和边数</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>numV<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>numE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numV<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>xlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>xlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstin <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>xlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstout <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//构建十字链表</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span> v1<span class="token punctuation">,</span> v2<span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查找相对应的下标</span>
        ArcBox<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>ArcBox<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ArcBox<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>tailvex <span class="token operator">=</span> v1<span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>headvex <span class="token operator">=</span> v2<span class="token punctuation">;</span>
        <span class="token comment">//采用头插法插入新的p结点</span>
        p<span class="token operator">-&gt;</span>hlink <span class="token operator">=</span> G<span class="token operator">-&gt;</span>xlist<span class="token punctuation">[</span>v2<span class="token punctuation">]</span><span class="token punctuation">.</span>firstin<span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>tlink <span class="token operator">=</span> G<span class="token operator">-&gt;</span>xlist<span class="token punctuation">[</span>v1<span class="token punctuation">]</span><span class="token punctuation">.</span>firstout<span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>xlist<span class="token punctuation">[</span>v2<span class="token punctuation">]</span><span class="token punctuation">.</span>firstin <span class="token operator">=</span> G<span class="token operator">-&gt;</span>xlist<span class="token punctuation">[</span>v1<span class="token punctuation">]</span><span class="token punctuation">.</span>firstout <span class="token operator">=</span> p<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="邻接多重表"><a href="#邻接多重表" class="header-anchor">#</a> 邻接多重表</h3> <p>​		邻接表对边的操作显然很不方便，因此，我们可以仿照十字链表的方式，对边表结构进行改装，重新定义的边表结构如下：</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407261415711.png" alt="image-20240726141532616"></p> <p>​		其中<code>iVex</code>和<code>jVex</code>是与某条边依附的两个顶点在顶点表中的下标。 <code>iLink</code>指向依附顶点<code>iVex</code>的下⼀条边， <code>jLink</code>指向依附顶点<code>jVex</code>的下⼀条边。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token comment">//邻接多重表</span>
<span class="token comment">//边表集合</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">node</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> ivex<span class="token punctuation">,</span> jvex<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token operator">*</span> vi<span class="token punctuation">,</span> <span class="token operator">*</span>vj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>ArcNode<span class="token punctuation">;</span>
<span class="token comment">//结点</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span>
<span class="token punctuation">{</span>
    <span class="token keyword">char</span> vertex<span class="token punctuation">;</span>

    ArcNode<span class="token operator">*</span> firstEdge<span class="token punctuation">;</span>
<span class="token punctuation">}</span>VNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span>
<span class="token punctuation">{</span>
    VNode Dvex<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> numV<span class="token punctuation">,</span> numE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Graph<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">creat</span><span class="token punctuation">(</span>Graph<span class="token operator">*</span> G<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//先输入顶点数和边数</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>numV<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>numE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ArcNode<span class="token operator">*</span> new_node<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numV<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>Dvex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>Dvex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstEdge <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//输入边对应的下标</span>
        <span class="token keyword">int</span> vi<span class="token punctuation">,</span> vj<span class="token punctuation">;</span>
        new_node <span class="token operator">=</span> <span class="token punctuation">(</span>ArcNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ArcNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        new_node<span class="token operator">-&gt;</span>ivex <span class="token operator">=</span> vi<span class="token punctuation">;</span>
        new_node<span class="token operator">-&gt;</span>jvex <span class="token operator">=</span> vj<span class="token punctuation">;</span>
        new_node<span class="token operator">-&gt;</span>vi <span class="token operator">=</span> G<span class="token operator">-&gt;</span>Dvex<span class="token punctuation">[</span>vi<span class="token punctuation">]</span><span class="token punctuation">.</span>firstEdge<span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>Dvex<span class="token punctuation">[</span>vi<span class="token punctuation">]</span><span class="token punctuation">.</span>firstEdge <span class="token operator">=</span> new_node<span class="token punctuation">;</span>
        new_node<span class="token operator">-&gt;</span>vj <span class="token operator">=</span> G<span class="token operator">-&gt;</span>Dvex<span class="token punctuation">[</span>vj<span class="token punctuation">]</span><span class="token punctuation">.</span>firstEdge<span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>Dvex<span class="token punctuation">[</span>vj<span class="token punctuation">]</span><span class="token punctuation">.</span>firstEdge <span class="token operator">=</span> new_node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h2 id="图的遍历"><a href="#图的遍历" class="header-anchor">#</a> 图的遍历</h2> <h3 id="深度优先搜索-dfs"><a href="#深度优先搜索-dfs" class="header-anchor">#</a> 深度优先搜索（DFS）</h3> <p>​		深度优化遍历( Depth First Search )，也有称为 深度优化搜索 ，简称为 <code>DFS</code> 。事实上，我们在树的遍历中早已涉及<code>DFS</code>，层序遍历、中序遍历和后序遍历都属于深度优先遍历的方式，因为这些遍历方式本质上都归结于栈</p> <p><strong>右手原则</strong>
在没有碰到重复顶点的情况下，分叉路口始终是向右手边走，每路过⼀个顶点就做⼀个记号。</p> <p><strong>左手原则</strong>
在没有碰到重复顶点的情况下，分叉路口始终是向左手边走，每路过⼀个顶点就做⼀个记号。</p> <p>画图展示深度优先遍历，使用右手原则</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407281450733.png" alt="image-20240728145031182"></p> <p><strong>代码</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*
创建无权无向图并深度优先搜索--基于邻接矩阵存图 
*/</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXN</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArcCell</span> <span class="token punctuation">{</span>
    <span class="token keyword">char</span> vexnum<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token comment">//顶点</span>
    <span class="token keyword">int</span> arcnum<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//弧</span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span> e<span class="token punctuation">;</span>                  <span class="token comment">//顶点数， 弧数</span>
<span class="token punctuation">}</span>Graph<span class="token punctuation">;</span>
<span class="token keyword">int</span> Visit<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token comment">//定义Visit来判断顶点是否被访问，并初始化（全局变量默认为0） </span>



<span class="token keyword">void</span> <span class="token function">CreateGraph</span><span class="token punctuation">(</span>Graph<span class="token operator">*</span> G<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//创建图 ，此处注意&amp;G </span>
    <span class="token keyword">int</span> s<span class="token punctuation">,</span> t<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//读掉回车 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment">//初始化数据 </span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>e<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment">//创建图的邻接矩阵</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token operator">&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//开始搜索 找一个开始结点</span>
<span class="token comment">/*
开始结点是人定义的
Graph G 需要遍历哪一个图
int i 遍历的起始结点从哪里开始
标记结点
1、遍历未被标记的结点
2、如果遍历到某一个邻接点是已被标记 我要继续找和我相邻的另外一个结点

*/</span>
<span class="token keyword">void</span> <span class="token function">DFSTraverse</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token comment">//找邻接点</span>
<span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 打印遍历的节点</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>G<span class="token punctuation">.</span>arcnum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>Visit<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">// 如果点与点之间存在连接，且没有访问过</span>
        <span class="token punctuation">{</span>
            Visit<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">DFSTraverse</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">DFS</span><span class="token punctuation">(</span>Graph G<span class="token punctuation">)</span><span class="token comment">//遍历</span>
<span class="token comment">// 这里需要注意，由于图不一定是连通图，所以会有这个函数</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//对整个图的结点进行深搜</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">DFSTraverse</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Graph G<span class="token punctuation">;</span>
    <span class="token function">CreateGraph</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>G<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">DFS</span><span class="token punctuation">(</span>G<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token comment">/*
测试用例：
9
15
ABCDEFGHI 
0 1
0 5
1 6
5 6
2 1
1 8
2 8
6 7
2 3
3 8
3 7
3 4
4 7
4 5
3 6
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br></div></div><h3 id="广度优先搜索-bfs"><a href="#广度优先搜索-bfs" class="header-anchor">#</a> 广度优先搜索（BFS）</h3> <p>​		广度优先遍历（Breadth First Search），又称为广度优先搜索，简称BFS。树的层序遍历方式便是⼀种广度优先搜索方式。为了清晰地理解广度优先搜索，我们同样以深度优先搜索的例子一起走一遍，这不过，我们对图中顶点的位置做了调整，这样看起来更清楚</p> <p>画图演示广度优先遍历</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407281455993.png" alt="image-20240728145547881"></p> <p><strong>代码</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_VERTEX</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">inf</span> <span class="token expression"><span class="token number">65535</span>  </span><span class="token comment">//表示两点之间没有边相连</span></span>
<span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token punctuation">{</span>false<span class="token punctuation">,</span> true <span class="token punctuation">}</span>bool<span class="token punctuation">;</span><span class="token comment">//c语言没有bool，要自己声明 </span>
<span class="token keyword">int</span> visit<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">//标记顶点是否被访问</span>

<span class="token comment">/**带权无向图的邻接链表的建立--基于邻接表**/</span>
<span class="token comment">//边表结点数据结构</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">EdgeNode</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> adjvex<span class="token punctuation">;</span>  <span class="token comment">//存储该顶点对应的下标</span>
    <span class="token keyword">int</span> weight<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">EdgeNode</span> <span class="token operator">*</span>next<span class="token punctuation">;</span> <span class="token comment">//指向下一个邻接点</span>
<span class="token punctuation">}</span>EdgeNode<span class="token punctuation">;</span>

<span class="token comment">//顶点表结点数据结构</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">VertexNode</span>
<span class="token punctuation">{</span>
    <span class="token keyword">char</span> Vertex<span class="token punctuation">;</span>  <span class="token comment">//存储顶点信息</span>
    EdgeNode <span class="token operator">*</span>FistEdge<span class="token punctuation">;</span> <span class="token comment">//边表头指针</span>
<span class="token punctuation">}</span>VertexNode<span class="token punctuation">;</span>

<span class="token comment">//邻接链表图的数据结构</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span>
<span class="token punctuation">{</span>
    VertexNode adjList<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> VertexNumber<span class="token punctuation">,</span>EdgeNumber<span class="token punctuation">;</span> <span class="token comment">//顶点数和边数</span>
<span class="token punctuation">}</span>GraphAdjList<span class="token punctuation">;</span>


<span class="token comment">/**无向图邻接链表的建立**/</span>
<span class="token keyword">void</span> <span class="token function">Create_no_direction_LinkList_Graph</span><span class="token punctuation">(</span>GraphAdjList <span class="token operator">*</span>G<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>w<span class="token punctuation">,</span>k<span class="token punctuation">;</span>
    <span class="token comment">// printf(&quot;请输入无向图邻接链表的顶点数和边数：\n&quot;);</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>VertexNumber<span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>EdgeNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//输入顶点信息，建立顶点表</span>
    <span class="token comment">//printf(&quot;顶点表的建立：输入顶点信息，如ABCDEF.....\n&quot;);</span>
    <span class="token comment">//char ch;</span>
    <span class="token comment">//while( ( ch = getchar()  != '\n' ) );</span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>VertexNumber<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>FistEdge <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token comment">// printf(&quot;边表的建立：输入边（vi,vj）的顶点下标，权值统一为1，如：0 1 1(权值)\n&quot;);</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>EdgeNumber<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>i<span class="token punctuation">,</span><span class="token operator">&amp;</span>j<span class="token punctuation">,</span><span class="token operator">&amp;</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>

        EdgeNode <span class="token operator">*</span>e<span class="token punctuation">;</span>
        e <span class="token operator">=</span> <span class="token punctuation">(</span>EdgeNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>EdgeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>weight <span class="token operator">=</span> w<span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>adjvex <span class="token operator">=</span> j<span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>next <span class="token operator">=</span> G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>FistEdge<span class="token punctuation">;</span>   <span class="token comment">//头插法将下标为j的顶点插入与之相连的下标为i的结点链表中</span>
        G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>FistEdge <span class="token operator">=</span> e<span class="token punctuation">;</span>

        <span class="token comment">//无向图，因此是对称的，同样的操作将下标为i的顶点插入与之相连的下标为j的结点的链表中</span>
        e <span class="token operator">=</span> <span class="token punctuation">(</span>EdgeNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>EdgeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>weight <span class="token operator">=</span> w<span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>adjvex <span class="token operator">=</span> i<span class="token punctuation">;</span>
        e<span class="token operator">-&gt;</span>next <span class="token operator">=</span> G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>FistEdge<span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>adjList<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>FistEdge <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//    打印检查</span>
    <span class="token comment">/*    printf(&quot;---------------------构造出来的无向图邻接链表的边信息如下---------------------\n&quot;);
    for(i=0;i&lt;G-&gt;VertexNumber;i++)
    {
        EdgeNode *p;
        p = G-&gt;adjList[i].FistEdge;
        printf(&quot;%d\t&quot;,i);
        while(p != NULL)
        {
            printf(&quot;%d &quot;,p-&gt;adjvex);
            p = p-&gt;next;
        }
        printf(&quot;\n&quot;);
    }*/</span>
<span class="token punctuation">}</span>
<span class="token comment">/**BFS会用到队列这个数据结构**/</span>
<span class="token comment">/**顺序表实现循环队列**/</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span>
<span class="token punctuation">{</span>
    <span class="token keyword">char</span> data<span class="token punctuation">[</span>MAX_VERTEX<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> front<span class="token punctuation">;</span>  <span class="token comment">//头指针</span>
    <span class="token keyword">int</span> rear<span class="token punctuation">;</span>   <span class="token comment">//尾指针，队列非空则指向队尾最后一个元素后一个位置</span>
<span class="token punctuation">}</span>SqQueue<span class="token punctuation">;</span>

<span class="token comment">//队列初始化</span>
<span class="token keyword">void</span> <span class="token function">InitQueue</span><span class="token punctuation">(</span>SqQueue <span class="token operator">*</span>Q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Q<span class="token operator">-&gt;</span>front <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    Q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//入队</span>
bool <span class="token function">EnQueue</span><span class="token punctuation">(</span>SqQueue <span class="token operator">*</span>Q<span class="token punctuation">,</span> <span class="token keyword">char</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//判断队列是否满</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> Q<span class="token operator">-&gt;</span>rear<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">%</span> MAX_VERTEX <span class="token operator">==</span> Q<span class="token operator">-&gt;</span>front <span class="token punctuation">)</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    Q<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>Q<span class="token operator">-&gt;</span>rear<span class="token punctuation">]</span><span class="token operator">=</span>e<span class="token punctuation">;</span>
    Q<span class="token operator">-&gt;</span>rear <span class="token operator">=</span> <span class="token punctuation">(</span>Q<span class="token operator">-&gt;</span>rear<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>MAX_VERTEX<span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//出队---删除队首元素，并赋给e</span>
<span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">DeQueue</span><span class="token punctuation">(</span>SqQueue <span class="token operator">*</span>Q<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//判断队列是否为空</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> Q<span class="token operator">-&gt;</span>front <span class="token operator">==</span> Q<span class="token operator">-&gt;</span>rear <span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>e <span class="token operator">=</span> Q<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>Q<span class="token operator">-&gt;</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>
    Q<span class="token operator">-&gt;</span>front <span class="token operator">=</span> <span class="token punctuation">(</span>Q<span class="token operator">-&gt;</span>front<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>MAX_VERTEX<span class="token punctuation">;</span>
    <span class="token keyword">return</span> e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//队列判空</span>
bool <span class="token function">isEmptyQueue</span><span class="token punctuation">(</span>SqQueue <span class="token operator">*</span>Q<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> Q<span class="token operator">-&gt;</span>front <span class="token operator">==</span> Q<span class="token operator">-&gt;</span>rear<span class="token operator">?</span>true<span class="token operator">:</span>false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//----------------------------以上是队列操作------------------------------------</span>

<span class="token comment">//无向图邻接链表BFS</span>
<span class="token keyword">void</span> <span class="token function">BFS_Travel</span><span class="token punctuation">(</span>GraphAdjList G<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>mark<span class="token punctuation">;</span>
    <span class="token keyword">char</span> data<span class="token punctuation">;</span>
    SqQueue Q<span class="token punctuation">;</span>
    EdgeNode <span class="token operator">*</span>p<span class="token punctuation">;</span>
    <span class="token comment">//初始化visit数组</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token punctuation">.</span>VertexNumber<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> false<span class="token punctuation">;</span>

    <span class="token comment">//初始化队列</span>
    <span class="token function">InitQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//对每个顶点进行BFS</span>
    <span class="token comment">//printf(&quot;此无向图邻接链表BFS结果为：\n&quot;);</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token punctuation">.</span>VertexNumber<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 如果节点没有被访问过</span>
        <span class="token punctuation">{</span>
            visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span><span class="token comment">// 标记节点被访问过</span>

            <span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">,</span>G<span class="token punctuation">.</span>adjList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Vertex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将该节点入队</span>

            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isEmptyQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 如果队非空</span>
            <span class="token punctuation">{</span>
                <span class="token function">DeQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">,</span><span class="token operator">&amp;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 出队</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c &quot;</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 打印节点值</span>

                <span class="token comment">//根据删除顶点实时更新追踪该顶点下标，以便正确找到与之相连的其他顶点</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>G<span class="token punctuation">.</span>VertexNumber<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span>adjList<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Vertex<span class="token operator">==</span>data<span class="token punctuation">)</span>
                        mark <span class="token operator">=</span> j<span class="token punctuation">;</span>
                <span class="token comment">// 找到这个p是为了遍历接着节点连接的所有节点</span>
                p <span class="token operator">=</span> G<span class="token punctuation">.</span>adjList<span class="token punctuation">[</span>mark<span class="token punctuation">]</span><span class="token punctuation">.</span>FistEdge<span class="token punctuation">;</span>

                <span class="token comment">//找寻与此顶点相连且没访问过的其他顶点</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visit<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        visit<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span>
                        <span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Q<span class="token punctuation">,</span>G<span class="token punctuation">.</span>adjList<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">]</span><span class="token punctuation">.</span>Vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    GraphAdjList G<span class="token punctuation">;</span>
    <span class="token function">Create_no_direction_LinkList_Graph</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>G<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">BFS_Travel</span><span class="token punctuation">(</span>G<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
测试用例：
9
15
ABCDEFGHI 
0 1 1
0 5 1
1 6 1
5 6 1
2 1 1
1 8 1
2 8 1
6 7 1
2 3 1
3 8 1
3 7 1
3 4 1
4 7 1
4 5 1
3 6 1
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br></div></div><h2 id="最小生成树"><a href="#最小生成树" class="header-anchor">#</a> 最小生成树</h2> <p><strong>生成树</strong></p> <p>​		⼀个连通图的生成树是⼀个极小的连通子图，它包含图中全部的<code>n</code>个顶点，但只有构成⼀棵树的<code>n-1</code>条边。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407291252693.png" alt="image-20240729125248559"></p> <p><strong>生成树的性质</strong></p> <ul><li>一个连通图可以有多个生成树；</li> <li>一个连通图的所有生成树都包含相同的顶点个数和边数；</li> <li>生成树当中不存在环；</li> <li>移除生成树中的任意⼀条边都会导致图的不连通， 生成树的边最少特性；</li> <li>在生成树中添加⼀条边会构成环。</li> <li>对于包含<code>n</code>个顶点的连通图，生成树包含<code>n</code>个顶点和<code>n-1</code>条边；</li> <li>对于包含<code>n</code>个顶点的无向完全图最多包含 n^n-2^颗生成树。</li></ul> <p><strong>最小生成树</strong></p> <p>​		所谓⼀个 带权图 的最小生成树，就是原图中边的权值最小的生成树 ，所谓最小是指边的权值之和小于或者等于其它生成树的边的权值之和。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407291255773.png" alt="image-20240729125551692"></p> <h3 id="克鲁斯卡尔-kruskal-算法"><a href="#克鲁斯卡尔-kruskal-算法" class="header-anchor">#</a> 克鲁斯卡尔（Kruskal）算法</h3> <p>​		克鲁斯卡尔算法又叫做加边法。顾名思义这种算法的核心时增加边来构建最小生成树。克鲁斯卡尔算法的两个核心点为</p> <ol><li>选取尽量小的边加入</li> <li>加入边后不允许存在换（ 并查集实现 ）</li></ol> <p>​		时间复杂度为O(nlogn)其中n为边的数量，所有克鲁斯卡尔算法适合稀疏图的情况。</p> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407291332789.png" alt="image-20240729133224642"></p> <p><strong>代码</strong></p> <p>​		克鲁斯卡尔算法实现的顺序就是先将所有的边进行排序，然后再随着排序的顺序进行加入并通过并查集的方法判断是否加入边。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INF</span> <span class="token expression"><span class="token number">65535</span></span></span>
<span class="token comment">/*找最小生成树----&gt;选出n-1条边：

1.选出n-1条权值尽量小的边： 每次都选新的最小的边E---基于贪心 
2. 其中不能出现环 ：   采用并查集，判断一下 E的两个端点是不是属于同一个连通集合：(1)yes,说明E不能选  (2)no, 说明要选E 

Kruskal的思路 ---贪心（贪婪）思想 ：趋利避害   目光短浅 

时间复杂度：在并查集采用路径压缩的基础上 O(eloge) ----适合 稀疏图 
*/</span> 

<span class="token comment">//邻接矩阵存图--带权无向图 </span>
<span class="token keyword">int</span> g<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//假设最多有100个点</span>
<span class="token keyword">int</span> nv<span class="token punctuation">,</span>ne<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> u<span class="token punctuation">,</span>v<span class="token punctuation">;</span><span class="token comment">//端点 </span>
    <span class="token keyword">int</span> w<span class="token punctuation">;</span><span class="token comment">//权值 	</span>
<span class="token punctuation">}</span>Edge<span class="token punctuation">;</span>
Edge e<span class="token punctuation">[</span><span class="token number">5005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">sorte</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">,</span><span class="token keyword">int</span> r<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//选择</span>
    <span class="token keyword">int</span> minn<span class="token punctuation">;</span>
    Edge tmp<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>l<span class="token punctuation">;</span>i<span class="token operator">&lt;</span>r<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">// 选择排序，通过权值来升序排序</span>
    <span class="token punctuation">{</span>
        minn<span class="token operator">=</span>i<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>r<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">[</span>minn<span class="token punctuation">]</span><span class="token punctuation">.</span>w <span class="token operator">&gt;</span>e<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>w <span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                minn<span class="token operator">=</span>j<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> 
        tmp<span class="token operator">=</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>e<span class="token punctuation">[</span>minn<span class="token punctuation">]</span><span class="token punctuation">;</span>
        e<span class="token punctuation">[</span>minn<span class="token punctuation">]</span><span class="token operator">=</span>tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token comment">//输出排序之后的结果；</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;按权值升序排列：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>r<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;(%d %d) %d\n&quot;</span><span class="token punctuation">,</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">,</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">,</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> f<span class="token punctuation">,</span><span class="token keyword">int</span> z<span class="token punctuation">)</span><span class="token comment">// 去判断是否为环，也就是并查集中查找方法</span>
<span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>z<span class="token operator">!=</span>f<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        z<span class="token operator">=</span>f<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">Kruskal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;以下是最小生成树的边：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ne<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span> fu<span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> fv<span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>fu<span class="token operator">!=</span>fv<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            f<span class="token punctuation">[</span>fv<span class="token punctuation">]</span><span class="token operator">=</span>fu<span class="token punctuation">;</span><span class="token comment">// 并查集中的合并操作  </span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;(%d %d) %d\n&quot;</span><span class="token punctuation">,</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">,</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">,</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nv<span class="token punctuation">,</span><span class="token operator">&amp;</span>ne<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">// 初始化图</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>j<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>	
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>INF<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>wi<span class="token punctuation">;</span>
    <span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//边数组下标 </span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ne<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">,</span><span class="token operator">&amp;</span>wi<span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span>wi<span class="token punctuation">;</span>
        e<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>v <span class="token operator">=</span>x<span class="token punctuation">;</span>
        e<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>u <span class="token operator">=</span>y<span class="token punctuation">;</span>
        e<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>w <span class="token operator">=</span>wi<span class="token punctuation">;</span>
        k<span class="token operator">++</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token function">sorte</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Kruskal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment">/*
9 15
0 1 3
0 5 4
1 6 6
6 5 7
1 2 8
1 8 5
2 8 2
2 3 12
8 3 11
6 3 14
6 7 9
5 4 18
3 7 6
7 4 1
3 4 10
*/</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br></div></div><h3 id="普里姆-prim-算法"><a href="#普里姆-prim-算法" class="header-anchor">#</a> 普里姆（Prim）  算法</h3> <p>​		普里姆算法又称加点法。故名思普里姆算法就是通过在与一个节点连通的点上选择权值最小的一个点。</p> <p>​		时间复杂度为O(n^2^)</p> <p><strong>画图演示过程</strong></p> <p>​		这里展示的是构图过程，笔试计算过程可以参考迪杰斯特拉算法。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407291430784.png" alt="image-20240729143022654"></p> <p><strong>代码</strong></p> <p>​		普里姆算法简单点来说就是维护<code>dist</code>数组，一开始的时候选择一个点（下面的代码选择的是<code>0</code>点）作为其实顶点。先将<code>0</code>和其他所有点之间的距离置为无穷大，接着更新<code>dist</code>数组，将和<code>0</code>相连接的点的距离加入到<code>dist</code>之中。接着再通过新的点能对<code>dist</code>继续更新，即选择路径最小的距离。重复以上过程。核心就是要选择到初始点的最短的路径。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INF</span> <span class="token expression"><span class="token number">65535</span></span></span>
<span class="token comment">/* 
最小生成树---prim算法：选点，也在选边 
维护一个dist[]，点到生成树的距离，初始化无穷
1.选起点加到生成树中 
2。用起点去更新 与起点直接相连，并且还未加入到生成树中的点的dist 
3.n-1次循环：（1）选dist值最小的点（p点）加入生成树，用p点更新 与p点直接相连，并且还未加入到生成树中的点的dist
时间复杂度： O(V^2) ----适合 稠密图  
*/</span> 
<span class="token comment">//邻接矩阵存图--带权无向图 </span>
<span class="token keyword">int</span> g<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//假设最多有100个点</span>
<span class="token keyword">int</span> dist<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//记录点到点的距离 </span>
<span class="token keyword">int</span> vi<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//0 代表没有加入到生成树 </span>
<span class="token keyword">int</span> nv<span class="token punctuation">,</span>ne<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&lt;</span>y<span class="token punctuation">)</span><span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">return</span> y<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">prim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    dist<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    vi<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//表示0已经加入到生成数中 </span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">// 更新dist将和初试点连接的路径存入到dist中</span>
    <span class="token punctuation">{</span>
        dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>g<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在dist数组中储存0到各点的距离</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">int</span> minn<span class="token punctuation">;</span>
    <span class="token keyword">int</span> tmpd<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//循环nv-1次 </span>
    <span class="token punctuation">{</span>
        minn<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//保存 p点的编号 </span>
        tmpd<span class="token operator">=</span>INF<span class="token punctuation">;</span><span class="token comment">//保存dist值 </span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//找到最小的点 </span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>vi<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>tmpd<span class="token punctuation">)</span><span class="token comment">//如果有点未被访问过且有更小的权值边</span>
            <span class="token punctuation">{</span>
                minn<span class="token operator">=</span>j<span class="token punctuation">;</span>
                tmpd<span class="token operator">=</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>minn<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;本次把点%d，通过边权为 %d的边加入到生成树中\n&quot;</span><span class="token punctuation">,</span>minn<span class="token punctuation">,</span>tmpd<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        vi<span class="token punctuation">[</span>minn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//表示minn点已经加入生成树中 </span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//通过minn的值来更新到其他点的距离 </span>
        <span class="token punctuation">{</span>
            dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>g<span class="token punctuation">[</span>minn<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>	

<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nv<span class="token punctuation">,</span><span class="token operator">&amp;</span>ne<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输入顶点数和边数 </span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//初始化邻接表 </span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>j<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>	
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>INF<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//初始化dist数组 </span>
    <span class="token punctuation">{</span>
        dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>INF<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>wi<span class="token punctuation">;</span> 
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ne<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">,</span><span class="token operator">&amp;</span>wi<span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span>wi<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">prim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token comment">/*
9 15
0 1 3
0 5 4
1 6 6
6 5 7
1 2 8
1 8 5
2 8 2
2 3 12
8 3 11
6 3 14
6 7 9
5 4 18
3 7 6
7 4 1
3 4 10
*/</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br></div></div><h2 id="最短路径"><a href="#最短路径" class="header-anchor">#</a> 最短路径</h2> <p><strong>源点</strong>：路径起始的第⼀个顶点。</p> <p><strong>终点</strong>：最后⼀个顶点称为终点。</p> <h3 id="迪杰斯特拉-dijkstra-算法"><a href="#迪杰斯特拉-dijkstra-算法" class="header-anchor">#</a> 迪杰斯特拉（Dijkstra）算法</h3> <p>​		迪杰斯特拉算法和普里姆算法很想，都是应用了贪心的思想。简单点来说就是每次都选择离源点最近的路径。普里姆已经展示了图的建立过程，接下来画一个解题的思路。</p> <p>​		时间复杂度为O(n^2^),需要注意的是迪杰斯特拉是只算一个点到各点之间的距离，若要算每个点到每个点之间的最短距离，时间复杂度会上升到O(n^3^)</p> <p><strong>画图演示过程</strong></p> <p>​		下图中的原图中，用颜色从浅到深表示进入终点集的顺序。而旁边的表格中加深颜色的表示选择它。<code>INF</code>表示无穷大，及暂时不能通过中间节点到达。</p> <p>​		显然可见的是每列选择的都是一列值最小的，而后一列更新数据也是在前一列选择的基础进行更新。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407301418957.png" alt="image-20240730141810835"></p> <p><strong>代码</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> g<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 这里是邻接表的简单表示</span>
<span class="token keyword">int</span> nv<span class="token punctuation">,</span>ne<span class="token punctuation">,</span>v<span class="token punctuation">;</span><span class="token comment">//v是源点</span>
<span class="token keyword">int</span> dist<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">,</span>path<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// dist就是上述图中的第1次、第2次...... path是上述图中终点集</span>
<span class="token keyword">int</span> ch<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 标记节点是否加入终点集</span>
<span class="token keyword">void</span> <span class="token function">dijkstra</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ne<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">// 根据源点进行更新</span>
    <span class="token punctuation">{</span>
        dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span>INF<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">;</span><span class="token comment">// 将源点加入终点集</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> minn<span class="token punctuation">;</span><span class="token comment">//最小的dist </span>
    <span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token comment">//最小dist值是k点 </span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        minn<span class="token operator">=</span>INF<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//找最小的dist </span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ch<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>minn<span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                minn<span class="token operator">=</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                k<span class="token operator">=</span>j<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> 

        <span class="token punctuation">}</span> 
        ch<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">// 根据新的节点更新路径</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ch<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>dist<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">+</span>g<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>dist<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">+</span>g<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                path<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>k<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nv<span class="token punctuation">,</span><span class="token operator">&amp;</span>ne<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>j<span class="token punctuation">)</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>INF<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ne<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">,</span><span class="token operator">&amp;</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span>w<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输入起点</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>INF<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    dist<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    ch<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    path<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">;</span>

    <span class="token function">dijkstra</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nv<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">// 形象的打印路径</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;源点%d到%d的最短路径长度是:%d----&quot;</span><span class="token punctuation">,</span>v<span class="token punctuation">,</span>i<span class="token punctuation">,</span>dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//倒序输出最短路径</span>
        <span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d-&gt;&quot;</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>path<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span>j<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d-&gt;&quot;</span><span class="token punctuation">,</span>path<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            j<span class="token operator">=</span>path<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>	
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 	

<span class="token punctuation">}</span>
<span class="token comment">/*
9 16
0 1 1
0 2 5
1 2 3
1 3 7
1 4 5
2 4 1
2 5 7
3 4 2
3 6 3
4 5 3
4 6 6
4 7 9
5 7 5
6 7 2
6 8 7
7 8 4
0
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br></div></div><h3 id="弗洛伊德算法-floyd-算法"><a href="#弗洛伊德算法-floyd-算法" class="header-anchor">#</a> 弗洛伊德算法（Floyd） 算法</h3> <p>​		弗洛伊德算法简单点来说就是对两种表格进行维护，一种表是点到点之间的最短距离，另一张表是到达点的前驱点。依次通过中间点来对表格进行更新。</p> <p><strong>画图演示过程</strong></p> <p><a href="https://www.bilibili.com/video/BV19k4y1Q7Gj/?spm_id_from=333.788&amp;vd_source=d72056426398be3bc2c06188105196a6" target="_blank" rel="noopener noreferrer">图-最短路径-Floyd(弗洛伊德)算法_哔哩哔哩_bilibili<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407301508468.png" alt="image-20240730150825143"></p> <p><strong>核心代码</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//k为中间点 </span>
<span class="token keyword">for</span><span class="token punctuation">(</span>k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//v为起点 </span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>v <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> v <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span> v<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//w为终点 </span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>w <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> w <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span> w<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>D<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span>D<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span> D<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                D<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> D<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span> D<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//更新最小路径 </span>
                Path<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> Path<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//更新最小路径中间顶点 </span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="拓扑排序"><a href="#拓扑排序" class="header-anchor">#</a> 拓扑排序</h2> <p><strong>有向无环图</strong>：没有环的有向图 ，简称 DAG 图 。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407311354142.png" alt="image-20240731135440006"></p> <p><strong>活动</strong>：所有的工程或者某种流程都可以分为若干个小的工程或者阶段，我们称这些小的工程或阶段为“活
动”。</p> <p><strong>AOV网</strong>：在⼀个表示工程的有向图中，用顶点表示活动，用弧表示活动之间的优先关系的有向图称为顶点
表示活动的网。</p> <p><strong>拓扑序列</strong>：设<code>G=(V,E)</code>是⼀个具有<code>n</code>个顶点的有向图， <code>V</code>中的顶点序列 <code>V1,V2,V3.......Vn</code>满足若从顶点<code>Vi</code>到<code>Vj</code>有⼀条路径，则在顶点序列中顶点<code>Vi</code>必在顶点<code>Vj</code>之前。则我们称这样的顶点序列为⼀个拓扑序列。    ``</p> <p><strong>拓扑排序</strong>：由某个集合上的⼀个偏序得到该集合上的⼀个全序的操作过程称为拓扑排序。简单点来说就是⼀个有向⽆环图构造拓扑序列的过程。</p> <p><strong>拓扑排序的算法步骤</strong></p> <ol><li><p>在有向图中选一个没有前驱的顶点且输出。</p></li> <li><p>从图中删除该顶点和所有以它为尾的弧。</p></li> <li><p>重复上述两步，直至全部顶点均已输出，或者当前图不存在无前驱的顶点为止</p> <p>值得说明的是拓扑排序是有向图判断成环的方法，无向图是并查集。</p></li></ol> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407311352248.png" alt="image-20240731135220077"></p> <p><strong>代码实现</strong></p> <p>​		存储方式使用邻接表存储图，代码中使用到了栈，要记录入度为<code>0</code>的点，因为同一时刻可能会有不知一个入度为<code>0</code>的点，所以要用栈将这一时刻的点都保存下来（用数组或者队列都可）。在建图过程中使用到了<code>indegree</code>，是为了存储每个点的入度来方便寻找入度为<code>0</code>的节点。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span> </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OK</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ERROR</span> <span class="token expression"><span class="token number">0</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MVNum</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> Status<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">char</span> VerTexType<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">char</span> OtherInfo<span class="token punctuation">;</span>
<span class="token keyword">int</span> indegree<span class="token punctuation">[</span>MVNum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//结点的入度个数</span>

<span class="token comment">//创建栈 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">StackNode</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">StackNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>StackNode<span class="token punctuation">,</span> <span class="token operator">*</span> StackList<span class="token punctuation">;</span>
<span class="token comment">//出栈函数 </span>
StackList <span class="token function">Pop</span><span class="token punctuation">(</span>StackList S<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    StackList p<span class="token punctuation">;</span>
    p <span class="token operator">=</span> S<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span>
        <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>
    <span class="token operator">*</span>e <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
    S <span class="token operator">=</span> S<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> S<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//入栈函数： </span>
StackList <span class="token function">Push</span><span class="token punctuation">(</span>StackList S<span class="token punctuation">,</span> <span class="token keyword">int</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    StackList p<span class="token punctuation">;</span>
    p <span class="token operator">=</span> <span class="token punctuation">(</span>StackNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>StackNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token operator">-&gt;</span>data <span class="token operator">=</span> e<span class="token punctuation">;</span>
    p<span class="token operator">-&gt;</span>next <span class="token operator">=</span> S<span class="token punctuation">;</span>
    S <span class="token operator">=</span> p<span class="token punctuation">;</span>
    <span class="token keyword">return</span> S<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//邻接表创建有向图的实现</span>
<span class="token comment">//边结点 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArcNode</span> <span class="token punctuation">{</span>    <span class="token comment">//链表结点</span>
    <span class="token keyword">int</span> adjvex<span class="token punctuation">;</span>           <span class="token comment">//邻接表创建无向网的实现</span>
    <span class="token keyword">struct</span> <span class="token class-name">ArcNode</span><span class="token operator">*</span> nextarc<span class="token punctuation">;</span>    <span class="token comment">//指向下一条边的指针</span>
    <span class="token comment">//OtherInfo info;       //和边相关的信息</span>
<span class="token punctuation">}</span>ArcNode<span class="token punctuation">;</span>

<span class="token comment">//顶点信息 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">VNode</span> <span class="token punctuation">{</span>   <span class="token comment">//头结点</span>
    VerTexType data<span class="token punctuation">;</span>   <span class="token comment">//顶点信息</span>
    ArcNode<span class="token operator">*</span> firstarc<span class="token punctuation">;</span><span class="token comment">//指向第一条依附该顶点的边的指针</span>
<span class="token punctuation">}</span>VNode<span class="token punctuation">,</span> AdjList<span class="token punctuation">[</span>MVNum<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//AdjList 表示邻接表类型</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    AdjList vertices<span class="token punctuation">;</span>     <span class="token comment">//邻接表头结点数组</span>
    <span class="token keyword">int</span> vexnum<span class="token punctuation">,</span> arcnum<span class="token punctuation">;</span>   <span class="token comment">//图的顶点数和弧数</span>
<span class="token punctuation">}</span>ALGraph<span class="token punctuation">;</span>

<span class="token comment">//创建有向图：</span>
<span class="token keyword">int</span> <span class="token function">LocateVex</span><span class="token punctuation">(</span>ALGraph<span class="token operator">*</span> G<span class="token punctuation">,</span> VerTexType v<span class="token punctuation">)</span>  <span class="token comment">//G带操作的图；v要在图中定位的顶点</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">==</span> G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span>
            <span class="token keyword">return</span> i<span class="token punctuation">;</span>               <span class="token comment">//顶点存在则返回在头结点数组中的下标；否则返回</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">CreateUDG</span><span class="token punctuation">(</span>ALGraph<span class="token operator">*</span> G<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">;</span>
    VerTexType v1<span class="token punctuation">,</span> v2<span class="token punctuation">;</span>
    ArcNode<span class="token operator">*</span> p1<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;输入总节点数和弧数：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//G带操作的图；v要在图中定位的顶点</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//是清空输入缓冲区的</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;输入各个节点的值：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token comment">//邻接表初始化</span>

    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//fflush(stdin);   //是清空输入缓冲区的</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        i <span class="token operator">=</span> <span class="token function">LocateVex</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> v1<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//返回这两个顶点在顶点数组中的位置</span>
        j <span class="token operator">=</span> <span class="token function">LocateVex</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p1 <span class="token operator">=</span> <span class="token punctuation">(</span>ArcNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ArcNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//给邻接表指针分配空间</span>
        p1<span class="token operator">-&gt;</span>adjvex <span class="token operator">=</span> j<span class="token punctuation">;</span>                          <span class="token comment">//赋值给p-&gt;adjvex指向的顶点域</span>
        p1<span class="token operator">-&gt;</span>nextarc <span class="token operator">=</span> G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc<span class="token punctuation">;</span> <span class="token comment">//nextarc指针域指向i结点的firstarc指针域  </span>
        G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc <span class="token operator">=</span> p1<span class="token punctuation">;</span>    <span class="token comment">//将点i的第一条指针指向</span>
        indegree<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 计算每个点的入度</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">TopoSort</span><span class="token punctuation">(</span>ALGraph G<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> topo<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    StackList S<span class="token punctuation">;</span><span class="token comment">//声明一个栈指针</span>
    ArcNode<span class="token operator">*</span> p<span class="token punctuation">;</span>
    <span class="token keyword">int</span> index<span class="token punctuation">;</span>
    <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//下标 用于存储拓扑序列</span>
    S <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>indegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            S <span class="token operator">=</span> <span class="token function">Push</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
	<span class="token comment">// 这个栈没有头指针，所以当栈指针指向空时栈为空</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token comment">//栈不为空 就继续跑</span>
    <span class="token punctuation">{</span>
        S <span class="token operator">=</span> <span class="token function">Pop</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> <span class="token operator">&amp;</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topo<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> index<span class="token punctuation">;</span>
        m<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token comment">//删边 index相邻的点的入度-1</span>
        p <span class="token operator">=</span> G<span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token operator">--</span>indegree<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>indegree<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                S <span class="token operator">=</span> <span class="token function">Push</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>nextarc<span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    topo<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//-1代表结尾</span>
    <span class="token comment">//判断一下是否成环</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//成环</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//不成环</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ALGraph G<span class="token punctuation">;</span>
    <span class="token keyword">int</span> topo<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">CreateUDG</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>G<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TopoSort</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>topo<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> topo<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c &quot;</span><span class="token punctuation">,</span> G<span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>topo<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
6 8

A B C D E F

A B
A C
A D
C B
C E
D E
F D
F E
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br></div></div><h2 id="关键路径"><a href="#关键路径" class="header-anchor">#</a> 关键路径</h2> <p><strong>AOE网</strong>：边表示活动的网，是⼀个带权的有向无环图，其中顶点表示事件（Event），弧表示活动，权表示活动持续的时间。</p> <p><strong>源点和汇点</strong> ：将AOE网中入度为零的点称为源点，将出度为零的点称为汇点。</p> <p><strong>关键路径</strong>：完成工程的最短时间是从源点到汇点的最长路径的长度。路径长度最长的路径就叫做关键路径。用形象一点的例子来说就是，唐僧师傅四人去西天取经，孙悟空只要一个精斗云，但是唐僧需要14年。四人取得真经的关键是唐僧到达西天。所以唐僧走到西天所需的时间就是关键路径。</p> <p><strong>活动</strong>： 一个完整的流程， 可能由很多事件组成（ 在图中就是弧的权值 ）</p> <p><strong>事件</strong>： 瞬时间/刹那间 发生的一件事（ 在图中就是点 ）</p> <p><strong>ETV</strong>（Earliest Time Of Vertex)  ：事件最早发生时间，就是顶点的最早发生时间</p> <p><strong>LTV</strong>（Latest Time Of Vertex)：事件最晚发生时间，就是每个顶点对应的事件最晚需要开始的时间，如果超出时间将会延误整个工期。</p> <p><strong>ETE</strong>(Earliest Time Of Edge)：活动的最早开工时间，就是弧的最早发生时间。</p> <p><strong>LTE</strong>(Lastest Time of Edge)：活动的最晚开工时间，就是不推迟工期的最晚开工时间。</p> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202407311521930.png" alt="image-20240731152109647"></p> <p><strong>代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span> </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OK</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ERROR</span> <span class="token expression"><span class="token number">0</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MVNum</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> Status<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">char</span> VerTexType<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">char</span> OtherInfo<span class="token punctuation">;</span>
<span class="token keyword">int</span> indegree<span class="token punctuation">[</span>MVNum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//结点的入度个数</span>
<span class="token keyword">int</span> m<span class="token punctuation">;</span><span class="token comment">//************逆序拓扑用(局部变量变全局） </span>
<span class="token comment">//创建栈 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">StackNode</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">StackNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>StackNode<span class="token punctuation">,</span> <span class="token operator">*</span> StackList<span class="token punctuation">;</span>
<span class="token comment">//出栈函数 </span>
StackList <span class="token function">Pop</span><span class="token punctuation">(</span>StackList S<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    StackList p<span class="token punctuation">;</span>
    p <span class="token operator">=</span> S<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span>
        <span class="token keyword">return</span> ERROR<span class="token punctuation">;</span>
    <span class="token operator">*</span>e <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
    S <span class="token operator">=</span> S<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> S<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//入栈函数： </span>
StackList <span class="token function">Push</span><span class="token punctuation">(</span>StackList S<span class="token punctuation">,</span> <span class="token keyword">int</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    StackList p<span class="token punctuation">;</span>
    p <span class="token operator">=</span> <span class="token punctuation">(</span>StackNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>StackNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token operator">-&gt;</span>data <span class="token operator">=</span> e<span class="token punctuation">;</span>
    p<span class="token operator">-&gt;</span>next <span class="token operator">=</span> S<span class="token punctuation">;</span>
    S <span class="token operator">=</span> p<span class="token punctuation">;</span>
    <span class="token keyword">return</span> S<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//邻接表创建有向图的实现</span>
<span class="token comment">//边结点 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ArcNode</span> <span class="token punctuation">{</span>    <span class="token comment">//链表结点</span>
    <span class="token keyword">int</span> adjvex<span class="token punctuation">;</span>           <span class="token comment">//邻接表创建无向网的实现</span>
    <span class="token keyword">struct</span> <span class="token class-name">ArcNode</span><span class="token operator">*</span> nextarc<span class="token punctuation">;</span>    <span class="token comment">//指向下一条边的指针</span>
    <span class="token keyword">int</span> info<span class="token punctuation">;</span>       <span class="token comment">//*****和边相关的信息--权值*****</span>
<span class="token punctuation">}</span>ArcNode<span class="token punctuation">;</span>

<span class="token comment">//顶点信息 </span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">VNode</span> <span class="token punctuation">{</span>   <span class="token comment">//头结点</span>
    VerTexType data<span class="token punctuation">;</span>   <span class="token comment">//顶点信息</span>
    ArcNode<span class="token operator">*</span> firstarc<span class="token punctuation">;</span><span class="token comment">//指向第一条依附该顶点的边的指针</span>
<span class="token punctuation">}</span>VNode<span class="token punctuation">,</span> AdjList<span class="token punctuation">[</span>MVNum<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//AdjList 表示邻接表类型</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    AdjList vertices<span class="token punctuation">;</span>     <span class="token comment">//邻接表头结点数组</span>
    <span class="token keyword">int</span> vexnum<span class="token punctuation">,</span> arcnum<span class="token punctuation">;</span>   <span class="token comment">//图的顶点数和弧数</span>
<span class="token punctuation">}</span>ALGraph<span class="token punctuation">;</span>

<span class="token comment">//创建有向图：</span>
<span class="token keyword">int</span> <span class="token function">LocateVex</span><span class="token punctuation">(</span>ALGraph<span class="token operator">*</span> G<span class="token punctuation">,</span> VerTexType v<span class="token punctuation">)</span>  <span class="token comment">//G带操作的图；v要在图中定位的顶点</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">==</span> G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span>
            <span class="token keyword">return</span> i<span class="token punctuation">;</span>               <span class="token comment">//顶点存在则返回在头结点数组中的下标；否则返回</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">CreateUDG</span><span class="token punctuation">(</span>ALGraph<span class="token operator">*</span> G<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">;</span>
    VerTexType v1<span class="token punctuation">,</span> v2<span class="token punctuation">;</span>
    ArcNode<span class="token operator">*</span> p1<span class="token punctuation">;</span>
    <span class="token keyword">int</span> w<span class="token punctuation">;</span><span class="token comment">//*****权值***** </span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;输入总节点数和弧数：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//G带操作的图；v要在图中定位的顶点</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//是清空输入缓冲区的</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;输入各个节点的值：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>vexnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token comment">//邻接表初始化</span>

    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;输入各条边的数据：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//*********</span>
    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//*********是清空输入缓冲区的</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>arcnum<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//**********</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//************</span>
        i <span class="token operator">=</span> <span class="token function">LocateVex</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> v1<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//返回这两个顶点在顶点数组中的位置</span>
        j <span class="token operator">=</span> <span class="token function">LocateVex</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p1 <span class="token operator">=</span> <span class="token punctuation">(</span>ArcNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ArcNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//给邻接表指针分配空间</span>
        p1<span class="token operator">-&gt;</span>adjvex <span class="token operator">=</span> j<span class="token punctuation">;</span>   
        p1<span class="token operator">-&gt;</span>info<span class="token operator">=</span>w<span class="token punctuation">;</span>                       <span class="token comment">//赋值给p-&gt;adjvex指向的顶点域</span>
        p1<span class="token operator">-&gt;</span>nextarc <span class="token operator">=</span> G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc<span class="token punctuation">;</span> <span class="token comment">//nextarc指针域指向i结点的firstarc指针域  </span>
        G<span class="token operator">-&gt;</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc <span class="token operator">=</span> p1<span class="token punctuation">;</span>    <span class="token comment">//将点i的第一条指针指向</span>
        indegree<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">TopoSort</span><span class="token punctuation">(</span>ALGraph G<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> etv<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">*</span> topo<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    StackList S<span class="token punctuation">;</span><span class="token comment">//声明一个栈指针</span>
    ArcNode<span class="token operator">*</span> p<span class="token punctuation">;</span>
    <span class="token keyword">int</span> index<span class="token punctuation">;</span>
    m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//***********下标 用于存储拓扑序列</span>
    S <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        etv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//*********初始化etv数组 </span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>indegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            S <span class="token operator">=</span> <span class="token function">Push</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token comment">//******下面循环中 index的邻接点 </span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token comment">//栈不为空 就继续跑</span>
    <span class="token punctuation">{</span>
        S <span class="token operator">=</span> <span class="token function">Pop</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> <span class="token operator">&amp;</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topo<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> index<span class="token punctuation">;</span>
        m<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token comment">//删边 index相邻的点的入度-1</span>
        p <span class="token operator">=</span> G<span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            k<span class="token operator">=</span>p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">;</span><span class="token comment">//********</span>
            <span class="token operator">--</span>indegree<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//********</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>indegree<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//********</span>
            <span class="token punctuation">{</span>
                S <span class="token operator">=</span> <span class="token function">Push</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//********</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//********求顶点K最早发生时间</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>etv<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>info<span class="token punctuation">)</span><span class="token operator">&gt;</span>etv<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                etv<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>etv<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> 

            p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>nextarc<span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    topo<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//-1代表结尾</span>
    <span class="token comment">//判断一下是否成环</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//成环</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//不成环</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//求关键路径 </span>
<span class="token keyword">void</span> <span class="token function">CriticalPath</span><span class="token punctuation">(</span>ALGraph G<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> etv<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> ltv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> topo<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ArcNode<span class="token operator">*</span> p<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ete<span class="token punctuation">,</span> lte<span class="token punctuation">;</span><span class="token comment">//此处其实没必要用数组</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">TopoSort</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span>etv<span class="token punctuation">,</span>topo<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//初始化事件最晚发生时间</span>
        <span class="token keyword">int</span> x<span class="token operator">=</span>topo<span class="token punctuation">[</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//x是拓扑序列的终点，也是图汇点 </span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            ltv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>etv<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
        <span class="token comment">//逆拓扑 求事件最晚发生时间</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            m<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> gettop<span class="token operator">=</span>topo<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> G<span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>gettop<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc<span class="token punctuation">;</span>p<span class="token punctuation">;</span>p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>nextarc<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">int</span> k <span class="token operator">=</span> p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>ltv<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">-</span> p<span class="token operator">-&gt;</span>info <span class="token operator">&lt;</span> ltv<span class="token punctuation">[</span>gettop<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    ltv<span class="token punctuation">[</span>gettop<span class="token punctuation">]</span> <span class="token operator">=</span> ltv<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">-</span> p<span class="token operator">-&gt;</span>info<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token comment">//求活动的最早和最晚,顺便输出关键路径，通过点遍历所有的边，时间复杂度O（E） </span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;以下是关键路径：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>vexnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> G<span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>firstarc<span class="token punctuation">;</span> p<span class="token punctuation">;</span> p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>nextarc<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">int</span> k <span class="token operator">=</span> p<span class="token operator">-&gt;</span>adjvex<span class="token punctuation">;</span>
                ete <span class="token operator">=</span> etv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                lte <span class="token operator">=</span> ltv<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">-</span> p<span class="token operator">-&gt;</span>info<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>ete <span class="token operator">==</span> lte<span class="token punctuation">)</span><span class="token comment">//输出关键路径的边 </span>
                <span class="token punctuation">{</span>
                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c %c : %d\n&quot;</span><span class="token punctuation">,</span> G<span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span> G<span class="token punctuation">.</span>vertices<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ALGraph G<span class="token punctuation">;</span>
    <span class="token function">CreateUDG</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>G<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span><span class="token operator">*</span> ltv <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span>vexnum <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span> etv <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span>vexnum <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">CriticalPath</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> etv<span class="token punctuation">,</span> ltv<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
9 11
A B C D E F G H I
A B 6
A C 4
A D 5
B E 1
C E 1
D F 2
E G 9
E H 7
F H 4
G I 2
H I 4
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br></div></div><h1 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h1> <p><strong>就地排序</strong>：⼀个就地排序算法使用恒定的的额外空间来产生输出（仅修改给定的数组），它仅通过修改线性
表中元素的顺序来对线性表进行排序。例如，插入排序（Insertion Sort）和选择排序（Selection
Sort）是就地排序算法，因为它们不使用任何额外的空间来对线性表进行排序。</p> <p><strong>内部排序</strong>：当所有待排序记录可以⼀次载入内存时，则称为内部排序。</p> <p><strong>外部排序</strong>：当所有待排序记录不能被⼀次载入内存进行处理时，这样的排序就被称为外部排序。</p> <p><strong>稳定排序</strong>：如果两个具有相等关键字的对象在排序前后的相对位置没有发生变化，则认为排序算法是稳定的（ 简单点来说就是数组中存在相同元素，当进行排序时相同的元素相对位置不会发生改变 ）当我们对可能存在重复键的键值对（例如，人名作为键，其详细信息作为值）按照键对这些对象进行排序时，稳定性就显得至关重要。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408011253959.png" alt="image-20240801125313862"></p> <h2 id="插入排序"><a href="#插入排序" class="header-anchor">#</a> 插入排序</h2> <h3 id="直接插入排序"><a href="#直接插入排序" class="header-anchor">#</a> 直接插入排序</h3> <p>​		将待排序序列分成两个序列，前面的序列保持有序，依次选取后面的序列的元素，在前面的序列中进行插入。初始时，有序序列的长度为1。</p> <ul><li>时间复杂度为O(n^2^)</li> <li>空间复杂度为O(1)</li> <li>是一个稳定排序</li></ul> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408021529119.png" alt="image-20240802152907014"></p> <p><strong>代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">,</span>n<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//从第2个数开始，取出当前数作为待排序数</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span> k<span class="token punctuation">,</span>temp<span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span>i<span class="token punctuation">;</span>k<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">--</span><span class="token punctuation">)</span>   
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;</span>a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//找到小的数代表结束 </span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token operator">=</span>i<span class="token punctuation">;</span>c<span class="token operator">&gt;</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>c<span class="token operator">--</span><span class="token punctuation">)</span><span class="token comment">//大的数都往后面移动一位ie </span>
        <span class="token punctuation">{</span>
            a<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        a<span class="token punctuation">[</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token comment">//将a[i]放入正确的位置 </span>
    <span class="token punctuation">}</span>


    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//--------------------------------------------------------------------</span>
<span class="token comment">// 上面的直接插入有点蠢 但是是最能体现插入算法的</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token comment">//元素个数</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//改良后的直接插入排序 </span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span> t<span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// t作为哨兵，也可以用a[0]最为哨兵，这样做的话就不能再a[0]中存放数据</span>
        <span class="token comment">// a[0] = a[i];</span>
        <span class="token keyword">int</span> j<span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>i<span class="token punctuation">;</span>j<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">&lt;</span>a<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>
        <span class="token comment">// a[j]=a[0]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><h3 id="折半插入排序"><a href="#折半插入排序" class="header-anchor">#</a> 折半插入排序</h3> <p>​		折半插入排序和直接插入排序的唯一差别就是再寻找插入位置时使用了折半查找，加快了位置的寻找，实在优化直接插入排序背景下的进一步优化。</p> <ul><li>时间复杂度为O(n^2^)</li> <li>空间复杂度为O(1)</li> <li>是一个稳定排序</li></ul> <p><strong>代码实现</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token comment">//元素个数</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span> t<span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> right <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&gt;</span>t<span class="token punctuation">)</span>
                right <span class="token operator">=</span> mid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                left <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>
            a<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> 
        a<span class="token punctuation">[</span>right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="希尔排序"><a href="#希尔排序" class="header-anchor">#</a> 希尔排序</h3> <p>​		希尔排序也是⼀种插⼊排序，它是简单插入排序经过改进之后的⼀个更高效的版本，也称为缩小增量排序，同时该算法是冲破O(n^2^）的第⼀批算法之一。</p> <p>​		希尔排序的进行是先确定一个增量，下面画图中采用的是最常见的一种增量选择——首次为数组的长度的一半，后续增量都是前一次排序的一半（ 向下取整 ）。增量的作用是进行分组，如增量为<code>5</code>，数组长度为<code>11</code>，则下标为<code>0、5、10</code>为一组进行排序，其他的元素同理。</p> <ul><li>时间复杂度最好情况为O(n)，最坏情况为O(n^2^)</li> <li>空间复杂度为O(1)</li> <li>是一个不稳定排序</li></ul> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408021635017.png" alt="image-20240802163548900"></p> <p><strong>代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token comment">//元素个数</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//趟数 </span>
    <span class="token comment">//希尔排序 </span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> d<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>d<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">;</span>d<span class="token operator">/=</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span> 
        k<span class="token operator">++</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token operator">+</span>d<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">int</span> t<span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> j<span class="token punctuation">;</span> 
            <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>i<span class="token punctuation">;</span>j<span class="token operator">&gt;=</span>d<span class="token punctuation">;</span>j<span class="token operator">-=</span>d<span class="token punctuation">)</span> <span class="token comment">// 组内排序</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">&lt;</span>a<span class="token punctuation">[</span>j<span class="token operator">-</span>d<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>j<span class="token operator">-</span>d<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>
            a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;第%d趟，增量为%d ：&quot;</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
10
9 13 8 2 5 13 7 1 15 11
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h2 id="交换排序"><a href="#交换排序" class="header-anchor">#</a> 交换排序</h2> <h3 id="冒泡排序"><a href="#冒泡排序" class="header-anchor">#</a> 冒泡排序</h3> <p>​		交换排序中最经典的就是冒泡排序，这个一般来说接触的最早的排序的算法。过于经典不多做解释，直接给出代码。</p> <ul><li>时间复杂度最好情况为O(n)，最坏情况为O(n^2^)</li> <li>空间复杂度为O(1)</li> <li>是一个稳定排序</li></ul> <p><strong>代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token comment">/*所谓交换,是指根据序列中两个关键字比较的结果来对换这两个关键字在序列中的位置。*/</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span>t<span class="token punctuation">;</span>
<span class="token keyword">int</span> v<span class="token punctuation">;</span><span class="token comment">//标记 </span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//冒泡排序</span>
    <span class="token comment">//外层循环控制 排序的趟数 n个元素排序需要循环n-1次 【1】</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        v<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">//内层循环控制比较的次数 n个元素第i趟比较n-i次 【2】</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token operator">-</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token comment">//比较相邻的元素大小 目的：将最大的元素选出到移动到最后 </span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&gt;</span>a<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                v<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                t <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                a<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//v仍然等0，说明没交换，说明完全有序 </span>
        <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="快速排序"><a href="#快速排序" class="header-anchor">#</a> 快速排序</h3> <p>​		快速排序首先选⼀个基准（你也可以认为是要放到排序后数组正确位置的元素） <code>pivot</code>，然后将数组按照选取的基准 <code>pivot</code> 进行划分。而选取 <code>pivot</code> 的方式又有很多种，所以快速排序具有很多版本。</p> <blockquote><p>总是选择第⼀个元素作为基准 pivot；（以这个举例）
总是选择最后⼀个元素作为基准；
随机的选择⼀个元素作为基准；
选择最中间的元素作为基准；</p></blockquote> <p>​		快速排序的关键是划分 partion() 。每⼀趟划分，我们就可以将作为 <code>pivot</code> 的值 <code>x</code> 放到排序数组的正确位置，并且将所有比 <code>x</code> 小的放到 <code>x</code> 的左边，所有比 <code>x</code> 大的元素放到 <code>x</code> 的右边。而且划分操作的时间复杂度是线性的奥，即O（n）量级！</p> <p>​		快速排序是双指针的一种应用，其实不用特意去判断到底左右指针那根要动，两根指针是前后交替进行移动的。</p> <ul><li>时间复杂度最好情况为O(nlogn)，最坏情况为O(n^2^)，平均复杂度O(nlogn)</li> <li>空间复杂度为O (logn)</li> <li>是一个不稳定排序</li></ul> <p><strong>画图演示过程</strong></p> <p>​		由于快速排序的操作过多，这里只演示一次根据基准数的排序。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408031338679.png" alt="image-20240803133849556"></p> <p><strong>代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token comment">//快速排序：是就地排序,是不稳定的排序 时间复杂度O（nlogn） </span>
<span class="token comment">//选取第一个元素做基准数 </span>
<span class="token keyword">void</span> <span class="token function">Quick_Sort1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> x<span class="token punctuation">;</span>
        i <span class="token operator">=</span> l<span class="token punctuation">;</span>
        j <span class="token operator">=</span> r<span class="token punctuation">;</span>
        x <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&gt;</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                j<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 从右向左找第一个小于x的数</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 将小于x的值放在左边</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                i<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 从左向右找第一个大于x的数</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                a<span class="token punctuation">[</span>j<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 将大于x的值放在右边</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token function">Quick_Sort1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> l<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Quick_Sort1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//选取中间的元素做基准数 </span>
<span class="token keyword">void</span> <span class="token function">Quick_Sort2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> i<span class="token operator">=</span>l<span class="token punctuation">;</span>
    <span class="token keyword">int</span> j<span class="token operator">=</span>r<span class="token punctuation">;</span>
    <span class="token keyword">int</span> mid<span class="token operator">=</span>a<span class="token punctuation">[</span><span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span>j<span class="token punctuation">)</span><span class="token comment">//必须带等号，避免死循环，</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span>mid<span class="token punctuation">)</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&gt;</span>mid<span class="token punctuation">)</span>j<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span>j<span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            <span class="token keyword">int</span> t<span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
            j<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>l<span class="token operator">&lt;</span>j<span class="token punctuation">)</span><span class="token function">Quick_Sort2</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>l<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>r<span class="token punctuation">)</span><span class="token function">Quick_Sort2</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>i<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token comment">//元素个数</span>
    <span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">Quick_Sort1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> 

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><h2 id="选择排序"><a href="#选择排序" class="header-anchor">#</a> 选择排序</h2> <h3 id="简单的选择排序"><a href="#简单的选择排序" class="header-anchor">#</a> 简单的选择排序</h3> <p>​		简单选择排序就是重复遍历数组找出最小的值，然后进行交换从而实现排序，由于实现简单，有之前排序的铺垫理解也简单。同样不再画图。</p> <ul><li>时间复杂度为O(n^2^)</li> <li>空间复杂度为O(1)</li> <li>是一个不稳定排序</li></ul> <p><strong>代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>

<span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span>t<span class="token punctuation">;</span>
<span class="token keyword">int</span> minn<span class="token punctuation">;</span> 

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> minn<span class="token punctuation">;</span><span class="token comment">//最小元素的下标 </span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//简单选择排序:就地排序， 时间复杂度O(n^2) ,不稳定的排序 </span>
    <span class="token comment">//简单选择排序:进行n-1趟排序，每次都在乱序区中选择一个最小的元素，放在乱序的第一个位置，此时有序区+1，乱序区-1 </span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//控制循环趟数</span>
    <span class="token punctuation">{</span>
        minn<span class="token operator">=</span>i<span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//控制乱序区，去找最小的元素的位置</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>a<span class="token punctuation">[</span>minn<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                minn<span class="token operator">=</span>j<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//把minn位置的元素放在乱序区的第一个位置，即i位置</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>minn<span class="token operator">!=</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">int</span> t<span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>minn<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>minn<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span> 

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="堆排序"><a href="#堆排序" class="header-anchor">#</a> 堆排序</h3> <p>堆（Heap）是⼀类基于完全⼆叉树的特殊数据结构。通常将堆分为两种类型：</p> <ol><li>大顶堆（Max Heap）：在大顶堆中，根结点的值必须大于他的孩子结点的值，对于二叉树
中所有子树都满足此规律</li> <li>小顶堆（Min Heap）：在小顶堆中，根结点的值必须小于他的孩子结点的值，对于二叉树
中所有子树都满足此规律</li></ol> <p>二叉堆是满足下面属性的一颗二叉树：</p> <ol><li>二叉堆必定是一颗完全二叉树。二叉堆的此属性也决定了他们适合存储在数组当中。</li> <li>二叉堆要么是小顶堆，要么是大顶堆。小顶二叉堆中的根结点的值是整棵树中的最小值，而且二叉树中的所有顶点及其子树均满足这⼀特性。大顶堆与小顶堆类似，大顶堆的根结点的值是整棵树中的最大值，而且二叉树中所有结点的值也均大于等于其子树结点。</li></ol> <ul><li>时间复杂度为O(nlogn)</li> <li>空间复杂度为O(1)</li> <li>是一个不稳定排序</li></ul> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408031532759.png" alt="image-20240803153231551"></p> <p><strong>二叉堆的存储结构</strong></p> <p>​		⼆叉堆是⼀颗完全⼆叉树，⼀般用数组表示。其中根元素用 arr[0] 表示，而其他结点（第 <code>i</code>个结点的存储位置）满足下表中的特性：</p> <table><thead><tr><th style="text-align:center;">数组表示</th> <th style="text-align:center;">含义</th></tr></thead> <tbody><tr><td style="text-align:center;">arr[(i-1)/2]</td> <td style="text-align:center;">第 i 个结点的父结点</td></tr> <tr><td style="text-align:center;">arr[2*i + 1]</td> <td style="text-align:center;">第 i 个结点的左孩子结点</td></tr> <tr><td style="text-align:center;">arr[2*i + 2]</td> <td style="text-align:center;">第 i 个结点的右孩子结点</td></tr></tbody></table> <p><strong>代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>

<span class="token comment">/*升序排列 
选择排序：基于选择的排序。 ---每次从乱序区选择一个最小的排列（输出） 
   堆排序:就地排序，不稳定 ，时间复杂度O(nlogn) 
   n个元素，保存在a数组中，直接在a数组中
1.初始化成一个小顶堆：
  下标最大的内部节点的下标是几？最后一个内部节点的下标是几？
        n/2
（1）找到最后一个内部节点（n/2）,依次调整每棵子树
        调整过程：依次向下比较调整：若该节点比左右孩子节点中的最小值大，进行交换，直到不满足该条件位置
2.在小顶堆的基础上，进行堆排序
   循环n-1次：
  （1）输出（删除）根节点；
   （2）最后一个位置的节点代替根节点
（3）向下调整
---输入最后一个元素
3.堆中插入一个元素：
（1）把元素放到数组最后
（2）向上和父亲节点比较进行调整

 */</span>
<span class="token keyword">void</span> <span class="token function">downAdjust</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">,</span><span class="token keyword">int</span> m<span class="token punctuation">)</span><span class="token comment">//对以 下标i的元素 为根节点的子树进行向下调整 </span>
<span class="token punctuation">{</span><span class="token comment">//now是当前调整的节点，next是now的孩子，也是下一次要调整的节点 </span>
    <span class="token keyword">int</span> now<span class="token operator">=</span>i<span class="token punctuation">;</span>
    <span class="token keyword">int</span> next<span class="token punctuation">;</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>now<span class="token operator">*</span><span class="token number">2</span><span class="token operator">&lt;=</span>m<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        next<span class="token operator">=</span>now<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//now的左孩子</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>next<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;=</span>m<span class="token operator">&amp;&amp;</span>a<span class="token punctuation">[</span>next<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>a<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            next<span class="token operator">=</span>next<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//now的右孩子 </span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token operator">&lt;=</span>a<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            t<span class="token operator">=</span>a<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>
            now<span class="token operator">=</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">upAdjust</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//now是当前调整的节点，next是now的父亲，也是下一次要调整的节点</span>
    <span class="token keyword">int</span> now<span class="token operator">=</span>n<span class="token punctuation">;</span>
    <span class="token keyword">int</span> next<span class="token punctuation">;</span> 
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>now<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        next<span class="token operator">=</span>now<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">// now的父亲</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">&lt;=</span>a<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//父亲节点比当前节点大 </span>
        <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            t<span class="token operator">=</span>a<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>
            now<span class="token operator">=</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span> 

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token comment">//元素个数</span>
    <span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// </span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//把a数组初始化成小顶堆</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">downAdjust</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>i<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token comment">//堆排序</span>
    <span class="token keyword">int</span> m<span class="token operator">=</span>n<span class="token punctuation">;</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token operator">=</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span>
        a<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>
        m<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token function">downAdjust</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//在堆中插入一个元素；</span>
    n<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">upAdjust</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br></div></div><h2 id="归并排序"><a href="#归并排序" class="header-anchor">#</a> 归并排序</h2> <p>​		归并排序采用了分治的思想。所谓分支就是分而治之的意思。所有采用归并排序时首先要将数组分开来。每次分开是数组数量除以<code>2</code>。</p> <p>​		不断的进行分裂，直到数组的元素数量只有一个。接着就是归并的过程，之前如何分裂的现在就是如何合并的。要注意的是在合并的时候要进行排序。在合并的时候我们只要两个指针，分别指向要合并的两个数组的首元素，然后进行比较，由于带合并数组是有序的，所以只需要比较指针所指向的大小即可。</p> <ul><li>时间复杂度为O(nlogn)</li> <li>空间复杂度为O(n)</li> <li>是一个稳定排序</li></ul> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408041509092.png" alt="image-20240804150934942"></p> <p><strong>代码实现</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">maxx</span> <span class="token expression"><span class="token number">100</span></span></span>
<span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> l<span class="token punctuation">,</span><span class="token keyword">int</span> mid<span class="token punctuation">,</span><span class="token keyword">int</span> r<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//l~mid</span>
    <span class="token comment">//mid+1~r</span>
    <span class="token keyword">int</span> t<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//t数组的下标 </span>
    <span class="token keyword">int</span> i<span class="token operator">=</span>l<span class="token punctuation">;</span>
    <span class="token keyword">int</span> j<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span>mid<span class="token operator">&amp;&amp;</span>j<span class="token operator">&lt;=</span>r<span class="token punctuation">)</span><span class="token comment">// 比较两元素的大小</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            t<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> 
            k<span class="token operator">++</span><span class="token punctuation">;</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            t<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            k<span class="token operator">++</span><span class="token punctuation">;</span>
            j<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span>mid<span class="token punctuation">)</span><span class="token comment">// mid前元素剩余</span>
    <span class="token punctuation">{</span>
        t<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> 
        k<span class="token operator">++</span><span class="token punctuation">;</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j<span class="token operator">&lt;=</span>r<span class="token punctuation">)</span><span class="token comment">// mid后元素剩余</span>
    <span class="token punctuation">{</span>
        t<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> 
        k<span class="token operator">++</span><span class="token punctuation">;</span>
        j<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">// 复制辅助数组到原数组中</span>
    <span class="token punctuation">{</span>
        a<span class="token punctuation">[</span>l<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">merge_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> l<span class="token punctuation">,</span><span class="token keyword">int</span> r<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> mid<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>l<span class="token operator">&lt;</span>r<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        mid<span class="token operator">=</span><span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token comment">//l~mid</span>
        <span class="token function">merge_sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>l<span class="token punctuation">,</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//mid+1~r</span>
        <span class="token function">merge_sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>l<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token comment">//元素个数</span>
    <span class="token keyword">int</span> a<span class="token punctuation">[</span>maxx<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// </span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">merge_sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br></div></div><h2 id="统计排序"><a href="#统计排序" class="header-anchor">#</a> 统计排序</h2> <h3 id="计数排序"><a href="#计数排序" class="header-anchor">#</a> 计数排序</h3> <p>​		计数排序是创建一个<code>排序数组中最大值+1</code>，然后统计排序数组中每个元素的出现顺序，接着在根据每个元素出现的顺序进行输出。</p> <ul><li>时间复杂度为O(n+m)</li> <li>空间复杂度为O(n+m)</li> <li>是一个稳定排序</li></ul> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408041527425.png" alt="image-20240804152744304"></p> <h3 id="桶排序"><a href="#桶排序" class="header-anchor">#</a> 桶排序</h3> <p>​		桶排序是合理的创建几个桶，然后将待排数据根据数据量存放入桶中并进行排序。（ 桶中排序可以使用任意方法进行 ）然后输出桶中元素即可。</p> <ul><li>时间复杂度为O(n)</li> <li>空间复杂度为O(m)</li> <li>是一个稳定排序</li></ul> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408041532134.png" alt="image-20240804153212008"></p> <h3 id="基数排序"><a href="#基数排序" class="header-anchor">#</a> 基数排序</h3> <p>​		基数排序是将所有的数的位数都补充到集合中的最大数的位数，接着从最高位开始对每一位进行排序。</p> <ul><li>时间复杂度为O(n * k)</li> <li>空间复杂度为O(n + k)</li> <li>是一个稳定排序</li></ul> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408041535642.png" alt="image-20240804153531519"></p> <h2 id="排序总览"><a href="#排序总览" class="header-anchor">#</a> 排序总览</h2> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408051414745.png" alt="image-20240805141421614"></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408051413361.png" alt="image-20240805141351207"></p> <h1 id="查找"><a href="#查找" class="header-anchor">#</a> 查找</h1> <h2 id="顺序查找"><a href="#顺序查找" class="header-anchor">#</a> 顺序查找</h2> <p>​		顺序查找就是从线性表中从头到尾进行遍历，若是找到则返回值。</p> <p><strong>代码实现</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    ElemType <span class="token operator">*</span>elem<span class="token punctuation">;</span> <span class="token comment">// 存放查找表中数据元素的数组</span>
    <span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment">// 记录查找表中数据的总数量</span>
<span class="token punctuation">}</span>SSTable<span class="token punctuation">;</span>
<span class="token comment">// 初始化查找表</span>
SSTable <span class="token operator">*</span><span class="token function">initTable</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    SSTable <span class="token operator">*</span>table <span class="token operator">=</span> <span class="token punctuation">(</span>SSTable <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>SSTable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    table<span class="token operator">-&gt;</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    table<span class="token operator">-&gt;</span>elem <span class="token operator">=</span> <span class="token punctuation">(</span>ElemType <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElemType<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>table<span class="token operator">-&gt;</span>elem<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ElemType<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> table<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//查找表查找的功能函数，其中key为关键字</span>
<span class="token keyword">int</span> <span class="token function">search_seq</span><span class="token punctuation">(</span>SSTable <span class="token operator">*</span>st<span class="token punctuation">,</span> keyType key<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 将关键字作为⼀个数据元素存放到查找表的第⼀个位置，起监视哨的作⽤</span>
    st<span class="token operator">-&gt;</span>elem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> st<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
    <span class="token comment">// 从查找表的最后⼀个数据元素依次遍历，⼀直遍历到数组下标为0</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>st<span class="token operator">-&gt;</span>elem<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key<span class="token operator">!=</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	i<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果 i=0，说明查找失败；反之，返回的是含有关键字key的数据元素在查找表中的位置</span>
    <span class="token keyword">return</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="折半查找"><a href="#折半查找" class="header-anchor">#</a> 折半查找</h2> <p>​		折半查找，也称二分查找，在某些情况下相比于顺序查找，使用折半查找算法的效率更高。但是该算法的使用的前提是静态查找表中的数据必须是有序的。</p> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408051439380.png" alt="image-20240805143901099"></p> <p><strong>代码演示过程</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	
	<span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">67</span><span class="token punctuation">,</span><span class="token number">89</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> target <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span>mid <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 闭区间 [left, right]</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token comment">// 循环不变量：</span>
        <span class="token comment">// nums[left-1] &lt; target</span>
        <span class="token comment">// nums[right+1] &gt;= target</span>
        mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 范围缩小到 [mid+1, right]</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 范围缩小到 [left, mid-1]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">)</span>
    	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;这个数下标为%d&quot;</span><span class="token punctuation">,</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
    	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;没有这个数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="红黑树"><a href="#红黑树" class="header-anchor">#</a> 红黑树</h2> <p>​		红黑树可以说是整本数据结构中最为复杂的结构，同时也是408统考中最新增加的内容之一。</p> <p><strong>红黑树的定义</strong></p> <ol><li>每一个结点都有一个颜色，要么是红色，要么是黑色。</li> <li>树的根结点为黑色</li> <li>树中不存在两个相邻的红色节点（红色节点的父结点和孩子结点均不为黑色）</li> <li>从任意⼀个结点出发，包括根结点，到其任何后代<code>NULL</code>结点（默认都是黑色啊）的每条路径都具有相同数量的黑色结点。</li></ol> <p>记住这些定义有一个常用的<strong>口诀</strong>( 这个口诀很重要 )</p> <blockquote><p>左根右， 根叶黑， 不红红， 黑路同</p></blockquote> <ul><li>结论1： 从根节点到叶子节点的最长路径不大于（&lt;=） 最短路径的2倍
最短路径长度： bh
最长路径： h
<code>h&lt;=2bh ===&gt; h/2&lt;=bh</code>;</li> <li>结论2： 有n个内部结点的红黑树的高度 h&lt;=2log(n+1); 红黑树操作时间复杂度都O(logn)</li></ul> <h3 id="红黑树的插入"><a href="#红黑树的插入" class="header-anchor">#</a> 红黑树的插入</h3> <p>​		首先需要清楚的是插入节点一定是红色的，红黑树插入有三种情况。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071320478.png" alt="image-20240807132028343"></p> <h4 id="根节点"><a href="#根节点" class="header-anchor">#</a> 根节点</h4> <p>​		若插入的是根节点，那就直接让根节点变黑即可。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071322803.png" alt="image-20240807132237693"></p> <h4 id="叔叔节点为红色时"><a href="#叔叔节点为红色时" class="header-anchor">#</a> 叔叔节点为红色时</h4> <p>​		若插入节点的叔叔是红色节点，那么要先将插入节点的叔父爷进行变色，再将爷爷节点变为插入节点继续进行判断红黑树是否失衡。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071323263.png" alt="image-20240807132311150"></p> <h4 id="叔叔节点为黑色时"><a href="#叔叔节点为黑色时" class="header-anchor">#</a> 叔叔节点为黑色时</h4> <p>​		若插入节点的叔叔节点为黑色时，那要先判断是四种旋转的哪一种。旋转后要改变旋转点和被旋转点的颜色。（ LL型和RR型是父亲节点和爷爷节点变色，LR型和RL型是插入节点和爷爷节点变色 ）</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071328205.png" alt="image-20240807132842973"></p> <h4 id="红黑树的构建画图演示"><a href="#红黑树的构建画图演示" class="header-anchor">#</a> 红黑树的构建画图演示</h4> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071329654.png" alt="image-20240807132945391"></p> <h3 id="红黑树的删除"><a href="#红黑树的删除" class="header-anchor">#</a> 红黑树的删除</h3> <p>​		红黑树的删除操作是红黑树中最为复杂的一步。其中分成了很多的情况。由于红黑树是二叉平衡树的扩张，所以二叉平衡树的删除在红黑树这里仍然适用。简单来说，红黑树的节点删除分为三种情况，有两个孩子、一个孩子和没有孩子。有两个孩子转化为只有一个孩子或是没有孩子的情况（ 即用右子树的最小值来代替或是用左子树的最大值来代替，需要注意的是代替仅仅是值代替，颜色不用代替）。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408081428207.png" alt="image-20240808142822111"></p> <h4 id="只有一个孩子"><a href="#只有一个孩子" class="header-anchor">#</a> 只有一个孩子</h4> <p>​		若删除节点只有一个孩子，那么只有可能是<code>黑+红</code>的组合（ 红为黑的子节点，不能调换位置 ），其他情况都不可能存在。由于黑路同的性质，所以只需要用红孩子代替删除节点，并变色即可完成删除。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071402959.png" alt="image-20240807140246728"></p> <h4 id="没有孩子的红色节点"><a href="#没有孩子的红色节点" class="header-anchor">#</a> 没有孩子的红色节点</h4> <p>​		若删除的节点是没有孩子的红色节点，那么节点将这个红色节点删除即可。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071406984.png" alt="image-20240807140606887"></p> <h4 id="没有孩子的黑色节点-兄弟是黑色且至少有一个红孩"><a href="#没有孩子的黑色节点-兄弟是黑色且至少有一个红孩" class="header-anchor">#</a> 没有孩子的黑色节点，兄弟是黑色且至少有一个红孩</h4> <p>​		若删除节点没有孩子的黑色节点，它兄弟是黑色且至少有一个红孩。那么就要先进行<code>变色+旋转</code>处理。这里变色的情况不同。LL型和RR型变色时是下图中<code>son</code>变<code>sibling</code>、<code>sibling</code>变<code>parent</code>、<code>parent</code>变成黑色。LR型和RL型是直接<code>son</code>变<code>parent</code>、<code>parent</code>变黑即可。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071413856.png" alt="image-20240807141348612"></p> <h4 id="没有孩子的黑色节点-兄弟是黑色且孩子都是黑色"><a href="#没有孩子的黑色节点-兄弟是黑色且孩子都是黑色" class="header-anchor">#</a> 没有孩子的黑色节点，兄弟是黑色且孩子都是黑色</h4> <p>​		若删除节点是没有孩子的黑色节点且它的兄弟节点是黑色，孩子也都为黑色。那么就是将兄弟变红，并将双黑节点上移。</p> <ul><li>第一种情况，若双黑节点上移遇到根节点，那么就直接将双黑节点变成单黑节点即可。</li> <li>第二种情况，若双黑节点上移遇到红节点，那么就直接将双黑节点变成单黑即可。</li> <li>第三种情况，双黑节点上移遇到黑色节点，那么就继续为这个黑色节点为双黑节点进行调整。</li></ul> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071442981.png" alt="image-20240807144231761"></p> <h4 id="没有孩子的黑色节点-兄弟是红色"><a href="#没有孩子的黑色节点-兄弟是红色" class="header-anchor">#</a> 没有孩子的黑色节点，兄弟是红色</h4> <p>​		若删除节点是没有孩子的黑色节点且它的兄弟节点是红色，将删除节点的兄父变色，让父亲节点向双黑节点旋转，将双黑节点上移并进一步的进行判断。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071452644.png" alt="image-20240807145234526"></p> <h4 id="红黑树删除画图演示"><a href="#红黑树删除画图演示" class="header-anchor">#</a> 红黑树删除画图演示</h4> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408071459372.png" alt="image-20240807145904102"></p> <h3 id="红黑树代码"><a href="#红黑树代码" class="header-anchor">#</a> 红黑树代码</h3> <p>​		408不做要求，兴趣研究（ 代码量在400行左右 ）。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">RED</span> <span class="token expression"><span class="token number">0</span></span><span class="token comment">//红色结点</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BLACK</span> <span class="token expression"><span class="token number">1</span></span><span class="token comment">//黑色结点</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span>
    <span class="token keyword">int</span> color<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span><span class="token operator">*</span> l<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span><span class="token operator">*</span> r<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span><span class="token operator">*</span> parent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Node<span class="token punctuation">,</span><span class="token operator">*</span>RBTree<span class="token punctuation">;</span>



Node<span class="token operator">*</span> <span class="token function">creatRoot</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> root<span class="token operator">=</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>data <span class="token operator">=</span>key<span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>color <span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
    root<span class="token operator">-&gt;</span>parent<span class="token operator">=</span>root<span class="token operator">-&gt;</span>l <span class="token operator">=</span>root<span class="token operator">-&gt;</span>r <span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> root<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Node<span class="token operator">*</span> <span class="token function">craetNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span>Node<span class="token operator">*</span> parent<span class="token punctuation">,</span>Node<span class="token operator">*</span>left<span class="token punctuation">,</span>Node<span class="token operator">*</span> right<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> n<span class="token operator">=</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    n<span class="token operator">-&gt;</span>data <span class="token operator">=</span>key<span class="token punctuation">;</span>
    n<span class="token operator">-&gt;</span>color<span class="token operator">=</span>RED<span class="token punctuation">;</span>
    n<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>parent<span class="token punctuation">;</span>
    n<span class="token operator">-&gt;</span>l <span class="token operator">=</span>left<span class="token punctuation">;</span>
    n<span class="token operator">-&gt;</span>r <span class="token operator">=</span>right<span class="token punctuation">;</span>
    <span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//以 红黑树的 x结点为中心左旋</span>
Node<span class="token operator">*</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>RBTree root<span class="token punctuation">,</span>Node<span class="token operator">*</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//y指向x的右孩子 </span>
    Node<span class="token operator">*</span> y<span class="token operator">=</span>x<span class="token operator">-&gt;</span>r <span class="token punctuation">;</span>
    <span class="token comment">//将y的左孩子变成x的右孩子,</span>
    x<span class="token operator">-&gt;</span>r <span class="token operator">=</span>y<span class="token operator">-&gt;</span>l <span class="token punctuation">;</span> 
    <span class="token comment">//如果y-&gt;l非空，x变成y-&gt;l的父亲 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">-&gt;</span>l <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        y<span class="token operator">-&gt;</span>l<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

    <span class="token comment">//处理y和x-》parent的关系	</span>
    y<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>x<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">-&gt;</span>parent <span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        root<span class="token operator">=</span>y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span>x<span class="token operator">-&gt;</span>parent<span class="token operator">-&gt;</span>l <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            x<span class="token operator">-&gt;</span>parent<span class="token operator">-&gt;</span>l<span class="token operator">=</span>y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            x<span class="token operator">-&gt;</span>parent<span class="token operator">-&gt;</span>r<span class="token operator">=</span>y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    y<span class="token operator">-&gt;</span>l <span class="token operator">=</span>x<span class="token punctuation">;</span>
    x<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>y<span class="token punctuation">;</span>
    <span class="token keyword">return</span> root<span class="token punctuation">;</span>	  
<span class="token punctuation">}</span> 
<span class="token comment">//以 红黑树的 x结点为中心右旋</span>
Node<span class="token operator">*</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>RBTree root<span class="token punctuation">,</span>Node<span class="token operator">*</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//y指向x的左孩子 </span>
    Node<span class="token operator">*</span> y<span class="token operator">=</span>x<span class="token operator">-&gt;</span>l <span class="token punctuation">;</span>
    <span class="token comment">//将y的右孩子变成x的左孩子,</span>
    x<span class="token operator">-&gt;</span>l <span class="token operator">=</span>y<span class="token operator">-&gt;</span>r <span class="token punctuation">;</span> 
    <span class="token comment">//如果y-&gt;r非空，x变成y-&gt;r的父亲 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">-&gt;</span>r <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        y<span class="token operator">-&gt;</span>r<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

    <span class="token comment">//处理y和x-》parent的关系	</span>
    y<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>x<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">-&gt;</span>parent <span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        root<span class="token operator">=</span>y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span>x<span class="token operator">-&gt;</span>parent<span class="token operator">-&gt;</span>l <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            x<span class="token operator">-&gt;</span>parent<span class="token operator">-&gt;</span>l<span class="token operator">=</span>y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            x<span class="token operator">-&gt;</span>parent<span class="token operator">-&gt;</span>r<span class="token operator">=</span>y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    y<span class="token operator">-&gt;</span>r <span class="token operator">=</span>x<span class="token punctuation">;</span>
    x<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>y<span class="token punctuation">;</span>
    <span class="token keyword">return</span> root<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 

Node<span class="token operator">*</span> <span class="token function">fixup</span><span class="token punctuation">(</span>RBTree root<span class="token punctuation">,</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> parent<span class="token punctuation">;</span>
    Node<span class="token operator">*</span> gparent<span class="token punctuation">;</span><span class="token comment">//爷爷</span>
    Node<span class="token operator">*</span> uncle<span class="token punctuation">;</span>
    parent<span class="token operator">=</span>node<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>parent<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>parent<span class="token operator">-&gt;</span>color <span class="token operator">==</span>RED<span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token comment">//父亲红，爷爷黑色</span>

        gparent<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
        <span class="token comment">//父亲结点是爷爷结点的右孩子（RR/RL）</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token operator">==</span>gparent<span class="token operator">-&gt;</span>r<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            uncle<span class="token operator">=</span>gparent<span class="token operator">-&gt;</span>l<span class="token punctuation">;</span>
            <span class="token comment">//1.叔叔是红色</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>uncle<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>uncle<span class="token operator">-&gt;</span>color <span class="token operator">==</span>RED<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                uncle<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                parent<span class="token operator">-&gt;</span>color <span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                gparent<span class="token operator">-&gt;</span>color <span class="token operator">=</span>RED<span class="token punctuation">;</span>
                node<span class="token operator">=</span>gparent<span class="token punctuation">;</span>
                parent<span class="token operator">=</span>node<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//叔叔是黑色的-&gt;RR,RL</span>
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">==</span>parent<span class="token operator">-&gt;</span>l<span class="token punctuation">)</span> 
                <span class="token punctuation">{</span>
                    <span class="token comment">//RL</span>
                    root<span class="token operator">=</span><span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    Node<span class="token operator">*</span> t<span class="token punctuation">;</span>
                    t<span class="token operator">=</span>node<span class="token punctuation">;</span>
                    node<span class="token operator">=</span>parent<span class="token punctuation">;</span>
                    parent<span class="token operator">=</span>t<span class="token punctuation">;</span> 
                <span class="token punctuation">}</span>
                <span class="token comment">//RR;</span>
                parent<span class="token operator">-&gt;</span>color <span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                gparent<span class="token operator">-&gt;</span>color <span class="token operator">=</span>RED<span class="token punctuation">;</span>
                root<span class="token operator">=</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>gparent<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>			
        <span class="token punctuation">}</span> 
        <span class="token comment">//父亲结点是爷爷结点的左孩子（LL/LR）</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token operator">==</span>gparent<span class="token operator">-&gt;</span>l<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            uncle<span class="token operator">=</span>gparent<span class="token operator">-&gt;</span>r<span class="token punctuation">;</span>
            <span class="token comment">//1.叔叔是红色</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>uncle<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>uncle<span class="token operator">-&gt;</span>color<span class="token operator">==</span>RED<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                uncle<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                parent<span class="token operator">-&gt;</span>color <span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                gparent<span class="token operator">-&gt;</span>color <span class="token operator">=</span>RED<span class="token punctuation">;</span>
                node<span class="token operator">=</span>gparent<span class="token punctuation">;</span>
                parent<span class="token operator">=</span>node<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//叔叔是黑色的-&gt;LR,LL</span>
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">==</span>parent<span class="token operator">-&gt;</span>r<span class="token punctuation">)</span> 
                <span class="token punctuation">{</span>
                    <span class="token comment">//LR</span>
                    root<span class="token operator">=</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    Node<span class="token operator">*</span> t<span class="token punctuation">;</span>
                    t<span class="token operator">=</span>node<span class="token punctuation">;</span>
                    node<span class="token operator">=</span>parent<span class="token punctuation">;</span>
                    parent<span class="token operator">=</span>t<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//LL;</span>
                parent<span class="token operator">-&gt;</span>color <span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                gparent<span class="token operator">-&gt;</span>color <span class="token operator">=</span>RED<span class="token punctuation">;</span>
                root<span class="token operator">=</span><span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>gparent<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>			
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span> 
    <span class="token comment">//重新给根节点变黑色 </span>
    root<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
    <span class="token keyword">return</span> root<span class="token punctuation">;</span>	
<span class="token punctuation">}</span>


RBTree <span class="token function">insert</span><span class="token punctuation">(</span>RBTree root<span class="token punctuation">,</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//判断树是否为空</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        root<span class="token operator">=</span><span class="token function">creatRoot</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> root <span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

    Node<span class="token operator">*</span> x<span class="token operator">=</span>root<span class="token punctuation">;</span><span class="token comment">//遍历找key插入的位置 </span>
    Node<span class="token operator">*</span> xp<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//x的父亲 </span>
    <span class="token comment">//根据BST找插入的位置</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        xp<span class="token operator">=</span>x<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token operator">&lt;</span>x<span class="token operator">-&gt;</span>data <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            x<span class="token operator">=</span>x<span class="token operator">-&gt;</span>l<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            x<span class="token operator">=</span>x<span class="token operator">-&gt;</span>r<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
    Node<span class="token operator">*</span> n<span class="token operator">=</span><span class="token function">craetNode</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>xp<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token operator">&lt;</span>xp<span class="token operator">-&gt;</span>data <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        xp<span class="token operator">-&gt;</span>l <span class="token operator">=</span>n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        xp<span class="token operator">-&gt;</span>r <span class="token operator">=</span>n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    root<span class="token operator">=</span><span class="token function">fixup</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> root<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//////////////////////////////////////////////////////////</span>
<span class="token comment">/////////////////////////////////////////////////////////</span>
<span class="token comment">//删除：在根为root的红黑树中，删除值为key的节点</span>
Node<span class="token operator">*</span> <span class="token function">search</span><span class="token punctuation">(</span>RBTree root<span class="token punctuation">,</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span>root<span class="token operator">-&gt;</span>data <span class="token operator">==</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> root<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token operator">&lt;</span>root<span class="token operator">-&gt;</span>data <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>l <span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>r <span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>	
<span class="token punctuation">}</span>

<span class="token comment">//删除后调整：</span>
RBTree <span class="token function">delete_fixup</span><span class="token punctuation">(</span>RBTree root<span class="token punctuation">,</span>Node<span class="token operator">*</span> x<span class="token punctuation">,</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> bro<span class="token punctuation">;</span><span class="token comment">//x的兄弟 </span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">-&gt;</span>color<span class="token operator">==</span>BLACK<span class="token punctuation">)</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">!=</span>root<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span>parent<span class="token operator">-&gt;</span>r <span class="token punctuation">)</span><span class="token comment">//2.1</span>
        <span class="token punctuation">{</span>	   	
            bro<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>l<span class="token punctuation">;</span>
            <span class="token comment">//(c)bro是红色，转化成黑色</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>color<span class="token operator">==</span>RED<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                bro<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                parent<span class="token operator">-&gt;</span>color<span class="token operator">=</span>RED<span class="token punctuation">;</span>
                root<span class="token operator">=</span><span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//旋转之后x的兄弟发生变化 </span>
                bro<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>l<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> 
            <span class="token comment">//此时bro一定是黑色的，写（b）和（a） </span>
            <span class="token comment">//(b)bro是黑的，bro的两个孩子是黑的</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">-&gt;</span>color<span class="token operator">==</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>r<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>r<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>bro<span class="token operator">-&gt;</span>r<span class="token operator">-&gt;</span>color<span class="token operator">==</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                bro<span class="token operator">-&gt;</span>color<span class="token operator">=</span>RED<span class="token punctuation">;</span>
                x<span class="token operator">=</span>parent<span class="token punctuation">;</span>
                parent<span class="token operator">=</span>x<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>	
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span><span class="token comment">//（a） </span>
                <span class="token comment">//(a.2)bro的左孩子为黑，右为红 </span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">-&gt;</span>color<span class="token operator">==</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    bro<span class="token operator">-&gt;</span>color <span class="token operator">=</span>RED<span class="token punctuation">;</span>
                    bro<span class="token operator">-&gt;</span>r<span class="token operator">-&gt;</span>color <span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                    root<span class="token operator">=</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>bro<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    bro<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>l<span class="token punctuation">;</span>

                <span class="token punctuation">}</span> 
                <span class="token comment">//(a.1)</span>
                bro<span class="token operator">-&gt;</span>color<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>color<span class="token punctuation">;</span>
                parent<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                bro<span class="token operator">-&gt;</span>l<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                root<span class="token operator">=</span><span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>


        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token comment">//2.2</span>
        <span class="token punctuation">{</span>
            bro<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>r<span class="token punctuation">;</span>
            <span class="token comment">//(c)bro是红色，转化成黑色</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>color<span class="token operator">==</span>RED<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                bro<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                parent<span class="token operator">-&gt;</span>color<span class="token operator">=</span>RED<span class="token punctuation">;</span>
                root<span class="token operator">=</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//旋转之后x的兄弟发生变化 </span>
                bro<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>r<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> 
            <span class="token comment">//此时bro一定是黑色的，写（b）和（a） </span>
            <span class="token comment">//(b)bro是黑的，bro的两个孩子是黑的</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>r<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>r<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>bro<span class="token operator">-&gt;</span>r<span class="token operator">-&gt;</span>color<span class="token operator">==</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>bro<span class="token operator">-&gt;</span>l<span class="token operator">-&gt;</span>color<span class="token operator">==</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
            <span class="token punctuation">{</span>
                bro<span class="token operator">-&gt;</span>color<span class="token operator">=</span>RED<span class="token punctuation">;</span>
                x<span class="token operator">=</span>parent<span class="token punctuation">;</span>
                parent<span class="token operator">=</span>x<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>	
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span><span class="token comment">//（a） </span>
                <span class="token comment">//(a.2)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>r<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span><span class="token punctuation">(</span>bro<span class="token operator">-&gt;</span>r <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>bro<span class="token operator">-&gt;</span>r<span class="token operator">-&gt;</span>color<span class="token operator">==</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    bro<span class="token operator">-&gt;</span>color <span class="token operator">=</span>RED<span class="token punctuation">;</span>
                    bro<span class="token operator">-&gt;</span>l<span class="token operator">-&gt;</span>color <span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                    root<span class="token operator">=</span><span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>bro<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    bro<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>r<span class="token punctuation">;</span>

                <span class="token punctuation">}</span> 
                <span class="token comment">//(a.1)</span>
                bro<span class="token operator">-&gt;</span>color<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>color<span class="token punctuation">;</span>
                parent<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                bro<span class="token operator">-&gt;</span>r<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
                root<span class="token operator">=</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>	

    <span class="token punctuation">}</span>
    <span class="token comment">/////////////////////////bug:上课时没有写返回以及赋值黑色，也就是少了331---336的代码 </span>
    <span class="token comment">//x为红色，直接赋值为黑色 </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        x<span class="token operator">-&gt;</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> root<span class="token punctuation">;</span> 


<span class="token punctuation">}</span> 

<span class="token comment">//在以root为根的树中，删除节点node</span>
RBTree <span class="token function">delete_rbtNode</span><span class="token punctuation">(</span>RBTree root<span class="token punctuation">,</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>l<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>node<span class="token operator">-&gt;</span>r<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Node<span class="token operator">*</span> replace<span class="token operator">=</span>node<span class="token operator">-&gt;</span>r<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>replace<span class="token operator">-&gt;</span>l<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            replace<span class="token operator">=</span>replace<span class="token operator">-&gt;</span>l<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
        node<span class="token operator">-&gt;</span>data <span class="token operator">=</span>replace<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>  
        node<span class="token operator">=</span>replace<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//删除度为1/0的node</span>
    Node<span class="token operator">*</span> child<span class="token punctuation">;</span><span class="token comment">//Node的孩子</span>
    Node<span class="token operator">*</span> parent<span class="token operator">=</span>node<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ncolor<span class="token operator">=</span>node<span class="token operator">-&gt;</span>color<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">-&gt;</span>l<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        child<span class="token operator">=</span>node<span class="token operator">-&gt;</span>l<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        child<span class="token operator">=</span>node<span class="token operator">-&gt;</span>r<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>child<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        child<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>parent<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token operator">==</span>parent<span class="token operator">-&gt;</span>l <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            parent<span class="token operator">-&gt;</span>l <span class="token operator">=</span>child<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            parent<span class="token operator">-&gt;</span>r <span class="token operator">=</span>child<span class="token punctuation">;</span>	
        <span class="token punctuation">}</span>	
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        root<span class="token operator">=</span>child<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>ncolor<span class="token operator">==</span>BLACK<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        root<span class="token operator">=</span><span class="token function">delete_fixup</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>child<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> root<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 


RBTree <span class="token function">delete_rbtree</span><span class="token punctuation">(</span>RBTree root<span class="token punctuation">,</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Node<span class="token operator">*</span> k<span class="token operator">=</span><span class="token function">search</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>k<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        root<span class="token operator">=</span><span class="token function">delete_rbtNode</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> root<span class="token punctuation">;</span>

<span class="token punctuation">}</span> 

<span class="token comment">//中序遍历输出 </span>
<span class="token keyword">void</span> <span class="token function">inorder</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> tree<span class="token punctuation">)</span>
<span class="token punctuation">{</span>    

    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">inorder</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d &quot;</span><span class="token punctuation">,</span> tree<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> tree<span class="token operator">-&gt;</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>parent<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> tree<span class="token operator">-&gt;</span>parent<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-1\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">inorder</span><span class="token punctuation">(</span>tree<span class="token operator">-&gt;</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    RBTree root<span class="token operator">=</span><span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">9</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        root<span class="token operator">=</span><span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token function">inorder</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">=</span><span class="token function">delete_rbtree</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">inorder</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">=</span><span class="token function">delete_rbtree</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">inorder</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">=</span><span class="token function">delete_rbtree</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">inorder</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">=</span><span class="token function">delete_rbtree</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">inorder</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token operator">=</span><span class="token function">delete_rbtree</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">inorder</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br></div></div><h2 id="b树"><a href="#b树" class="header-anchor">#</a> B树</h2> <p>​		B树用于减少与硬盘的交互的次数。B树与AVL树和红黑树的最大差距就是AVL树和红黑树常常用来处理存放在内存中数据量比较少的数据，而B树常用于与数量大存放在硬盘中情况。</p> <h3 id="b树的特性"><a href="#b树的特性" class="header-anchor">#</a> B树的特性</h3> <ol><li>所有的叶子结点都出现在同一层上，并且不带信息(可以看做是外部结点或查找失败的结点，实际上这些结点不存在，指向这些结点的指针为空)。</li> <li>每个结点包含的关键字个数有上界和下界。用一个被称为 B-树的 最小度数 的固定整数 <code>t &gt;= 2</code>来表示这些界 ，其中t取决于磁盘块的大小：
2.1、除根结点以外的每个结点必须至少有<code>t - 1</code>个关键字。因此，除了根结点以外的每个内部结点有 <code>t</code> 个孩⼦。如果树非空，根结点至少有一个关键字。
2.2、每个结点至多包含<code>2t-1</code>个关键字。</li> <li>一个包含x个关键字的结点有<code>x + 1</code>个孩子；</li> <li>一个结点中的所有关键字升序排列，两个关键字<code>k1</code>和<code>k2</code>之间的孩子结点的所有关键字 <code>key</code> 在<code>(k1,k2)</code>的范围之内。</li> <li>与二叉排序树不同， B-树的搜索是从根结点开始，根据结点的孩⼦树做多路分支选择，而二叉排序树做的是二路分支选择，每一次判断都会进行一次磁盘 I/O操作。</li> <li>与其他平很二叉树类似， B-树查找、插入和删除操作的时间复杂度为O(logn)量级。</li></ol> <p>简单来说B树要满足以下性质</p> <ul><li><p>平衡</p> <ul><li>所有的叶节点</li></ul></li> <li><p>有序</p> <ul><li>结点内有序</li> <li>任一元素的左子树都小于它，右子树都大于它</li></ul></li> <li><p>多路</p> <ul><li>最多：m个分支,m -1个元素（ m阶B树 ）</li> <li>最少
<ul><li>根节点：2个分支，1个元素</li> <li>其他节点：m/2（向上取整）个分支，m/2-1（向上取整）个元素</li></ul></li></ul></li></ul> <h3 id="b树的插入"><a href="#b树的插入" class="header-anchor">#</a> B树的插入</h3> <p>​		B树的插入需要注意这棵B树是几阶B树。若是元素数量超过<code>阶数/2-1</code>那么发生了上溢出，要进行分裂，分裂的途中要注意在分裂时，自己的子树也会一起被分裂出去。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408081432741.png" alt="image-20240808143213640"></p> <h4 id="b树的构建画图演示"><a href="#b树的构建画图演示" class="header-anchor">#</a> B树的构建画图演示</h4> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408081357783.png" alt="image-20240808135741377"></p> <h3 id="b树的删除"><a href="#b树的删除" class="header-anchor">#</a> B树的删除</h3> <p>​		B树和AVL树一样，若是删除有多个孩子的节点，则要将删除节点与其直接后继或是直接前驱进行交换，然后进行删除。下列兄弟不够借的情况中，由于出现合并操作，所以父节点也可能出现下溢出情况，要进行进一步的判断。</p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408081438144.png" alt="image-20240808143809067"></p> <h4 id="b树的删除画图演示"><a href="#b树的删除画图演示" class="header-anchor">#</a> B树的删除画图演示</h4> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408081521671.png" alt="image-20240808152158410"></p> <h3 id="b树的代码"><a href="#b树的代码" class="header-anchor">#</a> B树的代码</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">m</span> <span class="token expression"><span class="token number">5</span></span><span class="token comment">//B树的阶设为5</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">M</span> <span class="token expression"><span class="token punctuation">(</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span></span><span class="token comment">//结点中关键字最少有M个 </span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> key<span class="token punctuation">[</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//从下标1位置开始存放 </span>
    <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token operator">*</span> ptr<span class="token punctuation">[</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//从下标0位置开始存放 </span>
    <span class="token keyword">int</span> keynum<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">BTNode</span><span class="token operator">*</span> parent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>BTNode<span class="token punctuation">,</span><span class="token operator">*</span>BTree<span class="token punctuation">;</span>
<span class="token comment">//查找的结果集</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
    BTNode<span class="token operator">*</span> pt<span class="token punctuation">;</span><span class="token comment">//找到的结点</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token comment">//在pt结点中的位置</span>
    <span class="token keyword">int</span> flag<span class="token punctuation">;</span><span class="token comment">//1:key已经在B树中了，0：key不在B树中， </span>
<span class="token punctuation">}</span>Result<span class="token punctuation">;</span> 
<span class="token keyword">void</span> <span class="token function">MegerBro</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> l<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> parent<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> r<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> t<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&amp;</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">Restore</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> t<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>BTNode<span class="token operator">*</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//结点p中找第一个大于等于k的位置</span>
    <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span>p<span class="token operator">-&gt;</span>keynum<span class="token operator">&amp;&amp;</span>k<span class="token operator">&gt;</span>p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token comment">//在B树中查找关键字K，并用r返回查找结果</span>
Result <span class="token function">SearchBTree</span><span class="token punctuation">(</span>BTree t<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>   
    Result r<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    BTNode<span class="token operator">*</span> p<span class="token operator">=</span>t<span class="token punctuation">;</span><span class="token comment">//遍历节点的指针</span>
    BTNode<span class="token operator">*</span> q<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//指向p的双亲结点 </span>
    <span class="token keyword">int</span> tag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//是否找到k的标记 </span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>tag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        i<span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在结点p中找第一个大于等于k的位置 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span>p<span class="token operator">-&gt;</span>keynum<span class="token operator">&amp;&amp;</span>k<span class="token operator">==</span>p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span><span class="token comment">//k已经在B树中了 </span>
            tag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">//继续去p的第i-1个孩子中找 </span>
            q<span class="token operator">=</span>p<span class="token punctuation">;</span>
            p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span> 
    <span class="token keyword">if</span><span class="token punctuation">(</span>tag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token comment">//k已经在B树中了 </span>
        r<span class="token punctuation">.</span>pt<span class="token operator">=</span>p<span class="token punctuation">;</span>
        r<span class="token punctuation">.</span>i<span class="token operator">=</span>i<span class="token punctuation">;</span>
        r<span class="token punctuation">.</span>flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">//说明k不在B树中，p指向了外部结点，q指向p的父亲结点（也就是某个终端节点 </span>
        r<span class="token punctuation">.</span>pt <span class="token operator">=</span>q<span class="token punctuation">;</span>
        r<span class="token punctuation">.</span>i<span class="token operator">=</span>i<span class="token punctuation">;</span>
        r<span class="token punctuation">.</span>flag <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> 	
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token comment">//输出B树</span>
<span class="token keyword">void</span>  <span class="token function">printfBTree</span><span class="token punctuation">(</span>BTree t<span class="token punctuation">,</span> <span class="token keyword">int</span> tab<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>tab<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;	&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>t<span class="token operator">-&gt;</span>keynum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span>t<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>t<span class="token operator">-&gt;</span>keynum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printfBTree</span><span class="token punctuation">(</span>t<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>tab<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">newRoot</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> t<span class="token punctuation">,</span>BTNode<span class="token operator">*</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>BTNode<span class="token operator">*</span> ap<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    t<span class="token operator">=</span><span class="token punctuation">(</span>BTree<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BTNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>k<span class="token punctuation">;</span>
    t<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        p<span class="token operator">-&gt;</span>parent<span class="token operator">=</span>t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    t<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>ap<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>ap<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ap<span class="token operator">-&gt;</span>parent<span class="token operator">=</span>t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    t<span class="token operator">-&gt;</span>keynum<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    t<span class="token operator">-&gt;</span>parent<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> q<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">,</span>BTNode<span class="token operator">*</span> ap<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> n<span class="token operator">=</span>q<span class="token operator">-&gt;</span>keynum<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>n<span class="token punctuation">;</span>j<span class="token operator">&gt;=</span>i<span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        q<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        q<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>	
    <span class="token punctuation">}</span>
    q<span class="token operator">-&gt;</span>key <span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>x<span class="token punctuation">;</span>
    q<span class="token operator">-&gt;</span>ptr <span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>ap<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>ap<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ap<span class="token operator">-&gt;</span>parent<span class="token operator">=</span>q<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    q<span class="token operator">-&gt;</span>keynum<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">split</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> q<span class="token punctuation">,</span><span class="token keyword">int</span> s<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> ap<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//把q结点从s位置分裂，分裂出一个新结点ap；</span>
    <span class="token keyword">int</span> n<span class="token operator">=</span>q<span class="token operator">-&gt;</span>keynum<span class="token punctuation">;</span>
    ap<span class="token operator">=</span><span class="token punctuation">(</span>BTree<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>BTNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ap<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>s<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">,</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ap<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        ap<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ap<span class="token operator">-&gt;</span>keynum <span class="token operator">=</span>n<span class="token operator">-</span>s<span class="token punctuation">;</span>
    ap<span class="token operator">-&gt;</span>parent <span class="token operator">=</span>q<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token operator">-</span>s<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ap<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            ap<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span>parent<span class="token operator">=</span>ap<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    q<span class="token operator">-&gt;</span>keynum<span class="token operator">=</span>s<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token comment">/*
在B树的q节点中的关键字数组的i位置插入k
同时在 q节点中的孩子节点指针数组的i位置插入ap 
*/</span>
<span class="token keyword">void</span> <span class="token function">InsertBTree</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> t<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>BTNode<span class="token operator">*</span> q<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">int</span> needNewRoot<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> finished<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> 
    BTNode<span class="token operator">*</span> ap<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token comment">//空树中插入q，新建根节点 </span>
        <span class="token function">newRoot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//往q结点中插入关键字x已经新的孩子ap </span>
        x<span class="token operator">=</span>k<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>needNewRoot<span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>finished<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span><span class="token comment">//执行插入</span>
            <span class="token function">Insert</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span>i<span class="token punctuation">,</span>x<span class="token punctuation">,</span>ap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//往q结点中插入关键字x已经新的孩子ap </span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>keynum<span class="token operator">&lt;=</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                finished<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">//需要分将q分裂 </span>
                <span class="token keyword">int</span> s<span class="token operator">=</span><span class="token punctuation">(</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//分裂位置</span>
                <span class="token comment">//1~s-1位置的关键字留着q中，s+1~m-1位置的关键字放到新的结点中中</span>
                <span class="token comment">// s位置的这个关键字插入到q的父亲中。</span>
                <span class="token function">split</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span>s<span class="token punctuation">,</span>ap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//分裂；</span>
                x<span class="token operator">=</span>q<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-&gt;</span>parent <span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    q<span class="token operator">=</span>q<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
                    i<span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span>
                <span class="token punctuation">{</span>
                    needNewRoot<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>	
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>needNewRoot<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">newRoot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>q<span class="token punctuation">,</span>x<span class="token punctuation">,</span>ap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 	
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">insertKeyOperation</span><span class="token punctuation">(</span>BTree <span class="token operator">&amp;</span>t<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token comment">//引用传递</span>
    Result r<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span> k<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;输入想要插入的关键字：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token operator">=</span><span class="token function">SearchBTree</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;B树中已经有%d了,无需插入\n&quot;</span><span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            <span class="token function">InsertBTree</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>k<span class="token punctuation">,</span>r<span class="token punctuation">.</span>pt<span class="token punctuation">,</span>r<span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//把k插入到r.pt节点的r.i位置。 </span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;插入成功，此时B树结构如下：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-------------------------------------------------------\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">printfBTree</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-------------------------------------------------------\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;是否要继续插入？y or n：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span> c<span class="token punctuation">;</span>
        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">!=</span><span class="token char">'y'</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span>
<span class="token comment">//////////////////////////////////////////////////////</span>
<span class="token comment">//删除：</span>
<span class="token comment">//3.找k的中序遍历后继</span>
<span class="token keyword">void</span>  <span class="token function">Successor</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    BTree leaf<span class="token operator">=</span>p<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>leaf<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        leaf<span class="token operator">=</span>leaf<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>leaf<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    p<span class="token operator">=</span>leaf<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token comment">//4 在结点p中删除第i个位置的关键字，同时把第i个位置 的孩子也删掉 </span>
<span class="token keyword">void</span> <span class="token function">Remove</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> j<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>i<span class="token punctuation">;</span>j<span class="token operator">&lt;</span>p<span class="token operator">-&gt;</span>keynum<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token operator">-&gt;</span>ptr <span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    p<span class="token operator">-&gt;</span>keynum<span class="token operator">--</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token comment">//6.找兄弟借关键字</span>
<span class="token keyword">void</span>  <span class="token function">BorrowFromBro</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> p<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> lbro<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> rbro<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> parent<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>lbro<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>lbro<span class="token operator">-&gt;</span>keynum <span class="token operator">&gt;</span>M<span class="token punctuation">)</span><span class="token comment">//找左兄弟借 </span>
    <span class="token punctuation">{</span>
        <span class="token comment">//给新来的关键字和孩子腾位置</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>p<span class="token operator">-&gt;</span>keynum<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            p<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>p<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>	
        <span class="token punctuation">}</span> 
        <span class="token comment">//给p加一个关键字和孩子 </span>
        p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>parent<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>lbro<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>lbro<span class="token operator">-&gt;</span>keynum<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>lbro<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>lbro<span class="token operator">-&gt;</span>keynum<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            lbro<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>lbro<span class="token operator">-&gt;</span>keynum<span class="token punctuation">]</span><span class="token operator">-&gt;</span>parent<span class="token operator">=</span>p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//维护p的父亲 </span>
        parent<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>lbro<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>lbro<span class="token operator">-&gt;</span>keynum<span class="token punctuation">]</span><span class="token punctuation">;</span> 

        <span class="token comment">//左兄弟关键字少一个，p的关键字多一个 </span>
        lbro<span class="token operator">-&gt;</span>keynum<span class="token operator">--</span><span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>keynum<span class="token operator">++</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span><span class="token comment">//找右边兄弟借 </span>
        p<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>keynum<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>parent<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        p<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>keynum<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>rbro<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>rbro<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            rbro<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span>parent <span class="token operator">=</span>p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
        p<span class="token operator">-&gt;</span>keynum<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token comment">//维护父亲结点</span>
        parent<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>rbro<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
        <span class="token comment">//维护右兄弟 </span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>rbro<span class="token operator">-&gt;</span>keynum<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            rbro<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>rbro<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            rbro<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>rbro<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
        rbro<span class="token operator">-&gt;</span>keynum<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span>
<span class="token comment">//7.合并函数，把靠右的结点r，合并到靠左的结点l中r的下标是i</span>
<span class="token keyword">void</span> <span class="token function">MegerBro</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> l<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> parent<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> r<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> t<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&amp;</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//把父亲中第i个关键字和r结点中所有的关键字及孩子 放到 l结点中</span>
    l<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>l<span class="token operator">-&gt;</span>keynum<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>parent<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    l<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>l<span class="token operator">-&gt;</span>keynum<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>r<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        r<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span>parent<span class="token operator">=</span>l<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    l<span class="token operator">-&gt;</span>keynum<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token comment">//r中剩下的 1---keynum关键字及孩子放到l中 </span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>r<span class="token operator">-&gt;</span>keynum<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        l<span class="token operator">-&gt;</span>keynum<span class="token operator">++</span><span class="token punctuation">;</span>
        l<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>l<span class="token operator">-&gt;</span>keynum<span class="token punctuation">]</span><span class="token operator">=</span>r<span class="token operator">-&gt;</span>key<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        l<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>l<span class="token operator">-&gt;</span>keynum<span class="token punctuation">]</span><span class="token operator">=</span>r<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            r<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-&gt;</span>parent<span class="token operator">=</span>l<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 
    <span class="token comment">//相当于父亲结点中删除了i位置的关键字及孩子 </span>
    <span class="token function">Remove</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">//对父亲结点进行调整</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>parent<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>parent<span class="token operator">-&gt;</span>keynum<span class="token operator">&lt;</span>M<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">Restore</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>parent<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>parent<span class="token operator">-&gt;</span>keynum<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        t<span class="token operator">=</span>l<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">//5.调整函数</span>
<span class="token keyword">void</span> <span class="token function">Restore</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> t<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> p<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    BTNode<span class="token operator">*</span> parent<span class="token operator">=</span>p<span class="token operator">-&gt;</span>parent<span class="token punctuation">;</span>
    BTNode<span class="token operator">*</span> Lbro<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//p的左兄弟 </span>
    BTNode<span class="token operator">*</span> Rbro<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//p的右兄弟</span>
    <span class="token comment">//找左右兄弟---先找到p是其父亲的第i个孩子 ，左兄弟就是第i-1个孩子  右兄弟就是第i+1个孩子 </span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>parent<span class="token operator">-&gt;</span>keynum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>p<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Lbro<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>parent<span class="token operator">-&gt;</span>keynum<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Rbro<span class="token operator">=</span>parent<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//左兄弟或者右兄弟有没有多余的关键字，借给p</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Lbro<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>Lbro<span class="token operator">-&gt;</span>keynum<span class="token operator">&gt;</span>M<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>Rbro<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>Rbro<span class="token operator">-&gt;</span>keynum<span class="token operator">&gt;</span>M<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//6.借关键字</span>
        <span class="token function">BorrowFromBro</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>Lbro<span class="token punctuation">,</span>Rbro<span class="token punctuation">,</span>parent<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span><span class="token comment">//如果左右兄弟都不够借，就合并一个兄弟 </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>Lbro<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span><span class="token comment">//合并左兄弟，把p合并到左兄弟中 </span>
            <span class="token function">MegerBro</span><span class="token punctuation">(</span>Lbro<span class="token punctuation">,</span>parent<span class="token punctuation">,</span>p<span class="token punctuation">,</span>t<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//7.合并函数，i是靠左的结点的下标 </span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>Rbro<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span><span class="token comment">//合并右兄弟，把右兄弟合并到p中 </span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token function">MegerBro</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>parent<span class="token punctuation">,</span>Rbro<span class="token punctuation">,</span>t<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 

    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">//2在B树中删除节点p的第i个关键字</span>
<span class="token keyword">void</span>  <span class="token function">deleteBTree</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> t<span class="token punctuation">,</span>BTree<span class="token operator">&amp;</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token comment">//p的孩子节点不为空，p不是终端节点</span>
        <span class="token comment">//要转化成在终端节点删除</span>

        <span class="token comment">//找k的中序遍历后继k1</span>
        <span class="token function">Successor</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//p是终端结点   k在i位置</span>
    <span class="token function">Remove</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4在结点p中删除第i个位置的关键字，同时把第i个位置 的孩子也删掉 </span>

    <span class="token comment">//////调整</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>parent<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>p<span class="token operator">-&gt;</span>keynum<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token comment">//p是根节点，关键字个数小于下限，树就是空树 </span>
        t<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>parent<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>p<span class="token operator">-&gt;</span>keynum<span class="token operator">&lt;</span>M<span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token comment">//p是非根节点，关键字个数小于下限 </span>
        <span class="token comment">//进行调整 </span>
        <span class="token function">Restore</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5.调整B树（1.2）（1.3） </span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment">//1.删除函数 </span>
<span class="token keyword">void</span> <span class="token function">deleteKeyOperation</span><span class="token punctuation">(</span>BTree<span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> k<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;请给出想要删除的关键字：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Result r<span class="token operator">=</span><span class="token function">SearchBTree</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//执行删除操作</span>
            <span class="token function">deleteBTree</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>r<span class="token punctuation">.</span>pt<span class="token punctuation">,</span>r<span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;删除成功，此时B树结构如下：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-------------------------------------------------------\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">printfBTree</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-------------------------------------------------------\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	 

        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;想要删除的关键字k不在B树中\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span> 
<span class="token comment">//////////////////////////////////////////////////////// </span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    BTree t<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>

    <span class="token function">insertKeyOperation</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token function">deleteKeyOperation</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 

<span class="token comment">/*
	9
		12 22
			5 8 9
			13 15
			25 29 35
		53
			41 50
			97	

*/</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br></div></div><h2 id="b-树"><a href="#b-树" class="header-anchor">#</a> B+树</h2> <p><strong>B树和B+树的不同</strong></p> <ol><li>B+树的元素个数最大和分支数是相同的（ B树的元素个数最大要比分支个数小一 ）。</li> <li>每个元素对应子节点的最大值（ 副本 ）</li> <li>B树所有结点的关键字都有直接指向对应记录的指针，B+树叶结点包含全部关键字及指向相应记录的指针,非叶结点只作索引。</li></ol> <h3 id="b-树的三种查找"><a href="#b-树的三种查找" class="header-anchor">#</a> B+树的三种查找</h3> <ol><li><strong>顺序查找</strong>：如下图所示，B+树相较于B树在叶子节点上多了一个类似于单链表的结构，这个结构帮助我们可以只对叶子节点进行顺序查找。</li> <li><strong>随机查找</strong>：随机查找就是树型查找，目标树树从根节点出发寻找目标点。</li> <li><strong>范围查找</strong>：最小值根据随机查找到叶子节点中目标值，然后再根据顺序查找到最大值，实现范围查找。</li></ol> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408121032639.png" alt="image-20240812103243521"></p> <h1 id="串"><a href="#串" class="header-anchor">#</a> 串</h1> <p>​		串是由零个或者多个字符组成的有限序列。串中字符的个数称为串的长度，含有零个元素的串叫空串。在C语言中，可以用如下语句定义⼀个名为<code>str</code>的串。</p> <p><strong>字符串模式匹配</strong>：在主串中找到与模式串相同的子串，并返回其所在位置。</p> <h2 id="暴力匹配"><a href="#暴力匹配" class="header-anchor">#</a> 暴力匹配</h2> <ul><li><p>暴力匹配也称之为朴素模式匹配，其思想如下：</p> <ul><li>以字符为单位，从左到右移动模式串，直到匹配成功为止。</li> <li>从左到右进行匹配，如果模式串中的第⼀个字符匹配成功，这继续往后进行匹配，如果匹配失败，则模式串从文本串的下⼀个字符进行匹配，⼀直重复。</li> <li>直到匹配成功或者匹配完所有的文本串为止。</li></ul></li> <li><p>朴素模式匹配算法的缺点：</p> <ul><li>当某些子串与模式串部分匹配，⼀旦出现失配时，主串的扫描指针<code>i</code>经常回溯，导致时间开销增加。</li> <li>最坏时间复杂度O(n * m)</li></ul></li></ul> <h2 id="kmp算法"><a href="#kmp算法" class="header-anchor">#</a> KMP算法</h2> <ul><li>当子串和模式串不匹配时，主串指针<code>i</code>不回溯，通过改变模式串指针j的值，来确定子串从失配处和模式串的哪个位置进行比较，因为模式串前面的信息我在前面比较的时候已经知道信息了。</li> <li>如果能够存储子串失配后从模式串的哪个位置上进行比较，就可以实现KMP算法，故引入<code>next</code>数组，专门存放这个值。</li> <li>显然，<code>next</code>数组里的值，只跟模式串有关，因为模式串前面已经成功匹配的字符，就表示子串中已经包含了这些字符。</li></ul> <p><strong>画图演示过程</strong></p> <p><img src="https://raw.githubusercontent.com/moyangsun/ty_assist/main/img/MatLab202408121321864.png" alt="image-20240812132134735"></p> <p><strong>代码</strong></p> <p>代码考研不做要求</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">void</span> <span class="token function">GetNext</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> sub<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> next<span class="token punctuation">,</span> <span class="token keyword">int</span> lenSub<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    next<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    next<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>	<span class="token comment">// 当前下标</span>
    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	<span class="token comment">// 前一项的k，即前一项回退的下标</span>
    <span class="token comment">// 此时 j=2 的前一项next数组值为0</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;</span> lenSub<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> sub<span class="token punctuation">[</span>j <span class="token punctuation">]</span> <span class="token operator">==</span> sub<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// 情况一和数组越界情况：next[j+1] = k+1</span>
            next<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>	
            j<span class="token operator">++</span><span class="token punctuation">;</span>	<span class="token comment">// 求下一个位置</span>
            k<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            k <span class="token operator">=</span> next<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>	<span class="token comment">// 情况二：不相等则回退</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">KMP</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> sub<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> lenStr <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> lenSub <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lenStr <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> lenSub <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 对模式串sub创建next数组</span>
    <span class="token keyword">int</span><span class="token operator">*</span> next <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> lenSub<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">GetNext</span><span class="token punctuation">(</span>sub<span class="token punctuation">,</span> next<span class="token punctuation">,</span> lenSub<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 进行遍历比较</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	<span class="token comment">// 遍历主串</span>
    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	<span class="token comment">// 遍历子串</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> lenStr <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> lenSub<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> sub<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// j == -1 时，回退越界，一样进行++处理</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>	<span class="token comment">// 根据next数组进行回退</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 模式串匹配主串，则会在模式串末尾结束</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> lenSub<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> i<span class="token operator">-</span>j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 模式串不匹配主串</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> sub<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//主串 </span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//模式串 </span>

    <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token function">KMP</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#顺序表" class="sidebar-link reco-side-顺序表" data-v-b57cc07c>顺序表</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#顺序表-2" class="sidebar-link reco-side-顺序表-2" data-v-b57cc07c>顺序表</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#链表" class="sidebar-link reco-side-链表" data-v-b57cc07c>链表</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#单向链表" class="sidebar-link reco-side-单向链表" data-v-b57cc07c>单向链表</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#双向链表" class="sidebar-link reco-side-双向链表" data-v-b57cc07c>双向链表</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#循环链表" class="sidebar-link reco-side-循环链表" data-v-b57cc07c>循环链表</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#循环双向链表" class="sidebar-link reco-side-循环双向链表" data-v-b57cc07c>循环双向链表</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#栈" class="sidebar-link reco-side-栈" data-v-b57cc07c>栈</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#顺序栈" class="sidebar-link reco-side-顺序栈" data-v-b57cc07c>顺序栈</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#链栈" class="sidebar-link reco-side-链栈" data-v-b57cc07c>链栈</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#栈的应用" class="sidebar-link reco-side-栈的应用" data-v-b57cc07c>栈的应用</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#队列" class="sidebar-link reco-side-队列" data-v-b57cc07c>队列</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#单项队列" class="sidebar-link reco-side-单项队列" data-v-b57cc07c>单项队列</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#循环队列" class="sidebar-link reco-side-循环队列" data-v-b57cc07c>循环队列</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#双端队列" class="sidebar-link reco-side-双端队列" data-v-b57cc07c>双端队列</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#普通树" class="sidebar-link reco-side-普通树" data-v-b57cc07c>普通树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#树的性质" class="sidebar-link reco-side-树的性质" data-v-b57cc07c>树的性质</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#树的基本术语" class="sidebar-link reco-side-树的基本术语" data-v-b57cc07c>树的基本术语</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#树的存储之双亲表示法" class="sidebar-link reco-side-树的存储之双亲表示法" data-v-b57cc07c>树的存储之双亲表示法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#树的存储之孩子表示法" class="sidebar-link reco-side-树的存储之孩子表示法" data-v-b57cc07c>树的存储之孩子表示法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#树的存储的孩子兄弟表示法" class="sidebar-link reco-side-树的存储的孩子兄弟表示法" data-v-b57cc07c>树的存储的孩子兄弟表示法</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉树" class="sidebar-link reco-side-二叉树" data-v-b57cc07c>二叉树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#满二叉树" class="sidebar-link reco-side-满二叉树" data-v-b57cc07c>满⼆叉树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#完全二叉树" class="sidebar-link reco-side-完全二叉树" data-v-b57cc07c>完全⼆叉树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉树的存储" class="sidebar-link reco-side-二叉树的存储" data-v-b57cc07c>二叉树的存储</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉树的遍历" class="sidebar-link reco-side-二叉树的遍历" data-v-b57cc07c>二叉树的遍历</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉树的总代码" class="sidebar-link reco-side-二叉树的总代码" data-v-b57cc07c>二叉树的总代码</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#树、二叉树和森林的转换" class="sidebar-link reco-side-树、二叉树和森林的转换" data-v-b57cc07c>树、二叉树和森林的转换</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#普通树转为二叉树" class="sidebar-link reco-side-普通树转为二叉树" data-v-b57cc07c>普通树转为二叉树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#森林转换为二叉树" class="sidebar-link reco-side-森林转换为二叉树" data-v-b57cc07c>森林转换为二叉树</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#线索二叉树" class="sidebar-link reco-side-线索二叉树" data-v-b57cc07c>线索二叉树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#将一棵二叉树进行线索化" class="sidebar-link reco-side-将一棵二叉树进行线索化" data-v-b57cc07c>将一棵二叉树进行线索化</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#中序遍历找前驱" class="sidebar-link reco-side-中序遍历找前驱" data-v-b57cc07c>中序遍历找前驱</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#中序遍历找后继" class="sidebar-link reco-side-中序遍历找后继" data-v-b57cc07c>中序遍历找后继</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉查找树-bst树" class="sidebar-link reco-side-二叉查找树-bst树" data-v-b57cc07c>二叉查找树（BST树）</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉查找树之初始化" class="sidebar-link reco-side-二叉查找树之初始化" data-v-b57cc07c>二叉查找树之初始化</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉查找树之插入节点" class="sidebar-link reco-side-二叉查找树之插入节点" data-v-b57cc07c>二叉查找树之插入节点</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉查找树之删除节点" class="sidebar-link reco-side-二叉查找树之删除节点" data-v-b57cc07c>二叉查找树之删除节点</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#平衡二叉树-avl树" class="sidebar-link reco-side-平衡二叉树-avl树" data-v-b57cc07c>平衡二叉树（AVL树）</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#平衡二叉树的旋转" class="sidebar-link reco-side-平衡二叉树的旋转" data-v-b57cc07c>平衡二叉树的旋转</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#平衡二叉树四种插入节点的方式" class="sidebar-link reco-side-平衡二叉树四种插入节点的方式" data-v-b57cc07c>平衡二叉树四种插入节点的方式</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#平衡二叉树之属性结合" class="sidebar-link reco-side-平衡二叉树之属性结合" data-v-b57cc07c>平衡二叉树之属性结合</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#平衡二叉树之创造节点操作" class="sidebar-link reco-side-平衡二叉树之创造节点操作" data-v-b57cc07c>平衡二叉树之创造节点操作</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#平衡二叉树之插入操作" class="sidebar-link reco-side-平衡二叉树之插入操作" data-v-b57cc07c>平衡二叉树之插入操作</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#平衡二叉树之删除操作" class="sidebar-link reco-side-平衡二叉树之删除操作" data-v-b57cc07c>平衡二叉树之删除操作</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#二叉排序树之全部代码" class="sidebar-link reco-side-二叉排序树之全部代码" data-v-b57cc07c>二叉排序树之全部代码</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#并查集" class="sidebar-link reco-side-并查集" data-v-b57cc07c>并查集</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#并查集的初始化" class="sidebar-link reco-side-并查集的初始化" data-v-b57cc07c>并查集的初始化</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#并查集的查找" class="sidebar-link reco-side-并查集的查找" data-v-b57cc07c>并查集的查找</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#并查集的合并" class="sidebar-link reco-side-并查集的合并" data-v-b57cc07c>并查集的合并</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#并查集的总代码" class="sidebar-link reco-side-并查集的总代码" data-v-b57cc07c>并查集的总代码</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#哈夫曼树" class="sidebar-link reco-side-哈夫曼树" data-v-b57cc07c>哈夫曼树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#哈夫曼编码" class="sidebar-link reco-side-哈夫曼编码" data-v-b57cc07c>哈夫曼编码</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#哈夫曼编码树之创立哈夫曼树" class="sidebar-link reco-side-哈夫曼编码树之创立哈夫曼树" data-v-b57cc07c>哈夫曼编码树之创立哈夫曼树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#哈夫曼编码树之求每个字母的编码" class="sidebar-link reco-side-哈夫曼编码树之求每个字母的编码" data-v-b57cc07c>哈夫曼编码树之求每个字母的编码</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#哈夫曼树的总代码" class="sidebar-link reco-side-哈夫曼树的总代码" data-v-b57cc07c>哈夫曼树的总代码</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#图的相关概念" class="sidebar-link reco-side-图的相关概念" data-v-b57cc07c>图的相关概念</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#图的存储" class="sidebar-link reco-side-图的存储" data-v-b57cc07c>图的存储</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#邻接矩阵" class="sidebar-link reco-side-邻接矩阵" data-v-b57cc07c>邻接矩阵</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#邻接表" class="sidebar-link reco-side-邻接表" data-v-b57cc07c>邻接表</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#十字链表" class="sidebar-link reco-side-十字链表" data-v-b57cc07c>十字链表</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#邻接多重表" class="sidebar-link reco-side-邻接多重表" data-v-b57cc07c>邻接多重表</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#图的遍历" class="sidebar-link reco-side-图的遍历" data-v-b57cc07c>图的遍历</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#深度优先搜索-dfs" class="sidebar-link reco-side-深度优先搜索-dfs" data-v-b57cc07c>深度优先搜索（DFS）</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#广度优先搜索-bfs" class="sidebar-link reco-side-广度优先搜索-bfs" data-v-b57cc07c>广度优先搜索（BFS）</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#最小生成树" class="sidebar-link reco-side-最小生成树" data-v-b57cc07c>最小生成树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#克鲁斯卡尔-kruskal-算法" class="sidebar-link reco-side-克鲁斯卡尔-kruskal-算法" data-v-b57cc07c>克鲁斯卡尔（Kruskal）算法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#普里姆-prim-算法" class="sidebar-link reco-side-普里姆-prim-算法" data-v-b57cc07c>普里姆（Prim）  算法</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#最短路径" class="sidebar-link reco-side-最短路径" data-v-b57cc07c>最短路径</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#迪杰斯特拉-dijkstra-算法" class="sidebar-link reco-side-迪杰斯特拉-dijkstra-算法" data-v-b57cc07c>迪杰斯特拉（Dijkstra）算法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#弗洛伊德算法-floyd-算法" class="sidebar-link reco-side-弗洛伊德算法-floyd-算法" data-v-b57cc07c>弗洛伊德算法（Floyd） 算法</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#拓扑排序" class="sidebar-link reco-side-拓扑排序" data-v-b57cc07c>拓扑排序</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#关键路径" class="sidebar-link reco-side-关键路径" data-v-b57cc07c>关键路径</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#插入排序" class="sidebar-link reco-side-插入排序" data-v-b57cc07c>插入排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#直接插入排序" class="sidebar-link reco-side-直接插入排序" data-v-b57cc07c>直接插入排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#折半插入排序" class="sidebar-link reco-side-折半插入排序" data-v-b57cc07c>折半插入排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#希尔排序" class="sidebar-link reco-side-希尔排序" data-v-b57cc07c>希尔排序</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#交换排序" class="sidebar-link reco-side-交换排序" data-v-b57cc07c>交换排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#冒泡排序" class="sidebar-link reco-side-冒泡排序" data-v-b57cc07c>冒泡排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#快速排序" class="sidebar-link reco-side-快速排序" data-v-b57cc07c>快速排序</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#选择排序" class="sidebar-link reco-side-选择排序" data-v-b57cc07c>选择排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#简单的选择排序" class="sidebar-link reco-side-简单的选择排序" data-v-b57cc07c>简单的选择排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#堆排序" class="sidebar-link reco-side-堆排序" data-v-b57cc07c>堆排序</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#归并排序" class="sidebar-link reco-side-归并排序" data-v-b57cc07c>归并排序</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#统计排序" class="sidebar-link reco-side-统计排序" data-v-b57cc07c>统计排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#计数排序" class="sidebar-link reco-side-计数排序" data-v-b57cc07c>计数排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#桶排序" class="sidebar-link reco-side-桶排序" data-v-b57cc07c>桶排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#基数排序" class="sidebar-link reco-side-基数排序" data-v-b57cc07c>基数排序</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#排序总览" class="sidebar-link reco-side-排序总览" data-v-b57cc07c>排序总览</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#顺序查找" class="sidebar-link reco-side-顺序查找" data-v-b57cc07c>顺序查找</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#折半查找" class="sidebar-link reco-side-折半查找" data-v-b57cc07c>折半查找</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#红黑树" class="sidebar-link reco-side-红黑树" data-v-b57cc07c>红黑树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#红黑树的插入" class="sidebar-link reco-side-红黑树的插入" data-v-b57cc07c>红黑树的插入</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#红黑树的删除" class="sidebar-link reco-side-红黑树的删除" data-v-b57cc07c>红黑树的删除</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#红黑树代码" class="sidebar-link reco-side-红黑树代码" data-v-b57cc07c>红黑树代码</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#b树" class="sidebar-link reco-side-b树" data-v-b57cc07c>B树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#b树的特性" class="sidebar-link reco-side-b树的特性" data-v-b57cc07c>B树的特性</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#b树的插入" class="sidebar-link reco-side-b树的插入" data-v-b57cc07c>B树的插入</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#b树的删除" class="sidebar-link reco-side-b树的删除" data-v-b57cc07c>B树的删除</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#b树的代码" class="sidebar-link reco-side-b树的代码" data-v-b57cc07c>B树的代码</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#b-树" class="sidebar-link reco-side-b-树" data-v-b57cc07c>B+树</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#b-树的三种查找" class="sidebar-link reco-side-b-树的三种查找" data-v-b57cc07c>B+树的三种查找</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#暴力匹配" class="sidebar-link reco-side-暴力匹配" data-v-b57cc07c>暴力匹配</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/category1/2024/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html#kmp算法" class="sidebar-link reco-side-kmp算法" data-v-b57cc07c>KMP算法</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.c8e3a0f1.js" defer></script><script src="/assets/js/3.1f40c1f2.js" defer></script><script src="/assets/js/1.fd77260d.js" defer></script><script src="/assets/js/20.13402627.js" defer></script>
  </body>
</html>
